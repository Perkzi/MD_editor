import{_ as Mo,a as ei,o as ze,i as Ss,e as Br,d as Hr,c as cn,F as eo,j as no,b as ue,t as ji,k as Qp,B as Sf,z as Gu,v as Lh,r as ti,l as da,m as _c,u as ur,y as Oo,g as Ku,f as Yu,p as Ac,h as Sc,I as t1,J as kh,K as Ju,L as e1,w as n1,n as wl,M as Oh,N as r1,G as Eh,O as i1,P as o1,H as s1,Q as a1,R as l1,D as u1,S as c1}from"./index-8beac963.js";import{c as f1,e as h1}from"./execcontent-460ef1f4.js";import{b as xf,d as d1,s as p1,h as g1,i as v1}from"./index-158356a7.js";const m1={style:{width:"100%",height:"100%"}},y1={class:"dropdownItem"},b1=["innerHTML"],w1=["title"],_1={__name:"index",props:{trigger:{type:String,default:"click"},list:{type:Array,default:()=>[]}},emits:["handleCommand","handleOpen","handleClose"],setup(n,{emit:t}){const e=o=>t("handleCommand",o),r=()=>t("handleOpen"),i=()=>t("handleClose");return(o,s)=>{const l=ei("el-dropdown-item"),u=ei("el-dropdown-menu"),d=ei("el-scrollbar"),p=ei("el-dropdown");return ze(),Ss(p,{trigger:n.trigger,onHandleOpen:r,onHandleClose:i,onCommand:e},{dropdown:Br(()=>[Hr(d,{height:"200px"},{default:Br(()=>[Hr(u,null,{default:Br(()=>[(ze(!0),cn(eo,null,no(n.list,h=>(ze(),Ss(l,{key:h.command,command:h.command},{default:Br(()=>[ue("div",y1,[ue("div",{innerHTML:h.userimg,class:"userimg_svg"},null,8,b1),ue("span",{title:h.username},ji(h.username),9,w1)])]),_:2},1032,["command"]))),128))]),_:1})]),_:1})]),default:Br(()=>[ue("div",m1,[Qp(o.$slots,"content",{},void 0,!0)])]),_:3},8,["trigger"])}}},Ph=Mo(_1,[["__scopeId","data-v-1d0c1e4d"]]);const A1={class:"list"},S1=["innerHTML"],x1={__name:"userList",props:{userList:{type:Array,default:()=>[]}},emits:["command"],setup(n,{emit:t}){const e=i=>t("command",i),r=i=>-10*i;return(i,o)=>{const s=ei("el-avatar");return ze(),Ss(Ph,{list:n.userList,onCommand:e},{content:Br(()=>[ue("div",A1,[(ze(!0),cn(eo,null,no(n.userList.slice(0,3),(l,u)=>(ze(),cn("div",{style:Sf({transform:`translateX(${r(u)}px)`}),key:u,class:"userimg_svg",innerHTML:l.userimg},null,12,S1))),128)),n.userList.length>3?(ze(),Ss(s,{key:0,class:"allUser",shape:"square",style:Sf({transform:`translateX(${n.userList.length>3?-30:n.userList.length*-10}px)`})},{default:Br(()=>[Gu(ji(n.userList.length),1)]),_:1},8,["style"])):Lh("",!0)])]),_:1},8,["list"])}}},N1=Mo(x1,[["__scopeId","data-v-66f08092"]]);const L1={class:"list"},k1=["onClick"],O1={__name:"history",props:{versionList:{type:Array,default:()=>[]}},setup(n){const t=i=>console.log("Command triggered:",i),e=i=>{const o=new Date(i),s=o.getFullYear(),l=String(o.getMonth()+1).padStart(2,"0"),u=String(o.getDate()).padStart(2,"0");return`${s}-${l}-${u}`},r=i=>{console.log(i)};return(i,o)=>(ze(),Ss(Ph,{list:n.versionList,onCommand:t},{content:Br(()=>[ue("div",L1,[(ze(!0),cn(eo,null,no(n.versionList.slice(0,5),(s,l)=>(ze(),cn("div",{key:l},[ue("div",{class:"version-card",onClick:u=>r(s.fileid)},[ue("h4",null,"版本号: "+ji(s.index),1),ue("p",null,"创建时间: "+ji(e(s.createtime)),1)],8,k1)]))),128))])]),_:1},8,["list"]))}},E1=Mo(O1,[["__scopeId","data-v-417d4970"]]);const Na=n=>(Ac("data-v-50ca6b78"),n=n(),Sc(),n),P1={class:"header"},C1={class:"header-left"},T1=Na(()=>ue("i",{class:"iconfont icon-shouye1",style:{color:"var(--main-color)"}},null,-1)),I1=[T1],j1=["title"],M1={key:0,class:"iconfont icon-shoucang"},D1={key:1,class:"iconfont icon-shoucang1"},R1={class:"header-left-news"},q1=Na(()=>ue("i",{class:"iconfont icon-oko"},null,-1)),F1={class:"newUserName"},B1={class:"header-right"},U1={class:"header-right-userlist",title:"正在编辑的人"},z1=Na(()=>ue("div",{class:"header-right-markdown",title:"切换模式"},[ue("i",{class:"iconfont icon-markdown1"})],-1)),H1=Na(()=>ue("div",{class:"icon-container"},[ue("i",{class:"iconfont icon-lishi"})],-1)),V1=[H1],W1={key:0,class:"history-list"},$1=Na(()=>ue("i",{class:"iconfont icon-xiaoxizhongxin"},null,-1)),G1={class:"header-right-shear",title:"分享"},K1={class:"header-right-userimg",title:"我的信息"},Y1=["innerHTML"],J1={__name:"top",props:{socketuserlist:{type:Array},unread:{type:Number,default:0}},emits:["open"],setup(n,{emit:t}){const e=()=>t("open"),r=ti([]);let i=ti(""),o=da({usersvg:"",userimg:"",username:""});const s=ti(!1);ti("markdown");const l=_=>{},u=_=>{console.log("点击了history",_)};async function d(){let{username:_,userid:A}=JSON.parse(sessionStorage.getItem("user")),v=window.location.hash.split("edit/")[1],{data:g}=await xf({userid:A,fileid:v}),{filename:y,filesuffix:b}=g,x=f1(_,v,y+"."+b);h1(x),Oo.success("分享链接已复制到粘贴板")}const p=()=>{s.value=!s.value,s.value?Oo.success("已收藏"):Oo.success("已取消")},h=ti(!1),f=async _=>{var v;h.value=!h.value,_.stopPropagation();let A=new URLSearchParams(window.location.search).get("fileid");A||(A=(v=window.location.hash.split("/edit/")[1])==null?void 0:v.split("?")[0]);try{const{data:g}=await d1({fileid:A}),y=Object.keys(g).map(b=>g[b]);console.log("Version history (array format)",y),r.value=y}catch(g){console.error("Failed to fetch version history:",g)}},a=()=>{Ku.state.WebsocketProvider.disconnect(),Ku.commit("setWebsocketProvider",null),Yu.push("/home/pages")};let m=null;return _c(async()=>{var b;let{username:_,userid:A}=JSON.parse(sessionStorage.getItem("user"));m=_;let v=new URLSearchParams(window.location.search).get("fileid");v||(v=(b=window.location.hash.split("/edit/")[1])==null?void 0:b.split("?")[0]);let{data:g}=await xf({userid:A,fileid:v});i.value=`${g.filename}.${g.suffix||g.filesuffix}`;let{userimg:y}=JSON.parse(sessionStorage.getItem("user"));y.toString().includes("<svg")?o.usersvg=y:o.userimg=y}),(_,A)=>{const v=ei("el-badge"),g=ei("el-button"),y=ei("el-avatar");return ze(),cn("div",P1,[ue("div",C1,[ue("div",{class:"header-left-home",title:"返回首页",onClick:a},I1),ue("div",{class:"header-left-filename",title:ur(i)},ji(ur(i)),9,j1),ue("div",{class:"header-left-favor",onClick:p,title:"收藏"},[s.value?(ze(),cn("i",D1)):(ze(),cn("i",M1))]),ue("div",R1,[q1,ue("span",null,[Gu(" 上次修改: "),ue("span",F1,ji(ur(m)),1)])])]),ue("div",B1,[ue("div",U1,[Hr(N1,{userList:n.socketuserlist,onCommand:l},null,8,["userList"])]),z1,ue("div",{class:"header-right-history",title:"历史记录",onClick:f},V1),h.value?(ze(),cn("div",W1,[Hr(E1,{versionList:r.value,onCommand:u},null,8,["versionList"])])):Lh("",!0),ue("div",{class:"header-right-setting",title:"消息",onClick:e},[Hr(v,{value:n.unread||"",class:"item"},{default:Br(()=>[$1]),_:1},8,["value"])]),ue("div",G1,[Hr(g,{type:"primary",size:"small",onClick:d},{default:Br(()=>[Gu("分享")]),_:1})]),ue("div",K1,[ur(o).usersvg?(ze(),cn("div",{key:0,class:"userimg_svg",innerHTML:ur(o).usersvg},null,8,Y1)):(ze(),Ss(y,{key:1,shape:"square",src:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png"}))])])])}}},X1=Mo(J1,[["__scopeId","data-v-50ca6b78"]]),Z1=["😀","😁","😂","😃","😄","😅","😆","😇","😈","😉","😊","😋","😌","😍","😎","😏","😐","😑","😒","😓","😔","😕","😖","😗","😘","😙","😚","😛","😜","😝","😞","😟","😠","😡","😢","😣","😤","😥","😦","😧","😨","😩","😪","😫","😬","😭","😮","😯","😰","😱","😲","😳","😴","😵","😶","😷","😸","😹","😺","😻","😼","😽","😾","😿","🙀","🙁","🙂","🙃","🙄","🙅🏻‍♀️","🙅🏻‍♂️","🙅🏻","🙅🏼‍♀️","🙅🏼‍♂️","🙅🏼","🙅🏽‍♀️","🙅🏽‍♂️","🙅🏽","🙅🏾‍♀️","🙅🏾‍♂️","🙅🏾","🙅🏿‍♀️","🙅🏿‍♂️","🙅🏿","🙅‍♀️","🙅‍♂️","🙅","🙆🏻‍♀️","🙆🏻‍♂️","🙆🏻","🙆🏼‍♀️","🙆🏼‍♂️","🙆🏼","🙆🏽‍♀️","🙆🏽‍♂️","🙆🏽","🙆🏾‍♀️","🙆🏾‍♂️","🙆🏾","🙆🏿‍♀️","🙆🏿‍♂️","🙆🏿","🙆‍♀️","🙆‍♂️","🙆","🙇🏻‍♀️","🙇🏻‍♂️","🙇🏻","🙇🏼‍♀️","🙇🏼‍♂️","🙇🏼","🙇🏽‍♀️","🙇🏽‍♂️","🙇🏽","🙇🏾‍♀️","🙇🏾‍♂️","🙇🏾","🙇🏿‍♀️","🙇🏿‍♂️","🙇🏿","🙇‍♀️","🙇‍♂️","🙇","🙈","🙉","🙊","🙋🏻‍♀️","🙋🏻‍♂️","🙋🏻","🙋🏼‍♀️","🙋🏼‍♂️","🙋🏼","🙋🏽‍♀️","🙋🏽‍♂️","🙋🏽","🙋🏾‍♀️","🙋🏾‍♂️","🙋🏾","🙋🏿‍♀️","🙋🏿‍♂️","🙋🏿","🙋‍♀️","🙋‍♂️","🙋","🙌🏻","🙌🏼","🙌🏽","🙌🏾","🙌🏿","🙌","🙍🏻‍♀️","🙍🏻‍♂️","🙍🏻","🙍🏼‍♀️","🙍🏼‍♂️","🙍🏼","🙍🏽‍♀️","🙍🏽‍♂️","🙍🏽","🙍🏾‍♀️","🙍🏾‍♂️","🙍🏾","🙍🏿‍♀️","🙍🏿‍♂️","🙍🏿","🙍‍♀️","🙍‍♂️","🙍","🙎🏻‍♀️","🙎🏻‍♂️","🙎🏻","🙎🏼‍♀️","🙎🏼‍♂️","🙎🏼","🙎🏽‍♀️","🙎🏽‍♂️","🙎🏽","🙎🏾‍♀️","🙎🏾‍♂️","🙎🏾","🙎🏿‍♀️","🙎🏿‍♂️","🙎🏿","🙎‍♀️","🙎‍♂️","🙎","🙏🏻","🙏🏼","🙏🏽","🙏🏾","🙏🏿","🙏","🚀","🚁","🚂","🚃","🚄","🚅","🚆","🚇","🚈","🚉","🚊","🚋","🚌","🚍","🚎","🚏","🚐","🚑","🚒","🚓","🚔","🚕","🚖","🚗","🚘","🚙","🚚","🚛","🚜","🚝","🚞","🚟","🚠","🚡","🚢","🚣🏻‍♀️","🚣🏻‍♂️","🚣🏻","🚣🏼‍♀️","🚣🏼‍♂️","🚣🏼","🚣🏽‍♀️","🚣🏽‍♂️","🚣🏽","🚣🏾‍♀️","🚣🏾‍♂️","🚣🏾","🚣🏿‍♀️","🚣🏿‍♂️","🚣🏿","🚣‍♀️","🚣‍♂️","🚣","🚤","🚥","🚦","🚧","🚨","🚩","🚪","🚫","🚬","🚭","🚮","🚯","🚰","🚱","🚲","🚳","🚴🏻‍♀️","🚴🏻‍♂️","🚴🏻","🚴🏼‍♀️","🚴🏼‍♂️","🚴🏼","🚴🏽‍♀️","🚴🏽‍♂️","🚴🏽","🚴🏾‍♀️","🚴🏾‍♂️","🚴🏾","🚴🏿‍♀️","🚴🏿‍♂️","🚴🏿","🚴‍♀️","🚴‍♂️","🚴","🚵🏻‍♀️","🚵🏻‍♂️","🚵🏻","🚵🏼‍♀️","🚵🏼‍♂️","🚵🏼","🚵🏽‍♀️","🚵🏽‍♂️","🚵🏽","🚵🏾‍♀️","🚵🏾‍♂️","🚵🏾","🚵🏿‍♀️","🚵🏿‍♂️","🚵🏿","🚵‍♀️","🚵‍♂️","🚵","🚶🏻‍♀️","🚶🏻‍♂️","🚶🏻","🚶🏼‍♀️","🚶🏼‍♂️","🚶🏼","🚶🏽‍♀️","🚶🏽‍♂️","🚶🏽","🚶🏾‍♀️","🚶🏾‍♂️","🚶🏾","🚶🏿‍♀️","🚶🏿‍♂️","🚶🏿","🚶‍♀️","🚶‍♂️","🚶","🚷","🚸","🚹","🚺","🚻","🚼","🚽","🚾","🚿","🛀🏻","🛀🏼","🛀🏽","🛀🏾","🛀🏿","🛀","🛁","🛂","🛃","🛄","🛅","🛋️","🛌🏻","🛌🏼","🛌🏽","🛌🏾","🛌🏿","🛌","🛍️","🛎️","🛏️","🛐","🛑","🛒","🛕","🛠️","🛡️","🛢️","🛣️","🛤️","🛥️","🛩️","🛫","🛬","🛰️","🛳️","🛴","🛵","🛶","🛷","🛸","🛹","🛺","🟠","🟡","🟢","🟣","🟤","🟥","🟦","🟧","🟨","🟩","🟪","🟫","🤍","🤎","🤏🏻","🤏🏼","🤏🏽","🤏🏾","🤏🏿","🤏","🤐","🤑","🤒","🤓","🤔","🤕","🤖","🤗","🤘🏻","🤘🏼","🤘🏽","🤘🏾","🤘🏿","🤘","🤙🏻","🤙🏼","🤙🏽","🤙🏾","🤙🏿","🤙","🤚🏻","🤚🏼","🤚🏽","🤚🏾","🤚🏿","🤚","🤛🏻","🤛🏼","🤛🏽","🤛🏾","🤛🏿","🤛","🤜🏻","🤜🏼","🤜🏽","🤜🏾","🤜🏿","🤜","🤝","🤞🏻","🤞🏼","🤞🏽","🤞🏾","🤞🏿","🤞","🤟🏻","🤟🏼","🤟🏽","🤟🏾","🤟🏿","🤟","🤠","🤡","🤢","🤣","🤤","🤥","🤦🏻‍♀️","🤦🏻‍♂️","🤦🏻","🤦🏼‍♀️","🤦🏼‍♂️","🤦🏼","🤦🏽‍♀️","🤦🏽‍♂️","🤦🏽","🤦🏾‍♀️","🤦🏾‍♂️","🤦🏾","🤦🏿‍♀️","🤦🏿‍♂️","🤦🏿","🤦‍♀️","🤦‍♂️","🤦","🤧","🤨","🤩","🤪","🤫","🤬","🤭","🤮","🤯","🤰🏻","🤰🏼","🤰🏽","🤰🏾","🤰🏿","🤰","🤱🏻","🤱🏼","🤱🏽","🤱🏾","🤱🏿","🤱","🤲🏻","🤲🏼","🤲🏽","🤲🏾","🤲🏿","🤲","🤳🏻","🤳🏼","🤳🏽","🤳🏾","🤳🏿","🤳","🤴🏻","🤴🏼","🤴🏽","🤴🏾","🤴🏿","🤴","🤵🏻‍♀️","🤵🏻‍♂️","🤵🏻","🤵🏼‍♀️","🤵🏼‍♂️","🤵🏼","🤵🏽‍♀️","🤵🏽‍♂️","🤵🏽","🤵🏾‍♀️","🤵🏾‍♂️","🤵🏾","🤵🏿‍♀️","🤵🏿‍♂️","🤵🏿","🤵‍♀️","🤵‍♂️","🤵","🤶🏻","🤶🏼","🤶🏽","🤶🏾","🤶🏿","🤶","🤷🏻‍♀️","🤷🏻‍♂️","🤷🏻","🤷🏼‍♀️","🤷🏼‍♂️","🤷🏼","🤷🏽‍♀️","🤷🏽‍♂️","🤷🏽","🤷🏾‍♀️","🤷🏾‍♂️","🤷🏾","🤷🏿‍♀️","🤷🏿‍♂️","🤷🏿","🤷‍♀️","🤷‍♂️","🤷","🤸🏻‍♀️","🤸🏻‍♂️","🤸🏻","🤸🏼‍♀️","🤸🏼‍♂️","🤸🏼","🤸🏽‍♀️","🤸🏽‍♂️","🤸🏽","🤸🏾‍♀️","🤸🏾‍♂️","🤸🏾","🤸🏿‍♀️","🤸🏿‍♂️","🤸🏿","🤸‍♀️","🤸‍♂️","🤸","🤹🏻‍♀️","🤹🏻‍♂️","🤹🏻","🤹🏼‍♀️","🤹🏼‍♂️","🤹🏼","🤹🏽‍♀️","🤹🏽‍♂️","🤹🏽","🤹🏾‍♀️","🤹🏾‍♂️","🤹🏾","🤹🏿‍♀️","🤹🏿‍♂️","🤹🏿","🤹‍♀️","🤹‍♂️","🤹","🤺","🤼‍♀️","🤼‍♂️","🤼","🤽🏻‍♀️","🤽🏻‍♂️","🤽🏻","🤽🏼‍♀️","🤽🏼‍♂️","🤽🏼","🤽🏽‍♀️","🤽🏽‍♂️","🤽🏽","🤽🏾‍♀️","🤽🏾‍♂️","🤽🏾","🤽🏿‍♀️","🤽🏿‍♂️","🤽🏿","🤽‍♀️","🤽‍♂️","🤽","🤾🏻‍♀️","🤾🏻‍♂️","🤾🏻","🤾🏼‍♀️","🤾🏼‍♂️","🤾🏼","🤾🏽‍♀️","🤾🏽‍♂️","🤾🏽","🤾🏾‍♀️","🤾🏾‍♂️","🤾🏾","🤾🏿‍♀️","🤾🏿‍♂️","🤾🏿","🤾‍♀️","🤾‍♂️","🤾","🤿","🥀","🥁","🥂","🥃","🥄","🥅","🥇","🥈","🥉","🥊","🥋","🥌","🥍","🥎","🥏","🥐","🥑","🥒","🥓","🥔","🥕","🥖","🥗","🥘","🥙","🥚","🥛","🥜","🥝","🥞","🥟","🥠","🥡","🥢","🥣","🥤","🥥","🥦","🥧","🥨","🥩","🥪","🥫","🥬","🥭","🥮","🥯","🥰","🥱","🥳","🥴","🥵","🥶","🥺"];var Ch={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(n,t){(function(r,i){n.exports=i()})(typeof self<"u"?self:t1,function(){return function(e){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return e[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=r,i.d=function(o,s,l){i.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:l})},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s=109)}([function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(17),s=i(18),l=i(19),u=i(45),d=i(46),p=i(47),h=i(48),f=i(49),a=i(12),m=i(32),_=i(33),A=i(31),v=i(1),g={Scope:v.Scope,create:v.create,find:v.find,query:v.query,register:v.register,Container:o.default,Format:s.default,Leaf:l.default,Embed:h.default,Scroll:u.default,Block:p.default,Inline:d.default,Text:f.default,Attributor:{Attribute:a.default,Class:m.default,Style:_.default,Store:A.default}};r.default=g},function(e,r,i){var o=this&&this.__extends||function(){var A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,g){v.__proto__=g}||function(v,g){for(var y in g)g.hasOwnProperty(y)&&(v[y]=g[y])};return function(v,g){A(v,g);function y(){this.constructor=v}v.prototype=g===null?Object.create(g):(y.prototype=g.prototype,new y)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=function(A){o(v,A);function v(g){var y=this;return g="[Parchment] "+g,y=A.call(this,g)||this,y.message=g,y.name=y.constructor.name,y}return v}(Error);r.ParchmentError=s;var l={},u={},d={},p={};r.DATA_KEY="__blot";var h;(function(A){A[A.TYPE=3]="TYPE",A[A.LEVEL=12]="LEVEL",A[A.ATTRIBUTE=13]="ATTRIBUTE",A[A.BLOT=14]="BLOT",A[A.INLINE=7]="INLINE",A[A.BLOCK=11]="BLOCK",A[A.BLOCK_BLOT=10]="BLOCK_BLOT",A[A.INLINE_BLOT=6]="INLINE_BLOT",A[A.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",A[A.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",A[A.ANY=15]="ANY"})(h=r.Scope||(r.Scope={}));function f(A,v){var g=m(A);if(g==null)throw new s("Unable to create "+A+" blot");var y=g,b=A instanceof Node||A.nodeType===Node.TEXT_NODE?A:y.create(v);return new y(b,v)}r.create=f;function a(A,v){return v===void 0&&(v=!1),A==null?null:A[r.DATA_KEY]!=null?A[r.DATA_KEY].blot:v?a(A.parentNode,v):null}r.find=a;function m(A,v){v===void 0&&(v=h.ANY);var g;if(typeof A=="string")g=p[A]||l[A];else if(A instanceof Text||A.nodeType===Node.TEXT_NODE)g=p.text;else if(typeof A=="number")A&h.LEVEL&h.BLOCK?g=p.block:A&h.LEVEL&h.INLINE&&(g=p.inline);else if(A instanceof HTMLElement){var y=(A.getAttribute("class")||"").split(/\s+/);for(var b in y)if(g=u[y[b]],g)break;g=g||d[A.tagName]}return g==null?null:v&h.LEVEL&g.scope&&v&h.TYPE&g.scope?g:null}r.query=m;function _(){for(var A=[],v=0;v<arguments.length;v++)A[v]=arguments[v];if(A.length>1)return A.map(function(b){return _(b)});var g=A[0];if(typeof g.blotName!="string"&&typeof g.attrName!="string")throw new s("Invalid definition");if(g.blotName==="abstract")throw new s("Cannot register abstract class");if(p[g.blotName||g.attrName]=g,typeof g.keyName=="string")l[g.keyName]=g;else if(g.className!=null&&(u[g.className]=g),g.tagName!=null){Array.isArray(g.tagName)?g.tagName=g.tagName.map(function(b){return b.toUpperCase()}):g.tagName=g.tagName.toUpperCase();var y=Array.isArray(g.tagName)?g.tagName:[g.tagName];y.forEach(function(b){(d[b]==null||g.className==null)&&(d[b]=g)})}return g}r.register=_},function(e,r,i){var o=i(51),s=i(11),l=i(3),u=i(20),d=String.fromCharCode(0),p=function(h){Array.isArray(h)?this.ops=h:h!=null&&Array.isArray(h.ops)?this.ops=h.ops:this.ops=[]};p.prototype.insert=function(h,f){var a={};return h.length===0?this:(a.insert=h,f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(a.attributes=f),this.push(a))},p.prototype.delete=function(h){return h<=0?this:this.push({delete:h})},p.prototype.retain=function(h,f){if(h<=0)return this;var a={retain:h};return f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(a.attributes=f),this.push(a)},p.prototype.push=function(h){var f=this.ops.length,a=this.ops[f-1];if(h=l(!0,{},h),typeof a=="object"){if(typeof h.delete=="number"&&typeof a.delete=="number")return this.ops[f-1]={delete:a.delete+h.delete},this;if(typeof a.delete=="number"&&h.insert!=null&&(f-=1,a=this.ops[f-1],typeof a!="object"))return this.ops.unshift(h),this;if(s(h.attributes,a.attributes)){if(typeof h.insert=="string"&&typeof a.insert=="string")return this.ops[f-1]={insert:a.insert+h.insert},typeof h.attributes=="object"&&(this.ops[f-1].attributes=h.attributes),this;if(typeof h.retain=="number"&&typeof a.retain=="number")return this.ops[f-1]={retain:a.retain+h.retain},typeof h.attributes=="object"&&(this.ops[f-1].attributes=h.attributes),this}}return f===this.ops.length?this.ops.push(h):this.ops.splice(f,0,h),this},p.prototype.chop=function(){var h=this.ops[this.ops.length-1];return h&&h.retain&&!h.attributes&&this.ops.pop(),this},p.prototype.filter=function(h){return this.ops.filter(h)},p.prototype.forEach=function(h){this.ops.forEach(h)},p.prototype.map=function(h){return this.ops.map(h)},p.prototype.partition=function(h){var f=[],a=[];return this.forEach(function(m){var _=h(m)?f:a;_.push(m)}),[f,a]},p.prototype.reduce=function(h,f){return this.ops.reduce(h,f)},p.prototype.changeLength=function(){return this.reduce(function(h,f){return f.insert?h+u.length(f):f.delete?h-f.delete:h},0)},p.prototype.length=function(){return this.reduce(function(h,f){return h+u.length(f)},0)},p.prototype.slice=function(h,f){h=h||0,typeof f!="number"&&(f=1/0);for(var a=[],m=u.iterator(this.ops),_=0;_<f&&m.hasNext();){var A;_<h?A=m.next(h-_):(A=m.next(f-_),a.push(A)),_+=u.length(A)}return new p(a)},p.prototype.compose=function(h){var f=u.iterator(this.ops),a=u.iterator(h.ops),m=[],_=a.peek();if(_!=null&&typeof _.retain=="number"&&_.attributes==null){for(var A=_.retain;f.peekType()==="insert"&&f.peekLength()<=A;)A-=f.peekLength(),m.push(f.next());_.retain-A>0&&a.next(_.retain-A)}for(var v=new p(m);f.hasNext()||a.hasNext();)if(a.peekType()==="insert")v.push(a.next());else if(f.peekType()==="delete")v.push(f.next());else{var g=Math.min(f.peekLength(),a.peekLength()),y=f.next(g),b=a.next(g);if(typeof b.retain=="number"){var x={};typeof y.retain=="number"?x.retain=g:x.insert=y.insert;var I=u.attributes.compose(y.attributes,b.attributes,typeof y.retain=="number");if(I&&(x.attributes=I),v.push(x),!a.hasNext()&&s(v.ops[v.ops.length-1],x)){var P=new p(f.rest());return v.concat(P).chop()}}else typeof b.delete=="number"&&typeof y.retain=="number"&&v.push(b)}return v.chop()},p.prototype.concat=function(h){var f=new p(this.ops.slice());return h.ops.length>0&&(f.push(h.ops[0]),f.ops=f.ops.concat(h.ops.slice(1))),f},p.prototype.diff=function(h,f){if(this.ops===h.ops)return new p;var a=[this,h].map(function(g){return g.map(function(y){if(y.insert!=null)return typeof y.insert=="string"?y.insert:d;var b=g===h?"on":"with";throw new Error("diff() called "+b+" non-document")}).join("")}),m=new p,_=o(a[0],a[1],f),A=u.iterator(this.ops),v=u.iterator(h.ops);return _.forEach(function(g){for(var y=g[1].length;y>0;){var b=0;switch(g[0]){case o.INSERT:b=Math.min(v.peekLength(),y),m.push(v.next(b));break;case o.DELETE:b=Math.min(y,A.peekLength()),A.next(b),m.delete(b);break;case o.EQUAL:b=Math.min(A.peekLength(),v.peekLength(),y);var x=A.next(b),I=v.next(b);s(x.insert,I.insert)?m.retain(b,u.attributes.diff(x.attributes,I.attributes)):m.push(I).delete(b);break}y-=b}}),m.chop()},p.prototype.eachLine=function(h,f){f=f||`
`;for(var a=u.iterator(this.ops),m=new p,_=0;a.hasNext();){if(a.peekType()!=="insert")return;var A=a.peek(),v=u.length(A)-a.peekLength(),g=typeof A.insert=="string"?A.insert.indexOf(f,v)-v:-1;if(g<0)m.push(a.next());else if(g>0)m.push(a.next(g));else{if(h(m,a.next(1).attributes||{},_)===!1)return;_+=1,m=new p}}m.length()>0&&h(m,{},_)},p.prototype.transform=function(h,f){if(f=!!f,typeof h=="number")return this.transformPosition(h,f);for(var a=u.iterator(this.ops),m=u.iterator(h.ops),_=new p;a.hasNext()||m.hasNext();)if(a.peekType()==="insert"&&(f||m.peekType()!=="insert"))_.retain(u.length(a.next()));else if(m.peekType()==="insert")_.push(m.next());else{var A=Math.min(a.peekLength(),m.peekLength()),v=a.next(A),g=m.next(A);if(v.delete)continue;g.delete?_.push(g):_.retain(A,u.attributes.transform(v.attributes,g.attributes,f))}return _.chop()},p.prototype.transformPosition=function(h,f){f=!!f;for(var a=u.iterator(this.ops),m=0;a.hasNext()&&m<=h;){var _=a.peekLength(),A=a.peekType();if(a.next(),A==="delete"){h-=Math.min(_,h-m);continue}else A==="insert"&&(m<h||!f)&&(h+=_);m+=_}return h},e.exports=p},function(e,r){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=Object.defineProperty,l=Object.getOwnPropertyDescriptor,u=function(a){return typeof Array.isArray=="function"?Array.isArray(a):o.call(a)==="[object Array]"},d=function(a){if(!a||o.call(a)!=="[object Object]")return!1;var m=i.call(a,"constructor"),_=a.constructor&&a.constructor.prototype&&i.call(a.constructor.prototype,"isPrototypeOf");if(a.constructor&&!m&&!_)return!1;var A;for(A in a);return typeof A>"u"||i.call(a,A)},p=function(a,m){s&&m.name==="__proto__"?s(a,m.name,{enumerable:!0,configurable:!0,value:m.newValue,writable:!0}):a[m.name]=m.newValue},h=function(a,m){if(m==="__proto__")if(i.call(a,m)){if(l)return l(a,m).value}else return;return a[m]};e.exports=function f(){var a,m,_,A,v,g,y=arguments[0],b=1,x=arguments.length,I=!1;for(typeof y=="boolean"&&(I=y,y=arguments[1]||{},b=2),(y==null||typeof y!="object"&&typeof y!="function")&&(y={});b<x;++b)if(a=arguments[b],a!=null)for(m in a)_=h(y,m),A=h(a,m),y!==A&&(I&&A&&(d(A)||(v=u(A)))?(v?(v=!1,g=_&&u(_)?_:[]):g=_&&d(_)?_:{},p(y,{name:m,newValue:f(I,g,A)})):typeof A<"u"&&p(y,{name:m,newValue:A}));return y}},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var o=function(){function N(L,C){for(var j=0;j<C.length;j++){var U=C[j];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(L,U.key,U)}}return function(L,C,j){return C&&N(L.prototype,C),j&&N(L,j),L}}(),s=function N(L,C,j){L===null&&(L=Function.prototype);var U=Object.getOwnPropertyDescriptor(L,C);if(U===void 0){var G=Object.getPrototypeOf(L);return G===null?void 0:N(G,C,j)}else{if("value"in U)return U.value;var Z=U.get;return Z===void 0?void 0:Z.call(j)}},l=i(3),u=y(l),d=i(2),p=y(d),h=i(0),f=y(h),a=i(16),m=y(a),_=i(6),A=y(_),v=i(7),g=y(v);function y(N){return N&&N.__esModule?N:{default:N}}function b(N,L){if(!(N instanceof L))throw new TypeError("Cannot call a class as a function")}function x(N,L){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:N}function I(N,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);N.prototype=Object.create(L&&L.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(N,L):N.__proto__=L)}var P=1,E=function(N){I(L,N);function L(){return b(this,L),x(this,(L.__proto__||Object.getPrototypeOf(L)).apply(this,arguments))}return o(L,[{key:"attach",value:function(){s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"attach",this).call(this),this.attributes=new f.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new p.default().insert(this.value(),(0,u.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(j,U){var G=f.default.query(j,f.default.Scope.BLOCK_ATTRIBUTE);G!=null&&this.attributes.attribute(G,U)}},{key:"formatAt",value:function(j,U,G,Z){this.format(G,Z)}},{key:"insertAt",value:function(j,U,G){if(typeof U=="string"&&U.endsWith(`
`)){var Z=f.default.create(B.blotName);this.parent.insertBefore(Z,j===0?this:this.next),Z.insertAt(0,U.slice(0,-1))}else s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertAt",this).call(this,j,U,G)}}]),L}(f.default.Embed);E.scope=f.default.Scope.BLOCK_BLOT;var B=function(N){I(L,N);function L(C){b(this,L);var j=x(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,C));return j.cache={},j}return o(L,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(f.default.Leaf).reduce(function(j,U){return U.length()===0?j:j.insert(U.value(),D(U))},new p.default).insert(`
`,D(this))),this.cache.delta}},{key:"deleteAt",value:function(j,U){s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"deleteAt",this).call(this,j,U),this.cache={}}},{key:"formatAt",value:function(j,U,G,Z){U<=0||(f.default.query(G,f.default.Scope.BLOCK)?j+U===this.length()&&this.format(G,Z):s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"formatAt",this).call(this,j,Math.min(U,this.length()-j-1),G,Z),this.cache={})}},{key:"insertAt",value:function(j,U,G){if(G!=null)return s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertAt",this).call(this,j,U,G);if(U.length!==0){var Z=U.split(`
`),nt=Z.shift();nt.length>0&&(j<this.length()-1||this.children.tail==null?s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertAt",this).call(this,Math.min(j,this.length()-1),nt):this.children.tail.insertAt(this.children.tail.length(),nt),this.cache={});var tt=this;Z.reduce(function(K,z){return tt=tt.split(K,!0),tt.insertAt(0,z),z.length},j+nt.length)}}},{key:"insertBefore",value:function(j,U){var G=this.children.head;s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertBefore",this).call(this,j,U),G instanceof m.default&&G.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"length",this).call(this)+P),this.cache.length}},{key:"moveChildren",value:function(j,U){s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"moveChildren",this).call(this,j,U),this.cache={}}},{key:"optimize",value:function(j){s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"optimize",this).call(this,j),this.cache={}}},{key:"path",value:function(j){return s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"path",this).call(this,j,!0)}},{key:"removeChild",value:function(j){s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"removeChild",this).call(this,j),this.cache={}}},{key:"split",value:function(j){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(U&&(j===0||j>=this.length()-P)){var G=this.clone();return j===0?(this.parent.insertBefore(G,this),this):(this.parent.insertBefore(G,this.next),G)}else{var Z=s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"split",this).call(this,j,U);return this.cache={},Z}}}]),L}(f.default.Block);B.blotName="block",B.tagName="P",B.defaultChild="break",B.allowedChildren=[A.default,f.default.Embed,g.default];function D(N){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return N==null||(typeof N.formats=="function"&&(L=(0,u.default)(L,N.formats())),N.parent==null||N.parent.blotName=="scroll"||N.parent.statics.scope!==N.statics.scope)?L:D(N.parent,L)}r.bubbleFormats=D,r.BlockEmbed=E,r.default=B},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},s=function(){function tt(K,z){var O=[],R=!0,V=!1,M=void 0;try{for(var T=K[Symbol.iterator](),F;!(R=(F=T.next()).done)&&(O.push(F.value),!(z&&O.length===z));R=!0);}catch(H){V=!0,M=H}finally{try{!R&&T.return&&T.return()}finally{if(V)throw M}}return O}return function(K,z){if(Array.isArray(K))return K;if(Symbol.iterator in Object(K))return tt(K,z);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function tt(K,z){for(var O=0;O<z.length;O++){var R=z[O];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(K,R.key,R)}}return function(K,z,O){return z&&tt(K.prototype,z),O&&tt(K,O),K}}();i(50);var u=i(2),d=D(u),p=i(14),h=D(p),f=i(8),a=D(f),m=i(9),_=D(m),A=i(0),v=D(A),g=i(15),y=D(g),b=i(3),x=D(b),I=i(10),P=D(I),E=i(34),B=D(E);function D(tt){return tt&&tt.__esModule?tt:{default:tt}}function N(tt,K,z){return K in tt?Object.defineProperty(tt,K,{value:z,enumerable:!0,configurable:!0,writable:!0}):tt[K]=z,tt}function L(tt,K){if(!(tt instanceof K))throw new TypeError("Cannot call a class as a function")}var C=(0,P.default)("quill"),j=function(){l(tt,null,[{key:"debug",value:function(z){z===!0&&(z="log"),P.default.level(z)}},{key:"find",value:function(z){return z.__quill||v.default.find(z)}},{key:"import",value:function(z){return this.imports[z]==null&&C.error("Cannot import "+z+". Are you sure it was registered?"),this.imports[z]}},{key:"register",value:function(z,O){var R=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof z!="string"){var M=z.attrName||z.blotName;typeof M=="string"?this.register("formats/"+M,z,O):Object.keys(z).forEach(function(T){R.register(T,z[T],O)})}else this.imports[z]!=null&&!V&&C.warn("Overwriting "+z+" with",O),this.imports[z]=O,(z.startsWith("blots/")||z.startsWith("formats/"))&&O.blotName!=="abstract"?v.default.register(O):z.startsWith("modules")&&typeof O.register=="function"&&O.register()}}]);function tt(K){var z=this,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(L(this,tt),this.options=U(K,O),this.container=this.options.container,this.container==null)return C.error("Invalid Quill container",K);this.options.debug&&tt.debug(this.options.debug);var R=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new a.default,this.scroll=v.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new h.default(this.scroll),this.selection=new y.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(a.default.events.EDITOR_CHANGE,function(M){M===a.default.events.TEXT_CHANGE&&z.root.classList.toggle("ql-blank",z.editor.isBlank())}),this.emitter.on(a.default.events.SCROLL_UPDATE,function(M,T){var F=z.selection.lastRange,H=F&&F.length===0?F.index:void 0;G.call(z,function(){return z.editor.update(null,T,H)},M)});var V=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+R+"<p><br></p></div>");this.setContents(V),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return l(tt,[{key:"addContainer",value:function(z){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof z=="string"){var R=z;z=document.createElement("div"),z.classList.add(R)}return this.container.insertBefore(z,O),z}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(z,O,R){var V=this,M=Z(z,O,R),T=s(M,4);return z=T[0],O=T[1],R=T[3],G.call(this,function(){return V.editor.deleteText(z,O)},R,z,-1*O)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(z),this.container.classList.toggle("ql-disabled",!z)}},{key:"focus",value:function(){var z=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=z,this.scrollIntoView()}},{key:"format",value:function(z,O){var R=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:a.default.sources.API;return G.call(this,function(){var M=R.getSelection(!0),T=new d.default;if(M==null)return T;if(v.default.query(z,v.default.Scope.BLOCK))T=R.editor.formatLine(M.index,M.length,N({},z,O));else{if(M.length===0)return R.selection.format(z,O),T;T=R.editor.formatText(M.index,M.length,N({},z,O))}return R.setSelection(M,a.default.sources.SILENT),T},V)}},{key:"formatLine",value:function(z,O,R,V,M){var T=this,F=void 0,H=Z(z,O,R,V,M),X=s(H,4);return z=X[0],O=X[1],F=X[2],M=X[3],G.call(this,function(){return T.editor.formatLine(z,O,F)},M,z,0)}},{key:"formatText",value:function(z,O,R,V,M){var T=this,F=void 0,H=Z(z,O,R,V,M),X=s(H,4);return z=X[0],O=X[1],F=X[2],M=X[3],G.call(this,function(){return T.editor.formatText(z,O,F)},M,z,0)}},{key:"getBounds",value:function(z){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,R=void 0;typeof z=="number"?R=this.selection.getBounds(z,O):R=this.selection.getBounds(z.index,z.length);var V=this.container.getBoundingClientRect();return{bottom:R.bottom-V.top,height:R.height,left:R.left-V.left,right:R.right-V.left,top:R.top-V.top,width:R.width}}},{key:"getContents",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-z,R=Z(z,O),V=s(R,2);return z=V[0],O=V[1],this.editor.getContents(z,O)}},{key:"getFormat",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof z=="number"?this.editor.getFormat(z,O):this.editor.getFormat(z.index,z.length)}},{key:"getIndex",value:function(z){return z.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(z){return this.scroll.leaf(z)}},{key:"getLine",value:function(z){return this.scroll.line(z)}},{key:"getLines",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof z!="number"?this.scroll.lines(z.index,z.length):this.scroll.lines(z,O)}},{key:"getModule",value:function(z){return this.theme.modules[z]}},{key:"getSelection",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return z&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-z,R=Z(z,O),V=s(R,2);return z=V[0],O=V[1],this.editor.getText(z,O)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(z,O,R){var V=this,M=arguments.length>3&&arguments[3]!==void 0?arguments[3]:tt.sources.API;return G.call(this,function(){return V.editor.insertEmbed(z,O,R)},M,z)}},{key:"insertText",value:function(z,O,R,V,M){var T=this,F=void 0,H=Z(z,0,R,V,M),X=s(H,4);return z=X[0],F=X[2],M=X[3],G.call(this,function(){return T.editor.insertText(z,O,F)},M,z,O.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(z,O,R){this.clipboard.dangerouslyPasteHTML(z,O,R)}},{key:"removeFormat",value:function(z,O,R){var V=this,M=Z(z,O,R),T=s(M,4);return z=T[0],O=T[1],R=T[3],G.call(this,function(){return V.editor.removeFormat(z,O)},R,z)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(z){var O=this,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a.default.sources.API;return G.call(this,function(){z=new d.default(z);var V=O.getLength(),M=O.editor.deleteText(0,V),T=O.editor.applyDelta(z),F=T.ops[T.ops.length-1];F!=null&&typeof F.insert=="string"&&F.insert[F.insert.length-1]===`
`&&(O.editor.deleteText(O.getLength()-1,1),T.delete(1));var H=M.compose(T);return H},R)}},{key:"setSelection",value:function(z,O,R){if(z==null)this.selection.setRange(null,O||tt.sources.API);else{var V=Z(z,O,R),M=s(V,4);z=M[0],O=M[1],R=M[3],this.selection.setRange(new g.Range(z,O),R),R!==a.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(z){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a.default.sources.API,R=new d.default().insert(z);return this.setContents(R,O)}},{key:"update",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a.default.sources.USER,O=this.scroll.update(z);return this.selection.update(z),O}},{key:"updateContents",value:function(z){var O=this,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a.default.sources.API;return G.call(this,function(){return z=new d.default(z),O.editor.applyDelta(z,R)},R,!0)}}]),tt}();j.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},j.events=a.default.events,j.sources=a.default.sources,j.version="1.3.7",j.imports={delta:d.default,parchment:v.default,"core/module":_.default,"core/theme":B.default};function U(tt,K){if(K=(0,x.default)(!0,{container:tt,modules:{clipboard:!0,keyboard:!0,history:!0}},K),!K.theme||K.theme===j.DEFAULTS.theme)K.theme=B.default;else if(K.theme=j.import("themes/"+K.theme),K.theme==null)throw new Error("Invalid theme "+K.theme+". Did you register it?");var z=(0,x.default)(!0,{},K.theme.DEFAULTS);[z,K].forEach(function(V){V.modules=V.modules||{},Object.keys(V.modules).forEach(function(M){V.modules[M]===!0&&(V.modules[M]={})})});var O=Object.keys(z.modules).concat(Object.keys(K.modules)),R=O.reduce(function(V,M){var T=j.import("modules/"+M);return T==null?C.error("Cannot load "+M+" module. Are you sure you registered it?"):V[M]=T.DEFAULTS||{},V},{});return K.modules!=null&&K.modules.toolbar&&K.modules.toolbar.constructor!==Object&&(K.modules.toolbar={container:K.modules.toolbar}),K=(0,x.default)(!0,{},j.DEFAULTS,{modules:R},z,K),["bounds","container","scrollingContainer"].forEach(function(V){typeof K[V]=="string"&&(K[V]=document.querySelector(K[V]))}),K.modules=Object.keys(K.modules).reduce(function(V,M){return K.modules[M]&&(V[M]=K.modules[M]),V},{}),K}function G(tt,K,z,O){if(this.options.strict&&!this.isEnabled()&&K===a.default.sources.USER)return new d.default;var R=z==null?null:this.getSelection(),V=this.editor.delta,M=tt();if(R!=null&&(z===!0&&(z=R.index),O==null?R=nt(R,M,K):O!==0&&(R=nt(R,z,O,K)),this.setSelection(R,a.default.sources.SILENT)),M.length()>0){var T,F=[a.default.events.TEXT_CHANGE,M,V,K];if((T=this.emitter).emit.apply(T,[a.default.events.EDITOR_CHANGE].concat(F)),K!==a.default.sources.SILENT){var H;(H=this.emitter).emit.apply(H,F)}}return M}function Z(tt,K,z,O,R){var V={};return typeof tt.index=="number"&&typeof tt.length=="number"?typeof K!="number"?(R=O,O=z,z=K,K=tt.length,tt=tt.index):(K=tt.length,tt=tt.index):typeof K!="number"&&(R=O,O=z,z=K,K=0),(typeof z>"u"?"undefined":o(z))==="object"?(V=z,R=O):typeof z=="string"&&(O!=null?V[z]=O:R=z),R=R||a.default.sources.API,[tt,K,V,R]}function nt(tt,K,z,O){if(tt==null)return null;var R=void 0,V=void 0;if(K instanceof d.default){var M=[tt.index,tt.index+tt.length].map(function(X){return K.transformPosition(X,O!==a.default.sources.USER)}),T=s(M,2);R=T[0],V=T[1]}else{var F=[tt.index,tt.index+tt.length].map(function(X){return X<K||X===K&&O===a.default.sources.USER?X:z>=0?X+z:Math.max(K,X+z)}),H=s(F,2);R=H[0],V=H[1]}return new g.Range(R,V-R)}r.expandConfig=U,r.overload=Z,r.default=j},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function A(v,g){for(var y=0;y<g.length;y++){var b=g[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}return function(v,g,y){return g&&A(v.prototype,g),y&&A(v,y),v}}(),s=function A(v,g,y){v===null&&(v=Function.prototype);var b=Object.getOwnPropertyDescriptor(v,g);if(b===void 0){var x=Object.getPrototypeOf(v);return x===null?void 0:A(x,g,y)}else{if("value"in b)return b.value;var I=b.get;return I===void 0?void 0:I.call(y)}},l=i(7),u=h(l),d=i(0),p=h(d);function h(A){return A&&A.__esModule?A:{default:A}}function f(A,v){if(!(A instanceof v))throw new TypeError("Cannot call a class as a function")}function a(A,v){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:A}function m(A,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);A.prototype=Object.create(v&&v.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(A,v):A.__proto__=v)}var _=function(A){m(v,A);function v(){return f(this,v),a(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"formatAt",value:function(y,b,x,I){if(v.compare(this.statics.blotName,x)<0&&p.default.query(x,p.default.Scope.BLOT)){var P=this.isolate(y,b);I&&P.wrap(x,I)}else s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"formatAt",this).call(this,y,b,x,I)}},{key:"optimize",value:function(y){if(s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"optimize",this).call(this,y),this.parent instanceof v&&v.compare(this.statics.blotName,this.parent.statics.blotName)>0){var b=this.parent.isolate(this.offset(),this.length());this.moveChildren(b),b.wrap(this)}}}],[{key:"compare",value:function(y,b){var x=v.order.indexOf(y),I=v.order.indexOf(b);return x>=0||I>=0?x-I:y===b?0:y<b?-1:1}}]),v}(p.default.Inline);_.allowedChildren=[_,p.default.Embed,u.default],_.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=_},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=l(o);function l(f){return f&&f.__esModule?f:{default:f}}function u(f,a){if(!(f instanceof a))throw new TypeError("Cannot call a class as a function")}function d(f,a){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:f}function p(f,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);f.prototype=Object.create(a&&a.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(f,a):f.__proto__=a)}var h=function(f){p(a,f);function a(){return u(this,a),d(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return a}(s.default.Text);r.default=h},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function g(y,b){for(var x=0;x<b.length;x++){var I=b[x];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(y,I.key,I)}}return function(y,b,x){return b&&g(y.prototype,b),x&&g(y,x),y}}(),s=function g(y,b,x){y===null&&(y=Function.prototype);var I=Object.getOwnPropertyDescriptor(y,b);if(I===void 0){var P=Object.getPrototypeOf(y);return P===null?void 0:g(P,b,x)}else{if("value"in I)return I.value;var E=I.get;return E===void 0?void 0:E.call(x)}},l=i(54),u=h(l),d=i(10),p=h(d);function h(g){return g&&g.__esModule?g:{default:g}}function f(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function a(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function m(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var _=(0,p.default)("quill:events"),A=["selectionchange","mousedown","mouseup","click"];A.forEach(function(g){document.addEventListener(g,function(){for(var y=arguments.length,b=Array(y),x=0;x<y;x++)b[x]=arguments[x];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(I){if(I.__quill&&I.__quill.emitter){var P;(P=I.__quill.emitter).handleDOM.apply(P,b)}})})});var v=function(g){m(y,g);function y(){f(this,y);var b=a(this,(y.__proto__||Object.getPrototypeOf(y)).call(this));return b.listeners={},b.on("error",_.error),b}return o(y,[{key:"emit",value:function(){_.log.apply(_,arguments),s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(x){for(var I=arguments.length,P=Array(I>1?I-1:0),E=1;E<I;E++)P[E-1]=arguments[E];(this.listeners[x.type]||[]).forEach(function(B){var D=B.node,N=B.handler;(x.target===D||D.contains(x.target))&&N.apply(void 0,[x].concat(P))})}},{key:"listenDOM",value:function(x,I,P){this.listeners[x]||(this.listeners[x]=[]),this.listeners[x].push({node:I,handler:P})}}]),y}(u.default);v.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},v.sources={API:"api",SILENT:"silent",USER:"user"},r.default=v},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});function o(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var s=function l(u){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,l),this.quill=u,this.options=d};s.DEFAULTS={},r.default=s},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=["error","warn","log","info"],s="warn";function l(d){if(o.indexOf(d)<=o.indexOf(s)){for(var p,h=arguments.length,f=Array(h>1?h-1:0),a=1;a<h;a++)f[a-1]=arguments[a];(p=console)[d].apply(p,f)}}function u(d){return o.reduce(function(p,h){return p[h]=l.bind(console,h,d),p},{})}l.level=u.level=function(d){s=d},r.default=u},function(e,r,i){var o=Array.prototype.slice,s=i(52),l=i(53),u=e.exports=function(f,a,m){return m||(m={}),f===a?!0:f instanceof Date&&a instanceof Date?f.getTime()===a.getTime():!f||!a||typeof f!="object"&&typeof a!="object"?m.strict?f===a:f==a:h(f,a,m)};function d(f){return f==null}function p(f){return!(!f||typeof f!="object"||typeof f.length!="number"||typeof f.copy!="function"||typeof f.slice!="function"||f.length>0&&typeof f[0]!="number")}function h(f,a,m){var _,A;if(d(f)||d(a)||f.prototype!==a.prototype)return!1;if(l(f))return l(a)?(f=o.call(f),a=o.call(a),u(f,a,m)):!1;if(p(f)){if(!p(a)||f.length!==a.length)return!1;for(_=0;_<f.length;_++)if(f[_]!==a[_])return!1;return!0}try{var v=s(f),g=s(a)}catch{return!1}if(v.length!=g.length)return!1;for(v.sort(),g.sort(),_=v.length-1;_>=0;_--)if(v[_]!=g[_])return!1;for(_=v.length-1;_>=0;_--)if(A=v[_],!u(f[A],a[A],m))return!1;return typeof f==typeof a}},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function l(u,d,p){p===void 0&&(p={}),this.attrName=u,this.keyName=d;var h=o.Scope.TYPE&o.Scope.ATTRIBUTE;p.scope!=null?this.scope=p.scope&o.Scope.LEVEL|h:this.scope=o.Scope.ATTRIBUTE,p.whitelist!=null&&(this.whitelist=p.whitelist)}return l.keys=function(u){return[].map.call(u.attributes,function(d){return d.name})},l.prototype.add=function(u,d){return this.canAdd(u,d)?(u.setAttribute(this.keyName,d),!0):!1},l.prototype.canAdd=function(u,d){var p=o.query(u,o.Scope.BLOT&(this.scope|o.Scope.TYPE));return p==null?!1:this.whitelist==null?!0:typeof d=="string"?this.whitelist.indexOf(d.replace(/["']/g,""))>-1:this.whitelist.indexOf(d)>-1},l.prototype.remove=function(u){u.removeAttribute(this.keyName)},l.prototype.value=function(u){var d=u.getAttribute(this.keyName);return this.canAdd(u,d)&&d?d:""},l}();r.default=s},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var o=function(){function E(B,D){var N=[],L=!0,C=!1,j=void 0;try{for(var U=B[Symbol.iterator](),G;!(L=(G=U.next()).done)&&(N.push(G.value),!(D&&N.length===D));L=!0);}catch(Z){C=!0,j=Z}finally{try{!L&&U.return&&U.return()}finally{if(C)throw j}}return N}return function(B,D){if(Array.isArray(B))return B;if(Symbol.iterator in Object(B))return E(B,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function E(B,D){for(var N=0;N<D.length;N++){var L=D[N];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(B,L.key,L)}}return function(B,D,N){return D&&E(B.prototype,D),N&&E(B,N),B}}(),l=function E(B,D,N){B===null&&(B=Function.prototype);var L=Object.getOwnPropertyDescriptor(B,D);if(L===void 0){var C=Object.getPrototypeOf(B);return C===null?void 0:E(C,D,N)}else{if("value"in L)return L.value;var j=L.get;return j===void 0?void 0:j.call(N)}},u=i(2),d=g(u),p=i(0),h=g(p),f=i(4),a=g(f),m=i(6),_=g(m),A=i(7),v=g(A);function g(E){return E&&E.__esModule?E:{default:E}}function y(E,B){if(!(E instanceof B))throw new TypeError("Cannot call a class as a function")}function b(E,B){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B&&(typeof B=="object"||typeof B=="function")?B:E}function x(E,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof B);E.prototype=Object.create(B&&B.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(E,B):E.__proto__=B)}var I=function(E){x(B,E);function B(){return y(this,B),b(this,(B.__proto__||Object.getPrototypeOf(B)).apply(this,arguments))}return B}(_.default);I.blotName="code",I.tagName="CODE";var P=function(E){x(B,E);function B(){return y(this,B),b(this,(B.__proto__||Object.getPrototypeOf(B)).apply(this,arguments))}return s(B,[{key:"delta",value:function(){var N=this,L=this.domNode.textContent;return L.endsWith(`
`)&&(L=L.slice(0,-1)),L.split(`
`).reduce(function(C,j){return C.insert(j).insert(`
`,N.formats())},new d.default)}},{key:"format",value:function(N,L){if(!(N===this.statics.blotName&&L)){var C=this.descendant(v.default,this.length()-1),j=o(C,1),U=j[0];U!=null&&U.deleteAt(U.length()-1,1),l(B.prototype.__proto__||Object.getPrototypeOf(B.prototype),"format",this).call(this,N,L)}}},{key:"formatAt",value:function(N,L,C,j){if(L!==0&&!(h.default.query(C,h.default.Scope.BLOCK)==null||C===this.statics.blotName&&j===this.statics.formats(this.domNode))){var U=this.newlineIndex(N);if(!(U<0||U>=N+L)){var G=this.newlineIndex(N,!0)+1,Z=U-G+1,nt=this.isolate(G,Z),tt=nt.next;nt.format(C,j),tt instanceof B&&tt.formatAt(0,N-G+L-Z,C,j)}}}},{key:"insertAt",value:function(N,L,C){if(C==null){var j=this.descendant(v.default,N),U=o(j,2),G=U[0],Z=U[1];G.insertAt(Z,L)}}},{key:"length",value:function(){var N=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?N:N+1}},{key:"newlineIndex",value:function(N){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(L)return this.domNode.textContent.slice(0,N).lastIndexOf(`
`);var C=this.domNode.textContent.slice(N).indexOf(`
`);return C>-1?N+C:-1}},{key:"optimize",value:function(N){this.domNode.textContent.endsWith(`
`)||this.appendChild(h.default.create("text",`
`)),l(B.prototype.__proto__||Object.getPrototypeOf(B.prototype),"optimize",this).call(this,N);var L=this.next;L!=null&&L.prev===this&&L.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===L.statics.formats(L.domNode)&&(L.optimize(N),L.moveChildren(this),L.remove())}},{key:"replace",value:function(N){l(B.prototype.__proto__||Object.getPrototypeOf(B.prototype),"replace",this).call(this,N),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(L){var C=h.default.find(L);C==null?L.parentNode.removeChild(L):C instanceof h.default.Embed?C.remove():C.unwrap()})}}],[{key:"create",value:function(N){var L=l(B.__proto__||Object.getPrototypeOf(B),"create",this).call(this,N);return L.setAttribute("spellcheck",!1),L}},{key:"formats",value:function(){return!0}}]),B}(a.default);P.blotName="code-block",P.tagName="PRE",P.TAB="  ",r.Code=I,r.default=P},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},s=function(){function tt(K,z){var O=[],R=!0,V=!1,M=void 0;try{for(var T=K[Symbol.iterator](),F;!(R=(F=T.next()).done)&&(O.push(F.value),!(z&&O.length===z));R=!0);}catch(H){V=!0,M=H}finally{try{!R&&T.return&&T.return()}finally{if(V)throw M}}return O}return function(K,z){if(Array.isArray(K))return K;if(Symbol.iterator in Object(K))return tt(K,z);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function tt(K,z){for(var O=0;O<z.length;O++){var R=z[O];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(K,R.key,R)}}return function(K,z,O){return z&&tt(K.prototype,z),O&&tt(K,O),K}}(),u=i(2),d=L(u),p=i(20),h=L(p),f=i(0),a=L(f),m=i(13),_=L(m),A=i(24),v=L(A),g=i(4),y=L(g),b=i(16),x=L(b),I=i(21),P=L(I),E=i(11),B=L(E),D=i(3),N=L(D);function L(tt){return tt&&tt.__esModule?tt:{default:tt}}function C(tt,K,z){return K in tt?Object.defineProperty(tt,K,{value:z,enumerable:!0,configurable:!0,writable:!0}):tt[K]=z,tt}function j(tt,K){if(!(tt instanceof K))throw new TypeError("Cannot call a class as a function")}var U=/^[ -~]*$/,G=function(){function tt(K){j(this,tt),this.scroll=K,this.delta=this.getDelta()}return l(tt,[{key:"applyDelta",value:function(z){var O=this,R=!1;this.scroll.update();var V=this.scroll.length();return this.scroll.batchStart(),z=nt(z),z.reduce(function(M,T){var F=T.retain||T.delete||T.insert.length||1,H=T.attributes||{};if(T.insert!=null){if(typeof T.insert=="string"){var X=T.insert;X.endsWith(`
`)&&R&&(R=!1,X=X.slice(0,-1)),M>=V&&!X.endsWith(`
`)&&(R=!0),O.scroll.insertAt(M,X);var st=O.scroll.line(M),ut=s(st,2),Nt=ut[0],At=ut[1],Pt=(0,N.default)({},(0,g.bubbleFormats)(Nt));if(Nt instanceof y.default){var bt=Nt.descendant(a.default.Leaf,At),it=s(bt,1),Wt=it[0];Pt=(0,N.default)(Pt,(0,g.bubbleFormats)(Wt))}H=h.default.attributes.diff(Pt,H)||{}}else if(o(T.insert)==="object"){var dt=Object.keys(T.insert)[0];if(dt==null)return M;O.scroll.insertAt(M,dt,T.insert[dt])}V+=F}return Object.keys(H).forEach(function(at){O.scroll.formatAt(M,F,at,H[at])}),M+F},0),z.reduce(function(M,T){return typeof T.delete=="number"?(O.scroll.deleteAt(M,T.delete),M):M+(T.retain||T.insert.length||1)},0),this.scroll.batchEnd(),this.update(z)}},{key:"deleteText",value:function(z,O){return this.scroll.deleteAt(z,O),this.update(new d.default().retain(z).delete(O))}},{key:"formatLine",value:function(z,O){var R=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(V).forEach(function(M){if(!(R.scroll.whitelist!=null&&!R.scroll.whitelist[M])){var T=R.scroll.lines(z,Math.max(O,1)),F=O;T.forEach(function(H){var X=H.length();if(!(H instanceof _.default))H.format(M,V[M]);else{var st=z-H.offset(R.scroll),ut=H.newlineIndex(st+F)-st+1;H.formatAt(st,ut,M,V[M])}F-=X})}}),this.scroll.optimize(),this.update(new d.default().retain(z).retain(O,(0,P.default)(V)))}},{key:"formatText",value:function(z,O){var R=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(V).forEach(function(M){R.scroll.formatAt(z,O,M,V[M])}),this.update(new d.default().retain(z).retain(O,(0,P.default)(V)))}},{key:"getContents",value:function(z,O){return this.delta.slice(z,z+O)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(z,O){return z.concat(O.delta())},new d.default)}},{key:"getFormat",value:function(z){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,R=[],V=[];O===0?this.scroll.path(z).forEach(function(T){var F=s(T,1),H=F[0];H instanceof y.default?R.push(H):H instanceof a.default.Leaf&&V.push(H)}):(R=this.scroll.lines(z,O),V=this.scroll.descendants(a.default.Leaf,z,O));var M=[R,V].map(function(T){if(T.length===0)return{};for(var F=(0,g.bubbleFormats)(T.shift());Object.keys(F).length>0;){var H=T.shift();if(H==null)return F;F=Z((0,g.bubbleFormats)(H),F)}return F});return N.default.apply(N.default,M)}},{key:"getText",value:function(z,O){return this.getContents(z,O).filter(function(R){return typeof R.insert=="string"}).map(function(R){return R.insert}).join("")}},{key:"insertEmbed",value:function(z,O,R){return this.scroll.insertAt(z,O,R),this.update(new d.default().retain(z).insert(C({},O,R)))}},{key:"insertText",value:function(z,O){var R=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return O=O.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(z,O),Object.keys(V).forEach(function(M){R.scroll.formatAt(z,O.length,M,V[M])}),this.update(new d.default().retain(z).insert(O,(0,P.default)(V)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var z=this.scroll.children.head;return z.statics.blotName!==y.default.blotName||z.children.length>1?!1:z.children.head instanceof x.default}},{key:"removeFormat",value:function(z,O){var R=this.getText(z,O),V=this.scroll.line(z+O),M=s(V,2),T=M[0],F=M[1],H=0,X=new d.default;T!=null&&(T instanceof _.default?H=T.newlineIndex(F)-F+1:H=T.length()-F,X=T.delta().slice(F,F+H-1).insert(`
`));var st=this.getContents(z,O+H),ut=st.diff(new d.default().insert(R).concat(X)),Nt=new d.default().retain(z).concat(ut);return this.applyDelta(Nt)}},{key:"update",value:function(z){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,V=this.delta;if(O.length===1&&O[0].type==="characterData"&&O[0].target.data.match(U)&&a.default.find(O[0].target)){var M=a.default.find(O[0].target),T=(0,g.bubbleFormats)(M),F=M.offset(this.scroll),H=O[0].oldValue.replace(v.default.CONTENTS,""),X=new d.default().insert(H),st=new d.default().insert(M.value()),ut=new d.default().retain(F).concat(X.diff(st,R));z=ut.reduce(function(Nt,At){return At.insert?Nt.insert(At.insert,T):Nt.push(At)},new d.default),this.delta=V.compose(z)}else this.delta=this.getDelta(),(!z||!(0,B.default)(V.compose(z),this.delta))&&(z=V.diff(this.delta,R));return z}}]),tt}();function Z(tt,K){return Object.keys(K).reduce(function(z,O){return tt[O]==null||(K[O]===tt[O]?z[O]=K[O]:Array.isArray(K[O])?K[O].indexOf(tt[O])<0&&(z[O]=K[O].concat([tt[O]])):z[O]=[K[O],tt[O]]),z},{})}function nt(tt){return tt.reduce(function(K,z){if(z.insert===1){var O=(0,P.default)(z.attributes);return delete O.image,K.insert({image:z.attributes.image},O)}if(z.attributes!=null&&(z.attributes.list===!0||z.attributes.bullet===!0)&&(z=(0,P.default)(z),z.attributes.list?z.attributes.list="ordered":(z.attributes.list="bullet",delete z.attributes.bullet)),typeof z.insert=="string"){var R=z.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return K.insert(R,z.attributes)}return K.push(z)},new d.default)}r.default=G},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var o=function(){function E(B,D){var N=[],L=!0,C=!1,j=void 0;try{for(var U=B[Symbol.iterator](),G;!(L=(G=U.next()).done)&&(N.push(G.value),!(D&&N.length===D));L=!0);}catch(Z){C=!0,j=Z}finally{try{!L&&U.return&&U.return()}finally{if(C)throw j}}return N}return function(B,D){if(Array.isArray(B))return B;if(Symbol.iterator in Object(B))return E(B,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function E(B,D){for(var N=0;N<D.length;N++){var L=D[N];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(B,L.key,L)}}return function(B,D,N){return D&&E(B.prototype,D),N&&E(B,N),B}}(),l=i(0),u=v(l),d=i(21),p=v(d),h=i(11),f=v(h),a=i(8),m=v(a),_=i(10),A=v(_);function v(E){return E&&E.__esModule?E:{default:E}}function g(E){if(Array.isArray(E)){for(var B=0,D=Array(E.length);B<E.length;B++)D[B]=E[B];return D}else return Array.from(E)}function y(E,B){if(!(E instanceof B))throw new TypeError("Cannot call a class as a function")}var b=(0,A.default)("quill:selection"),x=function E(B){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;y(this,E),this.index=B,this.length=D},I=function(){function E(B,D){var N=this;y(this,E),this.emitter=D,this.scroll=B,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=u.default.create("cursor",this),this.lastRange=this.savedRange=new x(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){N.mouseDown||setTimeout(N.update.bind(N,m.default.sources.USER),1)}),this.emitter.on(m.default.events.EDITOR_CHANGE,function(L,C){L===m.default.events.TEXT_CHANGE&&C.length()>0&&N.update(m.default.sources.SILENT)}),this.emitter.on(m.default.events.SCROLL_BEFORE_UPDATE,function(){if(N.hasFocus()){var L=N.getNativeRange();L!=null&&L.start.node!==N.cursor.textNode&&N.emitter.once(m.default.events.SCROLL_UPDATE,function(){try{N.setNativeRange(L.start.node,L.start.offset,L.end.node,L.end.offset)}catch{}})}}),this.emitter.on(m.default.events.SCROLL_OPTIMIZE,function(L,C){if(C.range){var j=C.range,U=j.startNode,G=j.startOffset,Z=j.endNode,nt=j.endOffset;N.setNativeRange(U,G,Z,nt)}}),this.update(m.default.sources.SILENT)}return s(E,[{key:"handleComposition",value:function(){var D=this;this.root.addEventListener("compositionstart",function(){D.composing=!0}),this.root.addEventListener("compositionend",function(){if(D.composing=!1,D.cursor.parent){var N=D.cursor.restore();if(!N)return;setTimeout(function(){D.setNativeRange(N.startNode,N.startOffset,N.endNode,N.endOffset)},1)}})}},{key:"handleDragging",value:function(){var D=this;this.emitter.listenDOM("mousedown",document.body,function(){D.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){D.mouseDown=!1,D.update(m.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(D,N){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[D])){this.scroll.update();var L=this.getNativeRange();if(!(L==null||!L.native.collapsed||u.default.query(D,u.default.Scope.BLOCK))){if(L.start.node!==this.cursor.textNode){var C=u.default.find(L.start.node,!1);if(C==null)return;if(C instanceof u.default.Leaf){var j=C.split(L.start.offset);C.parent.insertBefore(this.cursor,j)}else C.insertBefore(this.cursor,L.start.node);this.cursor.attach()}this.cursor.format(D,N),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(D){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,L=this.scroll.length();D=Math.min(D,L-1),N=Math.min(D+N,L-1)-D;var C=void 0,j=this.scroll.leaf(D),U=o(j,2),G=U[0],Z=U[1];if(G==null)return null;var nt=G.position(Z,!0),tt=o(nt,2);C=tt[0],Z=tt[1];var K=document.createRange();if(N>0){K.setStart(C,Z);var z=this.scroll.leaf(D+N),O=o(z,2);if(G=O[0],Z=O[1],G==null)return null;var R=G.position(Z,!0),V=o(R,2);return C=V[0],Z=V[1],K.setEnd(C,Z),K.getBoundingClientRect()}else{var M="left",T=void 0;return C instanceof Text?(Z<C.data.length?(K.setStart(C,Z),K.setEnd(C,Z+1)):(K.setStart(C,Z-1),K.setEnd(C,Z),M="right"),T=K.getBoundingClientRect()):(T=G.domNode.getBoundingClientRect(),Z>0&&(M="right")),{bottom:T.top+T.height,height:T.height,left:T[M],right:T[M],top:T.top,width:0}}}},{key:"getNativeRange",value:function(){var D=document.getSelection();if(D==null||D.rangeCount<=0)return null;var N=D.getRangeAt(0);if(N==null)return null;var L=this.normalizeNative(N);return b.info("getNativeRange",L),L}},{key:"getRange",value:function(){var D=this.getNativeRange();if(D==null)return[null,null];var N=this.normalizedToRange(D);return[N,D]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(D){var N=this,L=[[D.start.node,D.start.offset]];D.native.collapsed||L.push([D.end.node,D.end.offset]);var C=L.map(function(G){var Z=o(G,2),nt=Z[0],tt=Z[1],K=u.default.find(nt,!0),z=K.offset(N.scroll);return tt===0?z:K instanceof u.default.Container?z+K.length():z+K.index(nt,tt)}),j=Math.min(Math.max.apply(Math,g(C)),this.scroll.length()-1),U=Math.min.apply(Math,[j].concat(g(C)));return new x(U,j-U)}},{key:"normalizeNative",value:function(D){if(!P(this.root,D.startContainer)||!D.collapsed&&!P(this.root,D.endContainer))return null;var N={start:{node:D.startContainer,offset:D.startOffset},end:{node:D.endContainer,offset:D.endOffset},native:D};return[N.start,N.end].forEach(function(L){for(var C=L.node,j=L.offset;!(C instanceof Text)&&C.childNodes.length>0;)if(C.childNodes.length>j)C=C.childNodes[j],j=0;else if(C.childNodes.length===j)C=C.lastChild,j=C instanceof Text?C.data.length:C.childNodes.length+1;else break;L.node=C,L.offset=j}),N}},{key:"rangeToNative",value:function(D){var N=this,L=D.collapsed?[D.index]:[D.index,D.index+D.length],C=[],j=this.scroll.length();return L.forEach(function(U,G){U=Math.min(j-1,U);var Z=void 0,nt=N.scroll.leaf(U),tt=o(nt,2),K=tt[0],z=tt[1],O=K.position(z,G!==0),R=o(O,2);Z=R[0],z=R[1],C.push(Z,z)}),C.length<2&&(C=C.concat(C)),C}},{key:"scrollIntoView",value:function(D){var N=this.lastRange;if(N!=null){var L=this.getBounds(N.index,N.length);if(L!=null){var C=this.scroll.length()-1,j=this.scroll.line(Math.min(N.index,C)),U=o(j,1),G=U[0],Z=G;if(N.length>0){var nt=this.scroll.line(Math.min(N.index+N.length,C)),tt=o(nt,1);Z=tt[0]}if(!(G==null||Z==null)){var K=D.getBoundingClientRect();L.top<K.top?D.scrollTop-=K.top-L.top:L.bottom>K.bottom&&(D.scrollTop+=L.bottom-K.bottom)}}}}},{key:"setNativeRange",value:function(D,N){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:D,C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:N,j=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(b.info("setNativeRange",D,N,L,C),!(D!=null&&(this.root.parentNode==null||D.parentNode==null||L.parentNode==null))){var U=document.getSelection();if(U!=null)if(D!=null){this.hasFocus()||this.root.focus();var G=(this.getNativeRange()||{}).native;if(G==null||j||D!==G.startContainer||N!==G.startOffset||L!==G.endContainer||C!==G.endOffset){D.tagName=="BR"&&(N=[].indexOf.call(D.parentNode.childNodes,D),D=D.parentNode),L.tagName=="BR"&&(C=[].indexOf.call(L.parentNode.childNodes,L),L=L.parentNode);var Z=document.createRange();Z.setStart(D,N),Z.setEnd(L,C),U.removeAllRanges(),U.addRange(Z)}}else U.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(D){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.default.sources.API;if(typeof N=="string"&&(L=N,N=!1),b.info("setRange",D),D!=null){var C=this.rangeToNative(D);this.setNativeRange.apply(this,g(C).concat([N]))}else this.setNativeRange(null);this.update(L)}},{key:"update",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m.default.sources.USER,N=this.lastRange,L=this.getRange(),C=o(L,2),j=C[0],U=C[1];if(this.lastRange=j,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,f.default)(N,this.lastRange)){var G;!this.composing&&U!=null&&U.native.collapsed&&U.start.node!==this.cursor.textNode&&this.cursor.restore();var Z=[m.default.events.SELECTION_CHANGE,(0,p.default)(this.lastRange),(0,p.default)(N),D];if((G=this.emitter).emit.apply(G,[m.default.events.EDITOR_CHANGE].concat(Z)),D!==m.default.sources.SILENT){var nt;(nt=this.emitter).emit.apply(nt,Z)}}}}]),E}();function P(E,B){try{B.parentNode}catch{return!1}return B instanceof Text&&(B=B.parentNode),E.contains(B)}r.Range=x,r.default=I},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function m(_,A){for(var v=0;v<A.length;v++){var g=A[v];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(_,g.key,g)}}return function(_,A,v){return A&&m(_.prototype,A),v&&m(_,v),_}}(),s=function m(_,A,v){_===null&&(_=Function.prototype);var g=Object.getOwnPropertyDescriptor(_,A);if(g===void 0){var y=Object.getPrototypeOf(_);return y===null?void 0:m(y,A,v)}else{if("value"in g)return g.value;var b=g.get;return b===void 0?void 0:b.call(v)}},l=i(0),u=d(l);function d(m){return m&&m.__esModule?m:{default:m}}function p(m,_){if(!(m instanceof _))throw new TypeError("Cannot call a class as a function")}function h(m,_){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:m}function f(m,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);m.prototype=Object.create(_&&_.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(m,_):m.__proto__=_)}var a=function(m){f(_,m);function _(){return p(this,_),h(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return o(_,[{key:"insertInto",value:function(v,g){v.children.length===0?s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"insertInto",this).call(this,v,g):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),_}(u.default.Embed);a.blotName="break",a.tagName="BR",r.default=a},function(e,r,i){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var m in a)a.hasOwnProperty(m)&&(f[m]=a[m])};return function(f,a){h(f,a);function m(){this.constructor=f}f.prototype=a===null?Object.create(a):(m.prototype=a.prototype,new m)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(44),l=i(30),u=i(1),d=function(h){o(f,h);function f(a){var m=h.call(this,a)||this;return m.build(),m}return f.prototype.appendChild=function(a){this.insertBefore(a)},f.prototype.attach=function(){h.prototype.attach.call(this),this.children.forEach(function(a){a.attach()})},f.prototype.build=function(){var a=this;this.children=new s.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(m){try{var _=p(m);a.insertBefore(_,a.children.head||void 0)}catch(A){if(A instanceof u.ParchmentError)return;throw A}})},f.prototype.deleteAt=function(a,m){if(a===0&&m===this.length())return this.remove();this.children.forEachAt(a,m,function(_,A,v){_.deleteAt(A,v)})},f.prototype.descendant=function(a,m){var _=this.children.find(m),A=_[0],v=_[1];return a.blotName==null&&a(A)||a.blotName!=null&&A instanceof a?[A,v]:A instanceof f?A.descendant(a,v):[null,-1]},f.prototype.descendants=function(a,m,_){m===void 0&&(m=0),_===void 0&&(_=Number.MAX_VALUE);var A=[],v=_;return this.children.forEachAt(m,_,function(g,y,b){(a.blotName==null&&a(g)||a.blotName!=null&&g instanceof a)&&A.push(g),g instanceof f&&(A=A.concat(g.descendants(a,y,v))),v-=b}),A},f.prototype.detach=function(){this.children.forEach(function(a){a.detach()}),h.prototype.detach.call(this)},f.prototype.formatAt=function(a,m,_,A){this.children.forEachAt(a,m,function(v,g,y){v.formatAt(g,y,_,A)})},f.prototype.insertAt=function(a,m,_){var A=this.children.find(a),v=A[0],g=A[1];if(v)v.insertAt(g,m,_);else{var y=_==null?u.create("text",m):u.create(m,_);this.appendChild(y)}},f.prototype.insertBefore=function(a,m){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(_){return a instanceof _}))throw new u.ParchmentError("Cannot insert "+a.statics.blotName+" into "+this.statics.blotName);a.insertInto(this,m)},f.prototype.length=function(){return this.children.reduce(function(a,m){return a+m.length()},0)},f.prototype.moveChildren=function(a,m){this.children.forEach(function(_){a.insertBefore(_,m)})},f.prototype.optimize=function(a){if(h.prototype.optimize.call(this,a),this.children.length===0)if(this.statics.defaultChild!=null){var m=u.create(this.statics.defaultChild);this.appendChild(m),m.optimize(a)}else this.remove()},f.prototype.path=function(a,m){m===void 0&&(m=!1);var _=this.children.find(a,m),A=_[0],v=_[1],g=[[this,a]];return A instanceof f?g.concat(A.path(v,m)):(A!=null&&g.push([A,v]),g)},f.prototype.removeChild=function(a){this.children.remove(a)},f.prototype.replace=function(a){a instanceof f&&a.moveChildren(this),h.prototype.replace.call(this,a)},f.prototype.split=function(a,m){if(m===void 0&&(m=!1),!m){if(a===0)return this;if(a===this.length())return this.next}var _=this.clone();return this.parent.insertBefore(_,this.next),this.children.forEachAt(a,this.length(),function(A,v,g){A=A.split(v,m),_.appendChild(A)}),_},f.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},f.prototype.update=function(a,m){var _=this,A=[],v=[];a.forEach(function(g){g.target===_.domNode&&g.type==="childList"&&(A.push.apply(A,g.addedNodes),v.push.apply(v,g.removedNodes))}),v.forEach(function(g){if(!(g.parentNode!=null&&g.tagName!=="IFRAME"&&document.body.compareDocumentPosition(g)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var y=u.find(g);y!=null&&(y.domNode.parentNode==null||y.domNode.parentNode===_.domNode)&&y.detach()}}),A.filter(function(g){return g.parentNode==_.domNode}).sort(function(g,y){return g===y?0:g.compareDocumentPosition(y)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(g){var y=null;g.nextSibling!=null&&(y=u.find(g.nextSibling));var b=p(g);(b.next!=y||b.next==null)&&(b.parent!=null&&b.parent.removeChild(_),_.insertBefore(b,y||void 0))})},f}(l.default);function p(h){var f=u.find(h);if(f==null)try{f=u.create(h)}catch{f=u.create(u.Scope.INLINE),[].slice.call(h.childNodes).forEach(function(m){f.domNode.appendChild(m)}),h.parentNode&&h.parentNode.replaceChild(f.domNode,h),f.attach()}return f}r.default=d},function(e,r,i){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var m in a)a.hasOwnProperty(m)&&(f[m]=a[m])};return function(f,a){h(f,a);function m(){this.constructor=f}f.prototype=a===null?Object.create(a):(m.prototype=a.prototype,new m)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),l=i(31),u=i(17),d=i(1),p=function(h){o(f,h);function f(a){var m=h.call(this,a)||this;return m.attributes=new l.default(m.domNode),m}return f.formats=function(a){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return a.tagName.toLowerCase()},f.prototype.format=function(a,m){var _=d.query(a);_ instanceof s.default?this.attributes.attribute(_,m):m&&_!=null&&(a!==this.statics.blotName||this.formats()[a]!==m)&&this.replaceWith(a,m)},f.prototype.formats=function(){var a=this.attributes.values(),m=this.statics.formats(this.domNode);return m!=null&&(a[this.statics.blotName]=m),a},f.prototype.replaceWith=function(a,m){var _=h.prototype.replaceWith.call(this,a,m);return this.attributes.copy(_),_},f.prototype.update=function(a,m){var _=this;h.prototype.update.call(this,a,m),a.some(function(A){return A.target===_.domNode&&A.type==="attributes"})&&this.attributes.build()},f.prototype.wrap=function(a,m){var _=h.prototype.wrap.call(this,a,m);return _ instanceof f&&_.statics.scope===this.statics.scope&&this.attributes.move(_),_},f}(u.default);r.default=p},function(e,r,i){var o=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var f in h)h.hasOwnProperty(f)&&(p[f]=h[f])};return function(p,h){d(p,h);function f(){this.constructor=p}p.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(30),l=i(1),u=function(d){o(p,d);function p(){return d!==null&&d.apply(this,arguments)||this}return p.value=function(h){return!0},p.prototype.index=function(h,f){return this.domNode===h||this.domNode.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(f,1):-1},p.prototype.position=function(h,f){var a=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return h>0&&(a+=1),[this.parent.domNode,a]},p.prototype.value=function(){var h;return h={},h[this.statics.blotName]=this.statics.value(this.domNode)||!0,h},p.scope=l.Scope.INLINE_BLOT,p}(s.default);r.default=u},function(e,r,i){var o=i(11),s=i(3),l={attributes:{compose:function(d,p,h){typeof d!="object"&&(d={}),typeof p!="object"&&(p={});var f=s(!0,{},p);h||(f=Object.keys(f).reduce(function(m,_){return f[_]!=null&&(m[_]=f[_]),m},{}));for(var a in d)d[a]!==void 0&&p[a]===void 0&&(f[a]=d[a]);return Object.keys(f).length>0?f:void 0},diff:function(d,p){typeof d!="object"&&(d={}),typeof p!="object"&&(p={});var h=Object.keys(d).concat(Object.keys(p)).reduce(function(f,a){return o(d[a],p[a])||(f[a]=p[a]===void 0?null:p[a]),f},{});return Object.keys(h).length>0?h:void 0},transform:function(d,p,h){if(typeof d!="object")return p;if(typeof p=="object"){if(!h)return p;var f=Object.keys(p).reduce(function(a,m){return d[m]===void 0&&(a[m]=p[m]),a},{});return Object.keys(f).length>0?f:void 0}}},iterator:function(d){return new u(d)},length:function(d){return typeof d.delete=="number"?d.delete:typeof d.retain=="number"?d.retain:typeof d.insert=="string"?d.insert.length:1}};function u(d){this.ops=d,this.index=0,this.offset=0}u.prototype.hasNext=function(){return this.peekLength()<1/0},u.prototype.next=function(d){d||(d=1/0);var p=this.ops[this.index];if(p){var h=this.offset,f=l.length(p);if(d>=f-h?(d=f-h,this.index+=1,this.offset=0):this.offset+=d,typeof p.delete=="number")return{delete:d};var a={};return p.attributes&&(a.attributes=p.attributes),typeof p.retain=="number"?a.retain=d:typeof p.insert=="string"?a.insert=p.insert.substr(h,d):a.insert=p.insert,a}else return{retain:1/0}},u.prototype.peek=function(){return this.ops[this.index]},u.prototype.peekLength=function(){return this.ops[this.index]?l.length(this.ops[this.index])-this.offset:1/0},u.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},u.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var d=this.offset,p=this.index,h=this.next(),f=this.ops.slice(this.index);return this.offset=d,this.index=p,[h].concat(f)}else return[]},e.exports=l},function(e,r){var i=function(){function o(_,A){return A!=null&&_ instanceof A}var s;try{s=Map}catch{s=function(){}}var l;try{l=Set}catch{l=function(){}}var u;try{u=Promise}catch{u=function(){}}function d(_,A,v,g,y){typeof A=="object"&&(v=A.depth,g=A.prototype,y=A.includeNonEnumerable,A=A.circular);var b=[],x=[],I=typeof Buffer<"u";typeof A>"u"&&(A=!0),typeof v>"u"&&(v=1/0);function P(E,B){if(E===null)return null;if(B===0)return E;var D,N;if(typeof E!="object")return E;if(o(E,s))D=new s;else if(o(E,l))D=new l;else if(o(E,u))D=new u(function(K,z){E.then(function(O){K(P(O,B-1))},function(O){z(P(O,B-1))})});else if(d.__isArray(E))D=[];else if(d.__isRegExp(E))D=new RegExp(E.source,m(E)),E.lastIndex&&(D.lastIndex=E.lastIndex);else if(d.__isDate(E))D=new Date(E.getTime());else{if(I&&Buffer.isBuffer(E))return Buffer.allocUnsafe?D=Buffer.allocUnsafe(E.length):D=new Buffer(E.length),E.copy(D),D;o(E,Error)?D=Object.create(E):typeof g>"u"?(N=Object.getPrototypeOf(E),D=Object.create(N)):(D=Object.create(g),N=g)}if(A){var L=b.indexOf(E);if(L!=-1)return x[L];b.push(E),x.push(D)}o(E,s)&&E.forEach(function(K,z){var O=P(z,B-1),R=P(K,B-1);D.set(O,R)}),o(E,l)&&E.forEach(function(K){var z=P(K,B-1);D.add(z)});for(var C in E){var j;N&&(j=Object.getOwnPropertyDescriptor(N,C)),!(j&&j.set==null)&&(D[C]=P(E[C],B-1))}if(Object.getOwnPropertySymbols)for(var U=Object.getOwnPropertySymbols(E),C=0;C<U.length;C++){var G=U[C],Z=Object.getOwnPropertyDescriptor(E,G);Z&&!Z.enumerable&&!y||(D[G]=P(E[G],B-1),Z.enumerable||Object.defineProperty(D,G,{enumerable:!1}))}if(y)for(var nt=Object.getOwnPropertyNames(E),C=0;C<nt.length;C++){var tt=nt[C],Z=Object.getOwnPropertyDescriptor(E,tt);Z&&Z.enumerable||(D[tt]=P(E[tt],B-1),Object.defineProperty(D,tt,{enumerable:!1}))}return D}return P(_,v)}d.clonePrototype=function(A){if(A===null)return null;var v=function(){};return v.prototype=A,new v};function p(_){return Object.prototype.toString.call(_)}d.__objToStr=p;function h(_){return typeof _=="object"&&p(_)==="[object Date]"}d.__isDate=h;function f(_){return typeof _=="object"&&p(_)==="[object Array]"}d.__isArray=f;function a(_){return typeof _=="object"&&p(_)==="[object RegExp]"}d.__isRegExp=a;function m(_){var A="";return _.global&&(A+="g"),_.ignoreCase&&(A+="i"),_.multiline&&(A+="m"),A}return d.__getRegExpFlags=m,d}();typeof e=="object"&&e.exports&&(e.exports=i)},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function D(N,L){var C=[],j=!0,U=!1,G=void 0;try{for(var Z=N[Symbol.iterator](),nt;!(j=(nt=Z.next()).done)&&(C.push(nt.value),!(L&&C.length===L));j=!0);}catch(tt){U=!0,G=tt}finally{try{!j&&Z.return&&Z.return()}finally{if(U)throw G}}return C}return function(N,L){if(Array.isArray(N))return N;if(Symbol.iterator in Object(N))return D(N,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function D(N,L){for(var C=0;C<L.length;C++){var j=L[C];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(N,j.key,j)}}return function(N,L,C){return L&&D(N.prototype,L),C&&D(N,C),N}}(),l=function D(N,L,C){N===null&&(N=Function.prototype);var j=Object.getOwnPropertyDescriptor(N,L);if(j===void 0){var U=Object.getPrototypeOf(N);return U===null?void 0:D(U,L,C)}else{if("value"in j)return j.value;var G=j.get;return G===void 0?void 0:G.call(C)}},u=i(0),d=b(u),p=i(8),h=b(p),f=i(4),a=b(f),m=i(16),_=b(m),A=i(13),v=b(A),g=i(25),y=b(g);function b(D){return D&&D.__esModule?D:{default:D}}function x(D,N){if(!(D instanceof N))throw new TypeError("Cannot call a class as a function")}function I(D,N){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:D}function P(D,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);D.prototype=Object.create(N&&N.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(D,N):D.__proto__=N)}function E(D){return D instanceof a.default||D instanceof f.BlockEmbed}var B=function(D){P(N,D);function N(L,C){x(this,N);var j=I(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,L));return j.emitter=C.emitter,Array.isArray(C.whitelist)&&(j.whitelist=C.whitelist.reduce(function(U,G){return U[G]=!0,U},{})),j.domNode.addEventListener("DOMNodeInserted",function(){}),j.optimize(),j.enable(),j}return s(N,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(C,j){var U=this.line(C),G=o(U,2),Z=G[0],nt=G[1],tt=this.line(C+j),K=o(tt,1),z=K[0];if(l(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"deleteAt",this).call(this,C,j),z!=null&&Z!==z&&nt>0){if(Z instanceof f.BlockEmbed||z instanceof f.BlockEmbed){this.optimize();return}if(Z instanceof v.default){var O=Z.newlineIndex(Z.length(),!0);if(O>-1&&(Z=Z.split(O+1),Z===z)){this.optimize();return}}else if(z instanceof v.default){var R=z.newlineIndex(0);R>-1&&z.split(R+1)}var V=z.children.head instanceof _.default?null:z.children.head;Z.moveChildren(z,V),Z.remove()}this.optimize()}},{key:"enable",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",C)}},{key:"formatAt",value:function(C,j,U,G){this.whitelist!=null&&!this.whitelist[U]||(l(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"formatAt",this).call(this,C,j,U,G),this.optimize())}},{key:"insertAt",value:function(C,j,U){if(!(U!=null&&this.whitelist!=null&&!this.whitelist[j])){if(C>=this.length())if(U==null||d.default.query(j,d.default.Scope.BLOCK)==null){var G=d.default.create(this.statics.defaultChild);this.appendChild(G),U==null&&j.endsWith(`
`)&&(j=j.slice(0,-1)),G.insertAt(0,j,U)}else{var Z=d.default.create(j,U);this.appendChild(Z)}else l(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertAt",this).call(this,C,j,U);this.optimize()}}},{key:"insertBefore",value:function(C,j){if(C.statics.scope===d.default.Scope.INLINE_BLOT){var U=d.default.create(this.statics.defaultChild);U.appendChild(C),C=U}l(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertBefore",this).call(this,C,j)}},{key:"leaf",value:function(C){return this.path(C).pop()||[null,-1]}},{key:"line",value:function(C){return C===this.length()?this.line(C-1):this.descendant(E,C)}},{key:"lines",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,U=function G(Z,nt,tt){var K=[],z=tt;return Z.children.forEachAt(nt,tt,function(O,R,V){E(O)?K.push(O):O instanceof d.default.Container&&(K=K.concat(G(O,R,z))),z-=V}),K};return U(this,C,j)}},{key:"optimize",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(l(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"optimize",this).call(this,C,j),C.length>0&&this.emitter.emit(h.default.events.SCROLL_OPTIMIZE,C,j))}},{key:"path",value:function(C){return l(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"path",this).call(this,C).slice(1)}},{key:"update",value:function(C){if(this.batch!==!0){var j=h.default.sources.USER;typeof C=="string"&&(j=C),Array.isArray(C)||(C=this.observer.takeRecords()),C.length>0&&this.emitter.emit(h.default.events.SCROLL_BEFORE_UPDATE,j,C),l(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"update",this).call(this,C.concat([])),C.length>0&&this.emitter.emit(h.default.events.SCROLL_UPDATE,j,C)}}}]),N}(d.default.Scroll);B.blotName="scroll",B.className="ql-editor",B.tagName="DIV",B.defaultChild="block",B.allowedChildren=[a.default,f.BlockEmbed,y.default],r.default=B},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},s=function(){function T(F,H){var X=[],st=!0,ut=!1,Nt=void 0;try{for(var At=F[Symbol.iterator](),Pt;!(st=(Pt=At.next()).done)&&(X.push(Pt.value),!(H&&X.length===H));st=!0);}catch(bt){ut=!0,Nt=bt}finally{try{!st&&At.return&&At.return()}finally{if(ut)throw Nt}}return X}return function(F,H){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return T(F,H);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function T(F,H){for(var X=0;X<H.length;X++){var st=H[X];st.enumerable=st.enumerable||!1,st.configurable=!0,"value"in st&&(st.writable=!0),Object.defineProperty(F,st.key,st)}}return function(F,H,X){return H&&T(F.prototype,H),X&&T(F,X),F}}(),u=i(21),d=D(u),p=i(11),h=D(p),f=i(3),a=D(f),m=i(2),_=D(m),A=i(20),v=D(A),g=i(0),y=D(g),b=i(5),x=D(b),I=i(10),P=D(I),E=i(9),B=D(E);function D(T){return T&&T.__esModule?T:{default:T}}function N(T,F,H){return F in T?Object.defineProperty(T,F,{value:H,enumerable:!0,configurable:!0,writable:!0}):T[F]=H,T}function L(T,F){if(!(T instanceof F))throw new TypeError("Cannot call a class as a function")}function C(T,F){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F&&(typeof F=="object"||typeof F=="function")?F:T}function j(T,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof F);T.prototype=Object.create(F&&F.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(T,F):T.__proto__=F)}var U=(0,P.default)("quill:keyboard"),G=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",Z=function(T){j(F,T),l(F,null,[{key:"match",value:function(X,st){return st=M(st),["altKey","ctrlKey","metaKey","shiftKey"].some(function(ut){return!!st[ut]!==X[ut]&&st[ut]!==null})?!1:st.key===(X.which||X.keyCode)}}]);function F(H,X){L(this,F);var st=C(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,H,X));return st.bindings={},Object.keys(st.options.bindings).forEach(function(ut){ut==="list autofill"&&H.scroll.whitelist!=null&&!H.scroll.whitelist.list||st.options.bindings[ut]&&st.addBinding(st.options.bindings[ut])}),st.addBinding({key:F.keys.ENTER,shiftKey:null},O),st.addBinding({key:F.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(st.addBinding({key:F.keys.BACKSPACE},{collapsed:!0},tt),st.addBinding({key:F.keys.DELETE},{collapsed:!0},K)):(st.addBinding({key:F.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},tt),st.addBinding({key:F.keys.DELETE},{collapsed:!0,suffix:/^.?$/},K)),st.addBinding({key:F.keys.BACKSPACE},{collapsed:!1},z),st.addBinding({key:F.keys.DELETE},{collapsed:!1},z),st.addBinding({key:F.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},tt),st.listen(),st}return l(F,[{key:"addBinding",value:function(X){var st=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ut=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Nt=M(X);if(Nt==null||Nt.key==null)return U.warn("Attempted to add invalid keyboard binding",Nt);typeof st=="function"&&(st={handler:st}),typeof ut=="function"&&(ut={handler:ut}),Nt=(0,a.default)(Nt,st,ut),this.bindings[Nt.key]=this.bindings[Nt.key]||[],this.bindings[Nt.key].push(Nt)}},{key:"listen",value:function(){var X=this;this.quill.root.addEventListener("keydown",function(st){if(!st.defaultPrevented){var ut=st.which||st.keyCode,Nt=(X.bindings[ut]||[]).filter(function(zt){return F.match(st,zt)});if(Nt.length!==0){var At=X.quill.getSelection();if(!(At==null||!X.quill.hasFocus())){var Pt=X.quill.getLine(At.index),bt=s(Pt,2),it=bt[0],Wt=bt[1],dt=X.quill.getLeaf(At.index),at=s(dt,2),lt=at[0],yt=at[1],pt=At.length===0?[lt,yt]:X.quill.getLeaf(At.index+At.length),Ct=s(pt,2),Tt=Ct[0],Rt=Ct[1],Ht=lt instanceof y.default.Text?lt.value().slice(0,yt):"",Yt=Tt instanceof y.default.Text?Tt.value().slice(Rt):"",Vt={collapsed:At.length===0,empty:At.length===0&&it.length()<=1,format:X.quill.getFormat(At),offset:Wt,prefix:Ht,suffix:Yt},Xt=Nt.some(function(zt){if(zt.collapsed!=null&&zt.collapsed!==Vt.collapsed||zt.empty!=null&&zt.empty!==Vt.empty||zt.offset!=null&&zt.offset!==Vt.offset)return!1;if(Array.isArray(zt.format)){if(zt.format.every(function(Ut){return Vt.format[Ut]==null}))return!1}else if(o(zt.format)==="object"&&!Object.keys(zt.format).every(function(Ut){return zt.format[Ut]===!0?Vt.format[Ut]!=null:zt.format[Ut]===!1?Vt.format[Ut]==null:(0,h.default)(zt.format[Ut],Vt.format[Ut])}))return!1;return zt.prefix!=null&&!zt.prefix.test(Vt.prefix)||zt.suffix!=null&&!zt.suffix.test(Vt.suffix)?!1:zt.handler.call(X,At,Vt)!==!0});Xt&&st.preventDefault()}}}})}}]),F}(B.default);Z.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},Z.DEFAULTS={bindings:{bold:V("bold"),italic:V("italic"),underline:V("underline"),indent:{key:Z.keys.TAB,format:["blockquote","indent","list"],handler:function(F,H){if(H.collapsed&&H.offset!==0)return!0;this.quill.format("indent","+1",x.default.sources.USER)}},outdent:{key:Z.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(F,H){if(H.collapsed&&H.offset!==0)return!0;this.quill.format("indent","-1",x.default.sources.USER)}},"outdent backspace":{key:Z.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(F,H){H.format.indent!=null?this.quill.format("indent","-1",x.default.sources.USER):H.format.list!=null&&this.quill.format("list",!1,x.default.sources.USER)}},"indent code-block":R(!0),"outdent code-block":R(!1),"remove tab":{key:Z.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(F){this.quill.deleteText(F.index-1,1,x.default.sources.USER)}},tab:{key:Z.keys.TAB,handler:function(F){this.quill.history.cutoff();var H=new _.default().retain(F.index).delete(F.length).insert("	");this.quill.updateContents(H,x.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(F.index+1,x.default.sources.SILENT)}},"list empty enter":{key:Z.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(F,H){this.quill.format("list",!1,x.default.sources.USER),H.format.indent&&this.quill.format("indent",!1,x.default.sources.USER)}},"checklist enter":{key:Z.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(F){var H=this.quill.getLine(F.index),X=s(H,2),st=X[0],ut=X[1],Nt=(0,a.default)({},st.formats(),{list:"checked"}),At=new _.default().retain(F.index).insert(`
`,Nt).retain(st.length()-ut-1).retain(1,{list:"unchecked"});this.quill.updateContents(At,x.default.sources.USER),this.quill.setSelection(F.index+1,x.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:Z.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(F,H){var X=this.quill.getLine(F.index),st=s(X,2),ut=st[0],Nt=st[1],At=new _.default().retain(F.index).insert(`
`,H.format).retain(ut.length()-Nt-1).retain(1,{header:null});this.quill.updateContents(At,x.default.sources.USER),this.quill.setSelection(F.index+1,x.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(F,H){var X=H.prefix.length,st=this.quill.getLine(F.index),ut=s(st,2),Nt=ut[0],At=ut[1];if(At>X)return!0;var Pt=void 0;switch(H.prefix.trim()){case"[]":case"[ ]":Pt="unchecked";break;case"[x]":Pt="checked";break;case"-":case"*":Pt="bullet";break;default:Pt="ordered"}this.quill.insertText(F.index," ",x.default.sources.USER),this.quill.history.cutoff();var bt=new _.default().retain(F.index-At).delete(X+1).retain(Nt.length()-2-At).retain(1,{list:Pt});this.quill.updateContents(bt,x.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(F.index-X,x.default.sources.SILENT)}},"code exit":{key:Z.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(F){var H=this.quill.getLine(F.index),X=s(H,2),st=X[0],ut=X[1],Nt=new _.default().retain(F.index+st.length()-ut-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(Nt,x.default.sources.USER)}},"embed left":nt(Z.keys.LEFT,!1),"embed left shift":nt(Z.keys.LEFT,!0),"embed right":nt(Z.keys.RIGHT,!1),"embed right shift":nt(Z.keys.RIGHT,!0)}};function nt(T,F){var H,X=T===Z.keys.LEFT?"prefix":"suffix";return H={key:T,shiftKey:F,altKey:null},N(H,X,/^$/),N(H,"handler",function(ut){var Nt=ut.index;T===Z.keys.RIGHT&&(Nt+=ut.length+1);var At=this.quill.getLeaf(Nt),Pt=s(At,1),bt=Pt[0];return bt instanceof y.default.Embed?(T===Z.keys.LEFT?F?this.quill.setSelection(ut.index-1,ut.length+1,x.default.sources.USER):this.quill.setSelection(ut.index-1,x.default.sources.USER):F?this.quill.setSelection(ut.index,ut.length+1,x.default.sources.USER):this.quill.setSelection(ut.index+ut.length+1,x.default.sources.USER),!1):!0}),H}function tt(T,F){if(!(T.index===0||this.quill.getLength()<=1)){var H=this.quill.getLine(T.index),X=s(H,1),st=X[0],ut={};if(F.offset===0){var Nt=this.quill.getLine(T.index-1),At=s(Nt,1),Pt=At[0];if(Pt!=null&&Pt.length()>1){var bt=st.formats(),it=this.quill.getFormat(T.index-1,1);ut=v.default.attributes.diff(bt,it)||{}}}var Wt=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(F.prefix)?2:1;this.quill.deleteText(T.index-Wt,Wt,x.default.sources.USER),Object.keys(ut).length>0&&this.quill.formatLine(T.index-Wt,Wt,ut,x.default.sources.USER),this.quill.focus()}}function K(T,F){var H=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(F.suffix)?2:1;if(!(T.index>=this.quill.getLength()-H)){var X={},st=0,ut=this.quill.getLine(T.index),Nt=s(ut,1),At=Nt[0];if(F.offset>=At.length()-1){var Pt=this.quill.getLine(T.index+1),bt=s(Pt,1),it=bt[0];if(it){var Wt=At.formats(),dt=this.quill.getFormat(T.index,1);X=v.default.attributes.diff(Wt,dt)||{},st=it.length()}}this.quill.deleteText(T.index,H,x.default.sources.USER),Object.keys(X).length>0&&this.quill.formatLine(T.index+st-1,H,X,x.default.sources.USER)}}function z(T){var F=this.quill.getLines(T),H={};if(F.length>1){var X=F[0].formats(),st=F[F.length-1].formats();H=v.default.attributes.diff(st,X)||{}}this.quill.deleteText(T,x.default.sources.USER),Object.keys(H).length>0&&this.quill.formatLine(T.index,1,H,x.default.sources.USER),this.quill.setSelection(T.index,x.default.sources.SILENT),this.quill.focus()}function O(T,F){var H=this;T.length>0&&this.quill.scroll.deleteAt(T.index,T.length);var X=Object.keys(F.format).reduce(function(st,ut){return y.default.query(ut,y.default.Scope.BLOCK)&&!Array.isArray(F.format[ut])&&(st[ut]=F.format[ut]),st},{});this.quill.insertText(T.index,`
`,X,x.default.sources.USER),this.quill.setSelection(T.index+1,x.default.sources.SILENT),this.quill.focus(),Object.keys(F.format).forEach(function(st){X[st]==null&&(Array.isArray(F.format[st])||st!=="link"&&H.quill.format(st,F.format[st],x.default.sources.USER))})}function R(T){return{key:Z.keys.TAB,shiftKey:!T,format:{"code-block":!0},handler:function(H){var X=y.default.query("code-block"),st=H.index,ut=H.length,Nt=this.quill.scroll.descendant(X,st),At=s(Nt,2),Pt=At[0],bt=At[1];if(Pt!=null){var it=this.quill.getIndex(Pt),Wt=Pt.newlineIndex(bt,!0)+1,dt=Pt.newlineIndex(it+bt+ut),at=Pt.domNode.textContent.slice(Wt,dt).split(`
`);bt=0,at.forEach(function(lt,yt){T?(Pt.insertAt(Wt+bt,X.TAB),bt+=X.TAB.length,yt===0?st+=X.TAB.length:ut+=X.TAB.length):lt.startsWith(X.TAB)&&(Pt.deleteAt(Wt+bt,X.TAB.length),bt-=X.TAB.length,yt===0?st-=X.TAB.length:ut-=X.TAB.length),bt+=lt.length+1}),this.quill.update(x.default.sources.USER),this.quill.setSelection(st,ut,x.default.sources.SILENT)}}}}function V(T){return{key:T[0].toUpperCase(),shortKey:!0,handler:function(H,X){this.quill.format(T,!X.format[T],x.default.sources.USER)}}}function M(T){if(typeof T=="string"||typeof T=="number")return M({key:T});if((typeof T>"u"?"undefined":o(T))==="object"&&(T=(0,d.default)(T,!1)),typeof T.key=="string")if(Z.keys[T.key.toUpperCase()]!=null)T.key=Z.keys[T.key.toUpperCase()];else if(T.key.length===1)T.key=T.key.toUpperCase().charCodeAt(0);else return null;return T.shortKey&&(T[G]=T.shortKey,delete T.shortKey),T}r.default=Z,r.SHORTKEY=G},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function v(g,y){var b=[],x=!0,I=!1,P=void 0;try{for(var E=g[Symbol.iterator](),B;!(x=(B=E.next()).done)&&(b.push(B.value),!(y&&b.length===y));x=!0);}catch(D){I=!0,P=D}finally{try{!x&&E.return&&E.return()}finally{if(I)throw P}}return b}return function(g,y){if(Array.isArray(g))return g;if(Symbol.iterator in Object(g))return v(g,y);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function v(g,y,b){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,y);if(x===void 0){var I=Object.getPrototypeOf(g);return I===null?void 0:v(I,y,b)}else{if("value"in x)return x.value;var P=x.get;return P===void 0?void 0:P.call(b)}},l=function(){function v(g,y){for(var b=0;b<y.length;b++){var x=y[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,y,b){return y&&v(g.prototype,y),b&&v(g,b),g}}(),u=i(0),d=f(u),p=i(7),h=f(p);function f(v){return v&&v.__esModule?v:{default:v}}function a(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function m(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function _(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var A=function(v){_(g,v),l(g,null,[{key:"value",value:function(){}}]);function g(y,b){a(this,g);var x=m(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,y));return x.selection=b,x.textNode=document.createTextNode(g.CONTENTS),x.domNode.appendChild(x.textNode),x._length=0,x}return l(g,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(b,x){if(this._length!==0)return s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,b,x);for(var I=this,P=0;I!=null&&I.statics.scope!==d.default.Scope.BLOCK_BLOT;)P+=I.offset(I.parent),I=I.parent;I!=null&&(this._length=g.CONTENTS.length,I.optimize(),I.formatAt(P,g.CONTENTS.length,b,x),this._length=0)}},{key:"index",value:function(b,x){return b===this.textNode?0:s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"index",this).call(this,b,x)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var b=this.textNode,x=this.selection.getNativeRange(),I=void 0,P=void 0,E=void 0;if(x!=null&&x.start.node===b&&x.end.node===b){var B=[b,x.start.offset,x.end.offset];I=B[0],P=B[1],E=B[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==g.CONTENTS){var D=this.textNode.data.split(g.CONTENTS).join("");this.next instanceof h.default?(I=this.next.domNode,this.next.insertAt(0,D),this.textNode.data=g.CONTENTS):(this.textNode.data=D,this.parent.insertBefore(d.default.create(this.textNode),this),this.textNode=document.createTextNode(g.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),P!=null){var N=[P,E].map(function(C){return Math.max(0,Math.min(I.data.length,C-1))}),L=o(N,2);return P=L[0],E=L[1],{startNode:I,startOffset:P,endNode:I,endOffset:E}}}}},{key:"update",value:function(b,x){var I=this;if(b.some(function(E){return E.type==="characterData"&&E.target===I.textNode})){var P=this.restore();P&&(x.range=P)}}},{key:"value",value:function(){return""}}]),g}(d.default.Embed);A.blotName="cursor",A.className="ql-cursor",A.tagName="span",A.CONTENTS="\uFEFF",r.default=A},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=d(o),l=i(4),u=d(l);function d(m){return m&&m.__esModule?m:{default:m}}function p(m,_){if(!(m instanceof _))throw new TypeError("Cannot call a class as a function")}function h(m,_){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:m}function f(m,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);m.prototype=Object.create(_&&_.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(m,_):m.__proto__=_)}var a=function(m){f(_,m);function _(){return p(this,_),h(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return _}(s.default.Container);a.allowedChildren=[u.default,l.BlockEmbed,a],r.default=a},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var o=function(){function A(v,g){for(var y=0;y<g.length;y++){var b=g[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}return function(v,g,y){return g&&A(v.prototype,g),y&&A(v,y),v}}(),s=function A(v,g,y){v===null&&(v=Function.prototype);var b=Object.getOwnPropertyDescriptor(v,g);if(b===void 0){var x=Object.getPrototypeOf(v);return x===null?void 0:A(x,g,y)}else{if("value"in b)return b.value;var I=b.get;return I===void 0?void 0:I.call(y)}},l=i(0),u=d(l);function d(A){return A&&A.__esModule?A:{default:A}}function p(A,v){if(!(A instanceof v))throw new TypeError("Cannot call a class as a function")}function h(A,v){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:A}function f(A,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);A.prototype=Object.create(v&&v.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(A,v):A.__proto__=v)}var a=function(A){f(v,A);function v(){return p(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"value",value:function(y){var b=s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"value",this).call(this,y);return b.startsWith("rgb(")?(b=b.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+b.split(",").map(function(x){return("00"+parseInt(x).toString(16)).slice(-2)}).join("")):b}}]),v}(u.default.Attributor.Style),m=new u.default.Attributor.Class("color","ql-color",{scope:u.default.Scope.INLINE}),_=new a("color","color",{scope:u.default.Scope.INLINE});r.ColorAttributor=a,r.ColorClass=m,r.ColorStyle=_},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var o=function(){function _(A,v){for(var g=0;g<v.length;g++){var y=v[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(A,y.key,y)}}return function(A,v,g){return v&&_(A.prototype,v),g&&_(A,g),A}}(),s=function _(A,v,g){A===null&&(A=Function.prototype);var y=Object.getOwnPropertyDescriptor(A,v);if(y===void 0){var b=Object.getPrototypeOf(A);return b===null?void 0:_(b,v,g)}else{if("value"in y)return y.value;var x=y.get;return x===void 0?void 0:x.call(g)}},l=i(6),u=d(l);function d(_){return _&&_.__esModule?_:{default:_}}function p(_,A){if(!(_ instanceof A))throw new TypeError("Cannot call a class as a function")}function h(_,A){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:_}function f(_,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);_.prototype=Object.create(A&&A.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(_,A):_.__proto__=A)}var a=function(_){f(A,_);function A(){return p(this,A),h(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return o(A,[{key:"format",value:function(g,y){if(g!==this.statics.blotName||!y)return s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"format",this).call(this,g,y);y=this.constructor.sanitize(y),this.domNode.setAttribute("href",y)}}],[{key:"create",value:function(g){var y=s(A.__proto__||Object.getPrototypeOf(A),"create",this).call(this,g);return g=this.sanitize(g),y.setAttribute("href",g),y.setAttribute("rel","noopener noreferrer"),y.setAttribute("target","_blank"),y}},{key:"formats",value:function(g){return g.getAttribute("href")}},{key:"sanitize",value:function(g){return m(g,this.PROTOCOL_WHITELIST)?g:this.SANITIZED_URL}}]),A}(u.default);a.blotName="link",a.tagName="A",a.SANITIZED_URL="about:blank",a.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function m(_,A){var v=document.createElement("a");v.href=_;var g=v.href.slice(0,v.href.indexOf(":"));return A.indexOf(g)>-1}r.default=a,r.sanitize=m},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},s=function(){function A(v,g){for(var y=0;y<g.length;y++){var b=g[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}return function(v,g,y){return g&&A(v.prototype,g),y&&A(v,y),v}}(),l=i(23),u=h(l),d=i(107),p=h(d);function h(A){return A&&A.__esModule?A:{default:A}}function f(A,v){if(!(A instanceof v))throw new TypeError("Cannot call a class as a function")}var a=0;function m(A,v){A.setAttribute(v,A.getAttribute(v)!=="true")}var _=function(){function A(v){var g=this;f(this,A),this.select=v,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){g.togglePicker()}),this.label.addEventListener("keydown",function(y){switch(y.keyCode){case u.default.keys.ENTER:g.togglePicker();break;case u.default.keys.ESCAPE:g.escape(),y.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return s(A,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),m(this.label,"aria-expanded"),m(this.options,"aria-hidden")}},{key:"buildItem",value:function(g){var y=this,b=document.createElement("span");return b.tabIndex="0",b.setAttribute("role","button"),b.classList.add("ql-picker-item"),g.hasAttribute("value")&&b.setAttribute("data-value",g.getAttribute("value")),g.textContent&&b.setAttribute("data-label",g.textContent),b.addEventListener("click",function(){y.selectItem(b,!0)}),b.addEventListener("keydown",function(x){switch(x.keyCode){case u.default.keys.ENTER:y.selectItem(b,!0),x.preventDefault();break;case u.default.keys.ESCAPE:y.escape(),x.preventDefault();break}}),b}},{key:"buildLabel",value:function(){var g=document.createElement("span");return g.classList.add("ql-picker-label"),g.innerHTML=p.default,g.tabIndex="0",g.setAttribute("role","button"),g.setAttribute("aria-expanded","false"),this.container.appendChild(g),g}},{key:"buildOptions",value:function(){var g=this,y=document.createElement("span");y.classList.add("ql-picker-options"),y.setAttribute("aria-hidden","true"),y.tabIndex="-1",y.id="ql-picker-options-"+a,a+=1,this.label.setAttribute("aria-controls",y.id),this.options=y,[].slice.call(this.select.options).forEach(function(b){var x=g.buildItem(b);y.appendChild(x),b.selected===!0&&g.selectItem(x)}),this.container.appendChild(y)}},{key:"buildPicker",value:function(){var g=this;[].slice.call(this.select.attributes).forEach(function(y){g.container.setAttribute(y.name,y.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var g=this;this.close(),setTimeout(function(){return g.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(g){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,b=this.container.querySelector(".ql-selected");if(g!==b&&(b!=null&&b.classList.remove("ql-selected"),g!=null&&(g.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(g.parentNode.children,g),g.hasAttribute("data-value")?this.label.setAttribute("data-value",g.getAttribute("data-value")):this.label.removeAttribute("data-value"),g.hasAttribute("data-label")?this.label.setAttribute("data-label",g.getAttribute("data-label")):this.label.removeAttribute("data-label"),y))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":o(Event))==="object"){var x=document.createEvent("Event");x.initEvent("change",!0,!0),this.select.dispatchEvent(x)}this.close()}}},{key:"update",value:function(){var g=void 0;if(this.select.selectedIndex>-1){var y=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];g=this.select.options[this.select.selectedIndex],this.selectItem(y)}else this.selectItem(null);var b=g!=null&&g!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",b)}}]),A}();r.default=_},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=U(o),l=i(5),u=U(l),d=i(4),p=U(d),h=i(16),f=U(h),a=i(25),m=U(a),_=i(24),A=U(_),v=i(35),g=U(v),y=i(6),b=U(y),x=i(22),I=U(x),P=i(7),E=U(P),B=i(55),D=U(B),N=i(42),L=U(N),C=i(23),j=U(C);function U(G){return G&&G.__esModule?G:{default:G}}u.default.register({"blots/block":p.default,"blots/block/embed":d.BlockEmbed,"blots/break":f.default,"blots/container":m.default,"blots/cursor":A.default,"blots/embed":g.default,"blots/inline":b.default,"blots/scroll":I.default,"blots/text":E.default,"modules/clipboard":D.default,"modules/history":L.default,"modules/keyboard":j.default}),s.default.register(p.default,f.default,A.default,b.default,I.default,E.default),r.default=u.default},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function l(u){this.domNode=u,this.domNode[o.DATA_KEY]={blot:this}}return Object.defineProperty(l.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),l.create=function(u){if(this.tagName==null)throw new o.ParchmentError("Blot definition missing tagName");var d;return Array.isArray(this.tagName)?(typeof u=="string"&&(u=u.toUpperCase(),parseInt(u).toString()===u&&(u=parseInt(u))),typeof u=="number"?d=document.createElement(this.tagName[u-1]):this.tagName.indexOf(u)>-1?d=document.createElement(u):d=document.createElement(this.tagName[0])):d=document.createElement(this.tagName),this.className&&d.classList.add(this.className),d},l.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},l.prototype.clone=function(){var u=this.domNode.cloneNode(!1);return o.create(u)},l.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[o.DATA_KEY]},l.prototype.deleteAt=function(u,d){var p=this.isolate(u,d);p.remove()},l.prototype.formatAt=function(u,d,p,h){var f=this.isolate(u,d);if(o.query(p,o.Scope.BLOT)!=null&&h)f.wrap(p,h);else if(o.query(p,o.Scope.ATTRIBUTE)!=null){var a=o.create(this.statics.scope);f.wrap(a),a.format(p,h)}},l.prototype.insertAt=function(u,d,p){var h=p==null?o.create("text",d):o.create(d,p),f=this.split(u);this.parent.insertBefore(h,f)},l.prototype.insertInto=function(u,d){d===void 0&&(d=null),this.parent!=null&&this.parent.children.remove(this);var p=null;u.children.insertBefore(this,d),d!=null&&(p=d.domNode),(this.domNode.parentNode!=u.domNode||this.domNode.nextSibling!=p)&&u.domNode.insertBefore(this.domNode,p),this.parent=u,this.attach()},l.prototype.isolate=function(u,d){var p=this.split(u);return p.split(d),p},l.prototype.length=function(){return 1},l.prototype.offset=function(u){return u===void 0&&(u=this.parent),this.parent==null||this==u?0:this.parent.children.offset(this)+this.parent.offset(u)},l.prototype.optimize=function(u){this.domNode[o.DATA_KEY]!=null&&delete this.domNode[o.DATA_KEY].mutations},l.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},l.prototype.replace=function(u){u.parent!=null&&(u.parent.insertBefore(this,u.next),u.remove())},l.prototype.replaceWith=function(u,d){var p=typeof u=="string"?o.create(u,d):u;return p.replace(this),p},l.prototype.split=function(u,d){return u===0?this:this.next},l.prototype.update=function(u,d){},l.prototype.wrap=function(u,d){var p=typeof u=="string"?o.create(u,d):u;return this.parent!=null&&this.parent.insertBefore(p,this.next),p.appendChild(this),p},l.blotName="abstract",l}();r.default=s},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),s=i(32),l=i(33),u=i(1),d=function(){function p(h){this.attributes={},this.domNode=h,this.build()}return p.prototype.attribute=function(h,f){f?h.add(this.domNode,f)&&(h.value(this.domNode)!=null?this.attributes[h.attrName]=h:delete this.attributes[h.attrName]):(h.remove(this.domNode),delete this.attributes[h.attrName])},p.prototype.build=function(){var h=this;this.attributes={};var f=o.default.keys(this.domNode),a=s.default.keys(this.domNode),m=l.default.keys(this.domNode);f.concat(a).concat(m).forEach(function(_){var A=u.query(_,u.Scope.ATTRIBUTE);A instanceof o.default&&(h.attributes[A.attrName]=A)})},p.prototype.copy=function(h){var f=this;Object.keys(this.attributes).forEach(function(a){var m=f.attributes[a].value(f.domNode);h.format(a,m)})},p.prototype.move=function(h){var f=this;this.copy(h),Object.keys(this.attributes).forEach(function(a){f.attributes[a].remove(f.domNode)}),this.attributes={}},p.prototype.values=function(){var h=this;return Object.keys(this.attributes).reduce(function(f,a){return f[a]=h.attributes[a].value(h.domNode),f},{})},p}();r.default=d},function(e,r,i){var o=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var f in h)h.hasOwnProperty(f)&&(p[f]=h[f])};return function(p,h){d(p,h);function f(){this.constructor=p}p.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function l(d,p){var h=d.getAttribute("class")||"";return h.split(/\s+/).filter(function(f){return f.indexOf(p+"-")===0})}var u=function(d){o(p,d);function p(){return d!==null&&d.apply(this,arguments)||this}return p.keys=function(h){return(h.getAttribute("class")||"").split(/\s+/).map(function(f){return f.split("-").slice(0,-1).join("-")})},p.prototype.add=function(h,f){return this.canAdd(h,f)?(this.remove(h),h.classList.add(this.keyName+"-"+f),!0):!1},p.prototype.remove=function(h){var f=l(h,this.keyName);f.forEach(function(a){h.classList.remove(a)}),h.classList.length===0&&h.removeAttribute("class")},p.prototype.value=function(h){var f=l(h,this.keyName)[0]||"",a=f.slice(this.keyName.length+1);return this.canAdd(h,a)?a:""},p}(s.default);r.default=u},function(e,r,i){var o=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var f in h)h.hasOwnProperty(f)&&(p[f]=h[f])};return function(p,h){d(p,h);function f(){this.constructor=p}p.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function l(d){var p=d.split("-"),h=p.slice(1).map(function(f){return f[0].toUpperCase()+f.slice(1)}).join("");return p[0]+h}var u=function(d){o(p,d);function p(){return d!==null&&d.apply(this,arguments)||this}return p.keys=function(h){return(h.getAttribute("style")||"").split(";").map(function(f){var a=f.split(":");return a[0].trim()})},p.prototype.add=function(h,f){return this.canAdd(h,f)?(h.style[l(this.keyName)]=f,!0):!1},p.prototype.remove=function(h){h.style[l(this.keyName)]="",h.getAttribute("style")||h.removeAttribute("style")},p.prototype.value=function(h){var f=h.style[l(this.keyName)];return this.canAdd(h,f)?f:""},p}(s.default);r.default=u},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function u(d,p){for(var h=0;h<p.length;h++){var f=p[h];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(d,f.key,f)}}return function(d,p,h){return p&&u(d.prototype,p),h&&u(d,h),d}}();function s(u,d){if(!(u instanceof d))throw new TypeError("Cannot call a class as a function")}var l=function(){function u(d,p){s(this,u),this.quill=d,this.options=p,this.modules={}}return o(u,[{key:"init",value:function(){var p=this;Object.keys(this.options.modules).forEach(function(h){p.modules[h]==null&&p.addModule(h)})}},{key:"addModule",value:function(p){var h=this.quill.constructor.import("modules/"+p);return this.modules[p]=new h(this.quill,this.options.modules[p]||{}),this.modules[p]}}]),u}();l.DEFAULTS={modules:{}},l.themes={default:l},r.default=l},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function v(g,y){for(var b=0;b<y.length;b++){var x=y[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,y,b){return y&&v(g.prototype,y),b&&v(g,b),g}}(),s=function v(g,y,b){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,y);if(x===void 0){var I=Object.getPrototypeOf(g);return I===null?void 0:v(I,y,b)}else{if("value"in x)return x.value;var P=x.get;return P===void 0?void 0:P.call(b)}},l=i(0),u=h(l),d=i(7),p=h(d);function h(v){return v&&v.__esModule?v:{default:v}}function f(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function a(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function m(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var _="\uFEFF",A=function(v){m(g,v);function g(y){f(this,g);var b=a(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,y));return b.contentNode=document.createElement("span"),b.contentNode.setAttribute("contenteditable",!1),[].slice.call(b.domNode.childNodes).forEach(function(x){b.contentNode.appendChild(x)}),b.leftGuard=document.createTextNode(_),b.rightGuard=document.createTextNode(_),b.domNode.appendChild(b.leftGuard),b.domNode.appendChild(b.contentNode),b.domNode.appendChild(b.rightGuard),b}return o(g,[{key:"index",value:function(b,x){return b===this.leftGuard?0:b===this.rightGuard?1:s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"index",this).call(this,b,x)}},{key:"restore",value:function(b){var x=void 0,I=void 0,P=b.data.split(_).join("");if(b===this.leftGuard)if(this.prev instanceof p.default){var E=this.prev.length();this.prev.insertAt(E,P),x={startNode:this.prev.domNode,startOffset:E+P.length}}else I=document.createTextNode(P),this.parent.insertBefore(u.default.create(I),this),x={startNode:I,startOffset:P.length};else b===this.rightGuard&&(this.next instanceof p.default?(this.next.insertAt(0,P),x={startNode:this.next.domNode,startOffset:P.length}):(I=document.createTextNode(P),this.parent.insertBefore(u.default.create(I),this.next),x={startNode:I,startOffset:P.length}));return b.data=_,x}},{key:"update",value:function(b,x){var I=this;b.forEach(function(P){if(P.type==="characterData"&&(P.target===I.leftGuard||P.target===I.rightGuard)){var E=I.restore(P.target);E&&(x.range=E)}})}}]),g}(u.default.Embed);r.default=A},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var o=i(0),s=l(o);function l(f){return f&&f.__esModule?f:{default:f}}var u={scope:s.default.Scope.BLOCK,whitelist:["right","center","justify"]},d=new s.default.Attributor.Attribute("align","align",u),p=new s.default.Attributor.Class("align","ql-align",u),h=new s.default.Attributor.Style("align","text-align",u);r.AlignAttribute=d,r.AlignClass=p,r.AlignStyle=h},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var o=i(0),s=u(o),l=i(26);function u(h){return h&&h.__esModule?h:{default:h}}var d=new s.default.Attributor.Class("background","ql-bg",{scope:s.default.Scope.INLINE}),p=new l.ColorAttributor("background","background-color",{scope:s.default.Scope.INLINE});r.BackgroundClass=d,r.BackgroundStyle=p},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var o=i(0),s=l(o);function l(f){return f&&f.__esModule?f:{default:f}}var u={scope:s.default.Scope.BLOCK,whitelist:["rtl"]},d=new s.default.Attributor.Attribute("direction","dir",u),p=new s.default.Attributor.Class("direction","ql-direction",u),h=new s.default.Attributor.Style("direction","direction",u);r.DirectionAttribute=d,r.DirectionClass=p,r.DirectionStyle=h},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var o=function(){function v(g,y){for(var b=0;b<y.length;b++){var x=y[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,y,b){return y&&v(g.prototype,y),b&&v(g,b),g}}(),s=function v(g,y,b){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,y);if(x===void 0){var I=Object.getPrototypeOf(g);return I===null?void 0:v(I,y,b)}else{if("value"in x)return x.value;var P=x.get;return P===void 0?void 0:P.call(b)}},l=i(0),u=d(l);function d(v){return v&&v.__esModule?v:{default:v}}function p(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function h(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function f(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var a={scope:u.default.Scope.INLINE,whitelist:["serif","monospace"]},m=new u.default.Attributor.Class("font","ql-font",a),_=function(v){f(g,v);function g(){return p(this,g),h(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,[{key:"value",value:function(b){return s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"value",this).call(this,b).replace(/["']/g,"")}}]),g}(u.default.Attributor.Style),A=new _("font","font-family",a);r.FontStyle=A,r.FontClass=m},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var o=i(0),s=l(o);function l(p){return p&&p.__esModule?p:{default:p}}var u=new s.default.Attributor.Class("size","ql-size",{scope:s.default.Scope.INLINE,whitelist:["small","large","huge"]}),d=new s.default.Attributor.Style("size","font-size",{scope:s.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=u,r.SizeStyle=d},function(e,r,i){e.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var o=function(){function y(b,x){for(var I=0;I<x.length;I++){var P=x[I];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(b,P.key,P)}}return function(b,x,I){return x&&y(b.prototype,x),I&&y(b,I),b}}(),s=i(0),l=f(s),u=i(5),d=f(u),p=i(9),h=f(p);function f(y){return y&&y.__esModule?y:{default:y}}function a(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}function m(y,b){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:y}function _(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(y,b):y.__proto__=b)}var A=function(y){_(b,y);function b(x,I){a(this,b);var P=m(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,x,I));return P.lastRecorded=0,P.ignoreChange=!1,P.clear(),P.quill.on(d.default.events.EDITOR_CHANGE,function(E,B,D,N){E!==d.default.events.TEXT_CHANGE||P.ignoreChange||(!P.options.userOnly||N===d.default.sources.USER?P.record(B,D):P.transform(B))}),P.quill.keyboard.addBinding({key:"Z",shortKey:!0},P.undo.bind(P)),P.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},P.redo.bind(P)),/Win/i.test(navigator.platform)&&P.quill.keyboard.addBinding({key:"Y",shortKey:!0},P.redo.bind(P)),P}return o(b,[{key:"change",value:function(I,P){if(this.stack[I].length!==0){var E=this.stack[I].pop();this.stack[P].push(E),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(E[I],d.default.sources.USER),this.ignoreChange=!1;var B=g(E[I]);this.quill.setSelection(B)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(I,P){if(I.ops.length!==0){this.stack.redo=[];var E=this.quill.getContents().diff(P),B=Date.now();if(this.lastRecorded+this.options.delay>B&&this.stack.undo.length>0){var D=this.stack.undo.pop();E=E.compose(D.undo),I=D.redo.compose(I)}else this.lastRecorded=B;this.stack.undo.push({redo:I,undo:E}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(I){this.stack.undo.forEach(function(P){P.undo=I.transform(P.undo,!0),P.redo=I.transform(P.redo,!0)}),this.stack.redo.forEach(function(P){P.undo=I.transform(P.undo,!0),P.redo=I.transform(P.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),b}(h.default);A.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function v(y){var b=y.ops[y.ops.length-1];return b==null?!1:b.insert!=null?typeof b.insert=="string"&&b.insert.endsWith(`
`):b.attributes!=null?Object.keys(b.attributes).some(function(x){return l.default.query(x,l.default.Scope.BLOCK)!=null}):!1}function g(y){var b=y.reduce(function(I,P){return I+=P.delete||0,I},0),x=y.length()-b;return v(y)&&(x-=1),x}r.default=A,r.getLastChangeIndex=g},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var o=function(){function O(R,V){for(var M=0;M<V.length;M++){var T=V[M];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(R,T.key,T)}}return function(R,V,M){return V&&O(R.prototype,V),M&&O(R,M),R}}(),s=function O(R,V,M){R===null&&(R=Function.prototype);var T=Object.getOwnPropertyDescriptor(R,V);if(T===void 0){var F=Object.getPrototypeOf(R);return F===null?void 0:O(F,V,M)}else{if("value"in T)return T.value;var H=T.get;return H===void 0?void 0:H.call(M)}},l=i(3),u=B(l),d=i(2),p=B(d),h=i(8),f=B(h),a=i(23),m=B(a),_=i(34),A=B(_),v=i(59),g=B(v),y=i(60),b=B(y),x=i(28),I=B(x),P=i(61),E=B(P);function B(O){return O&&O.__esModule?O:{default:O}}function D(O,R){if(!(O instanceof R))throw new TypeError("Cannot call a class as a function")}function N(O,R){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:O}function L(O,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);O.prototype=Object.create(R&&R.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(O,R):O.__proto__=R)}var C=[!1,"center","right","justify"],j=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],U=[!1,"serif","monospace"],G=["1","2","3",!1],Z=["small",!1,"large","huge"],nt=function(O){L(R,O);function R(V,M){D(this,R);var T=N(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,V,M)),F=function H(X){if(!document.body.contains(V.root))return document.body.removeEventListener("click",H);T.tooltip!=null&&!T.tooltip.root.contains(X.target)&&document.activeElement!==T.tooltip.textbox&&!T.quill.hasFocus()&&T.tooltip.hide(),T.pickers!=null&&T.pickers.forEach(function(st){st.container.contains(X.target)||st.close()})};return V.emitter.listenDOM("click",document.body,F),T}return o(R,[{key:"addModule",value:function(M){var T=s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"addModule",this).call(this,M);return M==="toolbar"&&this.extendToolbar(T),T}},{key:"buildButtons",value:function(M,T){M.forEach(function(F){var H=F.getAttribute("class")||"";H.split(/\s+/).forEach(function(X){if(X.startsWith("ql-")&&(X=X.slice(3),T[X]!=null))if(X==="direction")F.innerHTML=T[X][""]+T[X].rtl;else if(typeof T[X]=="string")F.innerHTML=T[X];else{var st=F.value||"";st!=null&&T[X][st]&&(F.innerHTML=T[X][st])}})})}},{key:"buildPickers",value:function(M,T){var F=this;this.pickers=M.map(function(X){if(X.classList.contains("ql-align"))return X.querySelector("option")==null&&z(X,C),new b.default(X,T.align);if(X.classList.contains("ql-background")||X.classList.contains("ql-color")){var st=X.classList.contains("ql-background")?"background":"color";return X.querySelector("option")==null&&z(X,j,st==="background"?"#ffffff":"#000000"),new g.default(X,T[st])}else return X.querySelector("option")==null&&(X.classList.contains("ql-font")?z(X,U):X.classList.contains("ql-header")?z(X,G):X.classList.contains("ql-size")&&z(X,Z)),new I.default(X)});var H=function(){F.pickers.forEach(function(st){st.update()})};this.quill.on(f.default.events.EDITOR_CHANGE,H)}}]),R}(A.default);nt.DEFAULTS=(0,u.default)(!0,{},A.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var R=this,V=this.container.querySelector("input.ql-image[type=file]");V==null&&(V=document.createElement("input"),V.setAttribute("type","file"),V.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),V.classList.add("ql-image"),V.addEventListener("change",function(){if(V.files!=null&&V.files[0]!=null){var M=new FileReader;M.onload=function(T){var F=R.quill.getSelection(!0);R.quill.updateContents(new p.default().retain(F.index).delete(F.length).insert({image:T.target.result}),f.default.sources.USER),R.quill.setSelection(F.index+1,f.default.sources.SILENT),V.value=""},M.readAsDataURL(V.files[0])}}),this.container.appendChild(V)),V.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var tt=function(O){L(R,O);function R(V,M){D(this,R);var T=N(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,V,M));return T.textbox=T.root.querySelector('input[type="text"]'),T.listen(),T}return o(R,[{key:"listen",value:function(){var M=this;this.textbox.addEventListener("keydown",function(T){m.default.match(T,"enter")?(M.save(),T.preventDefault()):m.default.match(T,"escape")&&(M.cancel(),T.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),T!=null?this.textbox.value=T:M!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+M)||""),this.root.setAttribute("data-mode",M)}},{key:"restoreFocus",value:function(){var M=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=M}},{key:"save",value:function(){var M=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var T=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",M,f.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",M,f.default.sources.USER)),this.quill.root.scrollTop=T;break}case"video":M=K(M);case"formula":{if(!M)break;var F=this.quill.getSelection(!0);if(F!=null){var H=F.index+F.length;this.quill.insertEmbed(H,this.root.getAttribute("data-mode"),M,f.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(H+1," ",f.default.sources.USER),this.quill.setSelection(H+2,f.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),R}(E.default);function K(O){var R=O.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||O.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return R?(R[1]||"https")+"://www.youtube.com/embed/"+R[2]+"?showinfo=0":(R=O.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(R[1]||"https")+"://player.vimeo.com/video/"+R[2]+"/":O}function z(O,R){var V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;R.forEach(function(M){var T=document.createElement("option");M===V?T.setAttribute("selected","selected"):T.setAttribute("value",M),O.appendChild(T)})}r.BaseTooltip=tt,r.default=nt},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function s(){this.head=this.tail=null,this.length=0}return s.prototype.append=function(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];this.insertBefore(l[0],null),l.length>1&&this.append.apply(this,l.slice(1))},s.prototype.contains=function(l){for(var u,d=this.iterator();u=d();)if(u===l)return!0;return!1},s.prototype.insertBefore=function(l,u){l&&(l.next=u,u!=null?(l.prev=u.prev,u.prev!=null&&(u.prev.next=l),u.prev=l,u===this.head&&(this.head=l)):this.tail!=null?(this.tail.next=l,l.prev=this.tail,this.tail=l):(l.prev=null,this.head=this.tail=l),this.length+=1)},s.prototype.offset=function(l){for(var u=0,d=this.head;d!=null;){if(d===l)return u;u+=d.length(),d=d.next}return-1},s.prototype.remove=function(l){this.contains(l)&&(l.prev!=null&&(l.prev.next=l.next),l.next!=null&&(l.next.prev=l.prev),l===this.head&&(this.head=l.next),l===this.tail&&(this.tail=l.prev),this.length-=1)},s.prototype.iterator=function(l){return l===void 0&&(l=this.head),function(){var u=l;return l!=null&&(l=l.next),u}},s.prototype.find=function(l,u){u===void 0&&(u=!1);for(var d,p=this.iterator();d=p();){var h=d.length();if(l<h||u&&l===h&&(d.next==null||d.next.length()!==0))return[d,l];l-=h}return[null,0]},s.prototype.forEach=function(l){for(var u,d=this.iterator();u=d();)l(u)},s.prototype.forEachAt=function(l,u,d){if(!(u<=0))for(var p=this.find(l),h=p[0],f=p[1],a,m=l-f,_=this.iterator(h);(a=_())&&m<l+u;){var A=a.length();l>m?d(a,l-m,Math.min(u,m+A-l)):d(a,0,Math.min(A,l+u-m)),m+=A}},s.prototype.map=function(l){return this.reduce(function(u,d){return u.push(l(d)),u},[])},s.prototype.reduce=function(l,u){for(var d,p=this.iterator();d=p();)u=l(u,d);return u},s}();r.default=o},function(e,r,i){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var m in a)a.hasOwnProperty(m)&&(f[m]=a[m])};return function(f,a){h(f,a);function m(){this.constructor=f}f.prototype=a===null?Object.create(a):(m.prototype=a.prototype,new m)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),l=i(1),u={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},d=100,p=function(h){o(f,h);function f(a){var m=h.call(this,a)||this;return m.scroll=m,m.observer=new MutationObserver(function(_){m.update(_)}),m.observer.observe(m.domNode,u),m.attach(),m}return f.prototype.detach=function(){h.prototype.detach.call(this),this.observer.disconnect()},f.prototype.deleteAt=function(a,m){this.update(),a===0&&m===this.length()?this.children.forEach(function(_){_.remove()}):h.prototype.deleteAt.call(this,a,m)},f.prototype.formatAt=function(a,m,_,A){this.update(),h.prototype.formatAt.call(this,a,m,_,A)},f.prototype.insertAt=function(a,m,_){this.update(),h.prototype.insertAt.call(this,a,m,_)},f.prototype.optimize=function(a,m){var _=this;a===void 0&&(a=[]),m===void 0&&(m={}),h.prototype.optimize.call(this,m);for(var A=[].slice.call(this.observer.takeRecords());A.length>0;)a.push(A.pop());for(var v=function(x,I){I===void 0&&(I=!0),!(x==null||x===_)&&x.domNode.parentNode!=null&&(x.domNode[l.DATA_KEY].mutations==null&&(x.domNode[l.DATA_KEY].mutations=[]),I&&v(x.parent))},g=function(x){x.domNode[l.DATA_KEY]==null||x.domNode[l.DATA_KEY].mutations==null||(x instanceof s.default&&x.children.forEach(g),x.optimize(m))},y=a,b=0;y.length>0;b+=1){if(b>=d)throw new Error("[Parchment] Maximum optimize iterations reached");for(y.forEach(function(x){var I=l.find(x.target,!0);I!=null&&(I.domNode===x.target&&(x.type==="childList"?(v(l.find(x.previousSibling,!1)),[].forEach.call(x.addedNodes,function(P){var E=l.find(P,!1);v(E,!1),E instanceof s.default&&E.children.forEach(function(B){v(B,!1)})})):x.type==="attributes"&&v(I.prev)),v(I))}),this.children.forEach(g),y=[].slice.call(this.observer.takeRecords()),A=y.slice();A.length>0;)a.push(A.pop())}},f.prototype.update=function(a,m){var _=this;m===void 0&&(m={}),a=a||this.observer.takeRecords(),a.map(function(A){var v=l.find(A.target,!0);return v==null?null:v.domNode[l.DATA_KEY].mutations==null?(v.domNode[l.DATA_KEY].mutations=[A],v):(v.domNode[l.DATA_KEY].mutations.push(A),null)}).forEach(function(A){A==null||A===_||A.domNode[l.DATA_KEY]==null||A.update(A.domNode[l.DATA_KEY].mutations||[],m)}),this.domNode[l.DATA_KEY].mutations!=null&&h.prototype.update.call(this,this.domNode[l.DATA_KEY].mutations,m),this.optimize(a,m)},f.blotName="scroll",f.defaultChild="block",f.scope=l.Scope.BLOCK_BLOT,f.tagName="DIV",f}(s.default);r.default=p},function(e,r,i){var o=this&&this.__extends||function(){var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var a in f)f.hasOwnProperty(a)&&(h[a]=f[a])};return function(h,f){p(h,f);function a(){this.constructor=h}h.prototype=f===null?Object.create(f):(a.prototype=f.prototype,new a)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),l=i(1);function u(p,h){if(Object.keys(p).length!==Object.keys(h).length)return!1;for(var f in p)if(p[f]!==h[f])return!1;return!0}var d=function(p){o(h,p);function h(){return p!==null&&p.apply(this,arguments)||this}return h.formats=function(f){if(f.tagName!==h.tagName)return p.formats.call(this,f)},h.prototype.format=function(f,a){var m=this;f===this.statics.blotName&&!a?(this.children.forEach(function(_){_ instanceof s.default||(_=_.wrap(h.blotName,!0)),m.attributes.copy(_)}),this.unwrap()):p.prototype.format.call(this,f,a)},h.prototype.formatAt=function(f,a,m,_){if(this.formats()[m]!=null||l.query(m,l.Scope.ATTRIBUTE)){var A=this.isolate(f,a);A.format(m,_)}else p.prototype.formatAt.call(this,f,a,m,_)},h.prototype.optimize=function(f){p.prototype.optimize.call(this,f);var a=this.formats();if(Object.keys(a).length===0)return this.unwrap();var m=this.next;m instanceof h&&m.prev===this&&u(a,m.formats())&&(m.moveChildren(this),m.remove())},h.blotName="inline",h.scope=l.Scope.INLINE_BLOT,h.tagName="SPAN",h}(s.default);r.default=d},function(e,r,i){var o=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var f in h)h.hasOwnProperty(f)&&(p[f]=h[f])};return function(p,h){d(p,h);function f(){this.constructor=p}p.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),l=i(1),u=function(d){o(p,d);function p(){return d!==null&&d.apply(this,arguments)||this}return p.formats=function(h){var f=l.query(p.blotName).tagName;if(h.tagName!==f)return d.formats.call(this,h)},p.prototype.format=function(h,f){l.query(h,l.Scope.BLOCK)!=null&&(h===this.statics.blotName&&!f?this.replaceWith(p.blotName):d.prototype.format.call(this,h,f))},p.prototype.formatAt=function(h,f,a,m){l.query(a,l.Scope.BLOCK)!=null?this.format(a,m):d.prototype.formatAt.call(this,h,f,a,m)},p.prototype.insertAt=function(h,f,a){if(a==null||l.query(f,l.Scope.INLINE)!=null)d.prototype.insertAt.call(this,h,f,a);else{var m=this.split(h),_=l.create(f,a);m.parent.insertBefore(_,m)}},p.prototype.update=function(h,f){navigator.userAgent.match(/Trident/)?this.build():d.prototype.update.call(this,h,f)},p.blotName="block",p.scope=l.Scope.BLOCK_BLOT,p.tagName="P",p}(s.default);r.default=u},function(e,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var h in p)p.hasOwnProperty(h)&&(d[h]=p[h])};return function(d,p){u(d,p);function h(){this.constructor=d}d.prototype=p===null?Object.create(p):(h.prototype=p.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),l=function(u){o(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.formats=function(p){},d.prototype.format=function(p,h){u.prototype.formatAt.call(this,0,this.length(),p,h)},d.prototype.formatAt=function(p,h,f,a){p===0&&h===this.length()?this.format(f,a):u.prototype.formatAt.call(this,p,h,f,a)},d.prototype.formats=function(){return this.statics.formats(this.domNode)},d}(s.default);r.default=l},function(e,r,i){var o=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var f in h)h.hasOwnProperty(f)&&(p[f]=h[f])};return function(p,h){d(p,h);function f(){this.constructor=p}p.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),l=i(1),u=function(d){o(p,d);function p(h){var f=d.call(this,h)||this;return f.text=f.statics.value(f.domNode),f}return p.create=function(h){return document.createTextNode(h)},p.value=function(h){var f=h.data;return f.normalize&&(f=f.normalize()),f},p.prototype.deleteAt=function(h,f){this.domNode.data=this.text=this.text.slice(0,h)+this.text.slice(h+f)},p.prototype.index=function(h,f){return this.domNode===h?f:-1},p.prototype.insertAt=function(h,f,a){a==null?(this.text=this.text.slice(0,h)+f+this.text.slice(h),this.domNode.data=this.text):d.prototype.insertAt.call(this,h,f,a)},p.prototype.length=function(){return this.text.length},p.prototype.optimize=function(h){d.prototype.optimize.call(this,h),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof p&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},p.prototype.position=function(h,f){return[this.domNode,h]},p.prototype.split=function(h,f){if(f===void 0&&(f=!1),!f){if(h===0)return this;if(h===this.length())return this.next}var a=l.create(this.domNode.splitText(h));return this.parent.insertBefore(a,this.next),this.text=this.statics.value(this.domNode),a},p.prototype.update=function(h,f){var a=this;h.some(function(m){return m.type==="characterData"&&m.target===a.domNode})&&(this.text=this.statics.value(this.domNode))},p.prototype.value=function(){return this.text},p.blotName="text",p.scope=l.Scope.INLINE_BLOT,p}(s.default);r.default=u},function(e,r,i){var o=document.createElement("div");if(o.classList.toggle("test-class",!1),o.classList.contains("test-class")){var s=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(l,u){return arguments.length>1&&!this.contains(l)==!u?u:s.call(this,l)}}String.prototype.startsWith||(String.prototype.startsWith=function(l,u){return u=u||0,this.substr(u,l.length)===l}),String.prototype.endsWith||(String.prototype.endsWith=function(l,u){var d=this.toString();(typeof u!="number"||!isFinite(u)||Math.floor(u)!==u||u>d.length)&&(u=d.length),u-=l.length;var p=d.indexOf(l,u);return p!==-1&&p===u}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(u){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof u!="function")throw new TypeError("predicate must be a function");for(var d=Object(this),p=d.length>>>0,h=arguments[1],f,a=0;a<p;a++)if(f=d[a],u.call(h,f,a,d))return f}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(e,r){var i=-1,o=1,s=0;function l(b,x,I){if(b==x)return b?[[s,b]]:[];(I<0||b.length<I)&&(I=null);var P=h(b,x),E=b.substring(0,P);b=b.substring(P),x=x.substring(P),P=f(b,x);var B=b.substring(b.length-P);b=b.substring(0,b.length-P),x=x.substring(0,x.length-P);var D=u(b,x);return E&&D.unshift([s,E]),B&&D.push([s,B]),m(D),I!=null&&(D=v(D,I)),D=g(D),D}function u(b,x){var I;if(!b)return[[o,x]];if(!x)return[[i,b]];var P=b.length>x.length?b:x,E=b.length>x.length?x:b,B=P.indexOf(E);if(B!=-1)return I=[[o,P.substring(0,B)],[s,E],[o,P.substring(B+E.length)]],b.length>x.length&&(I[0][0]=I[2][0]=i),I;if(E.length==1)return[[i,b],[o,x]];var D=a(b,x);if(D){var N=D[0],L=D[1],C=D[2],j=D[3],U=D[4],G=l(N,C),Z=l(L,j);return G.concat([[s,U]],Z)}return d(b,x)}function d(b,x){for(var I=b.length,P=x.length,E=Math.ceil((I+P)/2),B=E,D=2*E,N=new Array(D),L=new Array(D),C=0;C<D;C++)N[C]=-1,L[C]=-1;N[B+1]=0,L[B+1]=0;for(var j=I-P,U=j%2!=0,G=0,Z=0,nt=0,tt=0,K=0;K<E;K++){for(var z=-K+G;z<=K-Z;z+=2){var O=B+z,R;z==-K||z!=K&&N[O-1]<N[O+1]?R=N[O+1]:R=N[O-1]+1;for(var V=R-z;R<I&&V<P&&b.charAt(R)==x.charAt(V);)R++,V++;if(N[O]=R,R>I)Z+=2;else if(V>P)G+=2;else if(U){var M=B+j-z;if(M>=0&&M<D&&L[M]!=-1){var T=I-L[M];if(R>=T)return p(b,x,R,V)}}}for(var F=-K+nt;F<=K-tt;F+=2){var M=B+F,T;F==-K||F!=K&&L[M-1]<L[M+1]?T=L[M+1]:T=L[M-1]+1;for(var H=T-F;T<I&&H<P&&b.charAt(I-T-1)==x.charAt(P-H-1);)T++,H++;if(L[M]=T,T>I)tt+=2;else if(H>P)nt+=2;else if(!U){var O=B+j-F;if(O>=0&&O<D&&N[O]!=-1){var R=N[O],V=B+R-O;if(T=I-T,R>=T)return p(b,x,R,V)}}}}return[[i,b],[o,x]]}function p(b,x,I,P){var E=b.substring(0,I),B=x.substring(0,P),D=b.substring(I),N=x.substring(P),L=l(E,B),C=l(D,N);return L.concat(C)}function h(b,x){if(!b||!x||b.charAt(0)!=x.charAt(0))return 0;for(var I=0,P=Math.min(b.length,x.length),E=P,B=0;I<E;)b.substring(B,E)==x.substring(B,E)?(I=E,B=I):P=E,E=Math.floor((P-I)/2+I);return E}function f(b,x){if(!b||!x||b.charAt(b.length-1)!=x.charAt(x.length-1))return 0;for(var I=0,P=Math.min(b.length,x.length),E=P,B=0;I<E;)b.substring(b.length-E,b.length-B)==x.substring(x.length-E,x.length-B)?(I=E,B=I):P=E,E=Math.floor((P-I)/2+I);return E}function a(b,x){var I=b.length>x.length?b:x,P=b.length>x.length?x:b;if(I.length<4||P.length*2<I.length)return null;function E(Z,nt,tt){for(var K=Z.substring(tt,tt+Math.floor(Z.length/4)),z=-1,O="",R,V,M,T;(z=nt.indexOf(K,z+1))!=-1;){var F=h(Z.substring(tt),nt.substring(z)),H=f(Z.substring(0,tt),nt.substring(0,z));O.length<H+F&&(O=nt.substring(z-H,z)+nt.substring(z,z+F),R=Z.substring(0,tt-H),V=Z.substring(tt+F),M=nt.substring(0,z-H),T=nt.substring(z+F))}return O.length*2>=Z.length?[R,V,M,T,O]:null}var B=E(I,P,Math.ceil(I.length/4)),D=E(I,P,Math.ceil(I.length/2)),N;if(!B&&!D)return null;D?B?N=B[4].length>D[4].length?B:D:N=D:N=B;var L,C,j,U;b.length>x.length?(L=N[0],C=N[1],j=N[2],U=N[3]):(j=N[0],U=N[1],L=N[2],C=N[3]);var G=N[4];return[L,C,j,U,G]}function m(b){b.push([s,""]);for(var x=0,I=0,P=0,E="",B="",D;x<b.length;)switch(b[x][0]){case o:P++,B+=b[x][1],x++;break;case i:I++,E+=b[x][1],x++;break;case s:I+P>1?(I!==0&&P!==0&&(D=h(B,E),D!==0&&(x-I-P>0&&b[x-I-P-1][0]==s?b[x-I-P-1][1]+=B.substring(0,D):(b.splice(0,0,[s,B.substring(0,D)]),x++),B=B.substring(D),E=E.substring(D)),D=f(B,E),D!==0&&(b[x][1]=B.substring(B.length-D)+b[x][1],B=B.substring(0,B.length-D),E=E.substring(0,E.length-D))),I===0?b.splice(x-P,I+P,[o,B]):P===0?b.splice(x-I,I+P,[i,E]):b.splice(x-I-P,I+P,[i,E],[o,B]),x=x-I-P+(I?1:0)+(P?1:0)+1):x!==0&&b[x-1][0]==s?(b[x-1][1]+=b[x][1],b.splice(x,1)):x++,P=0,I=0,E="",B="";break}b[b.length-1][1]===""&&b.pop();var N=!1;for(x=1;x<b.length-1;)b[x-1][0]==s&&b[x+1][0]==s&&(b[x][1].substring(b[x][1].length-b[x-1][1].length)==b[x-1][1]?(b[x][1]=b[x-1][1]+b[x][1].substring(0,b[x][1].length-b[x-1][1].length),b[x+1][1]=b[x-1][1]+b[x+1][1],b.splice(x-1,1),N=!0):b[x][1].substring(0,b[x+1][1].length)==b[x+1][1]&&(b[x-1][1]+=b[x+1][1],b[x][1]=b[x][1].substring(b[x+1][1].length)+b[x+1][1],b.splice(x+1,1),N=!0)),x++;N&&m(b)}var _=l;_.INSERT=o,_.DELETE=i,_.EQUAL=s,e.exports=_;function A(b,x){if(x===0)return[s,b];for(var I=0,P=0;P<b.length;P++){var E=b[P];if(E[0]===i||E[0]===s){var B=I+E[1].length;if(x===B)return[P+1,b];if(x<B){b=b.slice();var D=x-I,N=[E[0],E[1].slice(0,D)],L=[E[0],E[1].slice(D)];return b.splice(P,1,N,L),[P+1,b]}else I=B}}throw new Error("cursor_pos is out of bounds!")}function v(b,x){var I=A(b,x),P=I[1],E=I[0],B=P[E],D=P[E+1];if(B==null)return b;if(B[0]!==s)return b;if(D!=null&&B[1]+D[1]===D[1]+B[1])return P.splice(E,2,D,B),y(P,E,2);if(D!=null&&D[1].indexOf(B[1])===0){P.splice(E,2,[D[0],B[1]],[0,B[1]]);var N=D[1].slice(B[1].length);return N.length>0&&P.splice(E+2,0,[D[0],N]),y(P,E,3)}else return b}function g(b){for(var x=!1,I=function(D){return D.charCodeAt(0)>=56320&&D.charCodeAt(0)<=57343},P=function(D){return D.charCodeAt(D.length-1)>=55296&&D.charCodeAt(D.length-1)<=56319},E=2;E<b.length;E+=1)b[E-2][0]===s&&P(b[E-2][1])&&b[E-1][0]===i&&I(b[E-1][1])&&b[E][0]===o&&I(b[E][1])&&(x=!0,b[E-1][1]=b[E-2][1].slice(-1)+b[E-1][1],b[E][1]=b[E-2][1].slice(-1)+b[E][1],b[E-2][1]=b[E-2][1].slice(0,-1));if(!x)return b;for(var B=[],E=0;E<b.length;E+=1)b[E][1].length>0&&B.push(b[E]);return B}function y(b,x,I){for(var P=x+I-1;P>=0&&P>=x-1;P--)if(P+1<b.length){var E=b[P],B=b[P+1];E[0]===B[1]&&b.splice(P,2,[E[0],E[1]+B[1]])}return b}},function(e,r){r=e.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(o){var s=[];for(var l in o)s.push(l);return s}},function(e,r){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=e.exports=i?o:s,r.supported=o;function o(l){return Object.prototype.toString.call(l)=="[object Arguments]"}r.unsupported=s;function s(l){return l&&typeof l=="object"&&typeof l.length=="number"&&Object.prototype.hasOwnProperty.call(l,"callee")&&!Object.prototype.propertyIsEnumerable.call(l,"callee")||!1}},function(e,r){var i=Object.prototype.hasOwnProperty,o="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(o=!1));function l(d,p,h){this.fn=d,this.context=p,this.once=h||!1}function u(){this._events=new s,this._eventsCount=0}u.prototype.eventNames=function(){var p=[],h,f;if(this._eventsCount===0)return p;for(f in h=this._events)i.call(h,f)&&p.push(o?f.slice(1):f);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(h)):p},u.prototype.listeners=function(p,h){var f=o?o+p:p,a=this._events[f];if(h)return!!a;if(!a)return[];if(a.fn)return[a.fn];for(var m=0,_=a.length,A=new Array(_);m<_;m++)A[m]=a[m].fn;return A},u.prototype.emit=function(p,h,f,a,m,_){var A=o?o+p:p;if(!this._events[A])return!1;var v=this._events[A],g=arguments.length,y,b;if(v.fn){switch(v.once&&this.removeListener(p,v.fn,void 0,!0),g){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,h),!0;case 3:return v.fn.call(v.context,h,f),!0;case 4:return v.fn.call(v.context,h,f,a),!0;case 5:return v.fn.call(v.context,h,f,a,m),!0;case 6:return v.fn.call(v.context,h,f,a,m,_),!0}for(b=1,y=new Array(g-1);b<g;b++)y[b-1]=arguments[b];v.fn.apply(v.context,y)}else{var x=v.length,I;for(b=0;b<x;b++)switch(v[b].once&&this.removeListener(p,v[b].fn,void 0,!0),g){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,h);break;case 3:v[b].fn.call(v[b].context,h,f);break;case 4:v[b].fn.call(v[b].context,h,f,a);break;default:if(!y)for(I=1,y=new Array(g-1);I<g;I++)y[I-1]=arguments[I];v[b].fn.apply(v[b].context,y)}}return!0},u.prototype.on=function(p,h,f){var a=new l(h,f||this),m=o?o+p:p;return this._events[m]?this._events[m].fn?this._events[m]=[this._events[m],a]:this._events[m].push(a):(this._events[m]=a,this._eventsCount++),this},u.prototype.once=function(p,h,f){var a=new l(h,f||this,!0),m=o?o+p:p;return this._events[m]?this._events[m].fn?this._events[m]=[this._events[m],a]:this._events[m].push(a):(this._events[m]=a,this._eventsCount++),this},u.prototype.removeListener=function(p,h,f,a){var m=o?o+p:p;if(!this._events[m])return this;if(!h)return--this._eventsCount===0?this._events=new s:delete this._events[m],this;var _=this._events[m];if(_.fn)_.fn===h&&(!a||_.once)&&(!f||_.context===f)&&(--this._eventsCount===0?this._events=new s:delete this._events[m]);else{for(var A=0,v=[],g=_.length;A<g;A++)(_[A].fn!==h||a&&!_[A].once||f&&_[A].context!==f)&&v.push(_[A]);v.length?this._events[m]=v.length===1?v[0]:v:--this._eventsCount===0?this._events=new s:delete this._events[m]}return this},u.prototype.removeAllListeners=function(p){var h;return p?(h=o?o+p:p,this._events[h]&&(--this._eventsCount===0?this._events=new s:delete this._events[h])):(this._events=new s,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prototype.setMaxListeners=function(){return this},u.prefixed=o,u.EventEmitter=u,typeof e<"u"&&(e.exports=u)},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(dt){return typeof dt}:function(dt){return dt&&typeof Symbol=="function"&&dt.constructor===Symbol&&dt!==Symbol.prototype?"symbol":typeof dt},s=function(){function dt(at,lt){var yt=[],pt=!0,Ct=!1,Tt=void 0;try{for(var Rt=at[Symbol.iterator](),Ht;!(pt=(Ht=Rt.next()).done)&&(yt.push(Ht.value),!(lt&&yt.length===lt));pt=!0);}catch(Yt){Ct=!0,Tt=Yt}finally{try{!pt&&Rt.return&&Rt.return()}finally{if(Ct)throw Tt}}return yt}return function(at,lt){if(Array.isArray(at))return at;if(Symbol.iterator in Object(at))return dt(at,lt);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function dt(at,lt){for(var yt=0;yt<lt.length;yt++){var pt=lt[yt];pt.enumerable=pt.enumerable||!1,pt.configurable=!0,"value"in pt&&(pt.writable=!0),Object.defineProperty(at,pt.key,pt)}}return function(at,lt,yt){return lt&&dt(at.prototype,lt),yt&&dt(at,yt),at}}(),u=i(3),d=L(u),p=i(2),h=L(p),f=i(0),a=L(f),m=i(5),_=L(m),A=i(10),v=L(A),g=i(9),y=L(g),b=i(36),x=i(37),I=i(13),P=L(I),E=i(26),B=i(38),D=i(39),N=i(40);function L(dt){return dt&&dt.__esModule?dt:{default:dt}}function C(dt,at,lt){return at in dt?Object.defineProperty(dt,at,{value:lt,enumerable:!0,configurable:!0,writable:!0}):dt[at]=lt,dt}function j(dt,at){if(!(dt instanceof at))throw new TypeError("Cannot call a class as a function")}function U(dt,at){if(!dt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return at&&(typeof at=="object"||typeof at=="function")?at:dt}function G(dt,at){if(typeof at!="function"&&at!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof at);dt.prototype=Object.create(at&&at.prototype,{constructor:{value:dt,enumerable:!1,writable:!0,configurable:!0}}),at&&(Object.setPrototypeOf?Object.setPrototypeOf(dt,at):dt.__proto__=at)}var Z=(0,v.default)("quill:clipboard"),nt="__ql-matcher",tt=[[Node.TEXT_NODE,Wt],[Node.TEXT_NODE,Pt],["br",ut],[Node.ELEMENT_NODE,Pt],[Node.ELEMENT_NODE,st],[Node.ELEMENT_NODE,bt],[Node.ELEMENT_NODE,X],[Node.ELEMENT_NODE,it],["li",At],["b",H.bind(H,"bold")],["i",H.bind(H,"italic")],["style",Nt]],K=[b.AlignAttribute,B.DirectionAttribute].reduce(function(dt,at){return dt[at.keyName]=at,dt},{}),z=[b.AlignStyle,x.BackgroundStyle,E.ColorStyle,B.DirectionStyle,D.FontStyle,N.SizeStyle].reduce(function(dt,at){return dt[at.keyName]=at,dt},{}),O=function(dt){G(at,dt);function at(lt,yt){j(this,at);var pt=U(this,(at.__proto__||Object.getPrototypeOf(at)).call(this,lt,yt));return pt.quill.root.addEventListener("paste",pt.onPaste.bind(pt)),pt.container=pt.quill.addContainer("ql-clipboard"),pt.container.setAttribute("contenteditable",!0),pt.container.setAttribute("tabindex",-1),pt.matchers=[],tt.concat(pt.options.matchers).forEach(function(Ct){var Tt=s(Ct,2),Rt=Tt[0],Ht=Tt[1];!yt.matchVisual&&Ht===bt||pt.addMatcher(Rt,Ht)}),pt}return l(at,[{key:"addMatcher",value:function(yt,pt){this.matchers.push([yt,pt])}},{key:"convert",value:function(yt){if(typeof yt=="string")return this.container.innerHTML=yt.replace(/\>\r?\n +\</g,"><"),this.convert();var pt=this.quill.getFormat(this.quill.selection.savedRange.index);if(pt[P.default.blotName]){var Ct=this.container.innerText;return this.container.innerHTML="",new h.default().insert(Ct,C({},P.default.blotName,pt[P.default.blotName]))}var Tt=this.prepareMatching(),Rt=s(Tt,2),Ht=Rt[0],Yt=Rt[1],Vt=F(this.container,Ht,Yt);return M(Vt,`
`)&&Vt.ops[Vt.ops.length-1].attributes==null&&(Vt=Vt.compose(new h.default().retain(Vt.length()-1).delete(1))),Z.log("convert",this.container.innerHTML,Vt),this.container.innerHTML="",Vt}},{key:"dangerouslyPasteHTML",value:function(yt,pt){var Ct=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_.default.sources.API;if(typeof yt=="string")this.quill.setContents(this.convert(yt),pt),this.quill.setSelection(0,_.default.sources.SILENT);else{var Tt=this.convert(pt);this.quill.updateContents(new h.default().retain(yt).concat(Tt),Ct),this.quill.setSelection(yt+Tt.length(),_.default.sources.SILENT)}}},{key:"onPaste",value:function(yt){var pt=this;if(!(yt.defaultPrevented||!this.quill.isEnabled())){var Ct=this.quill.getSelection(),Tt=new h.default().retain(Ct.index),Rt=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(_.default.sources.SILENT),setTimeout(function(){Tt=Tt.concat(pt.convert()).delete(Ct.length),pt.quill.updateContents(Tt,_.default.sources.USER),pt.quill.setSelection(Tt.length()-Ct.length,_.default.sources.SILENT),pt.quill.scrollingContainer.scrollTop=Rt,pt.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var yt=this,pt=[],Ct=[];return this.matchers.forEach(function(Tt){var Rt=s(Tt,2),Ht=Rt[0],Yt=Rt[1];switch(Ht){case Node.TEXT_NODE:Ct.push(Yt);break;case Node.ELEMENT_NODE:pt.push(Yt);break;default:[].forEach.call(yt.container.querySelectorAll(Ht),function(Vt){Vt[nt]=Vt[nt]||[],Vt[nt].push(Yt)});break}}),[pt,Ct]}}]),at}(y.default);O.DEFAULTS={matchers:[],matchVisual:!0};function R(dt,at,lt){return(typeof at>"u"?"undefined":o(at))==="object"?Object.keys(at).reduce(function(yt,pt){return R(yt,pt,at[pt])},dt):dt.reduce(function(yt,pt){return pt.attributes&&pt.attributes[at]?yt.push(pt):yt.insert(pt.insert,(0,d.default)({},C({},at,lt),pt.attributes))},new h.default)}function V(dt){if(dt.nodeType!==Node.ELEMENT_NODE)return{};var at="__ql-computed-style";return dt[at]||(dt[at]=window.getComputedStyle(dt))}function M(dt,at){for(var lt="",yt=dt.ops.length-1;yt>=0&&lt.length<at.length;--yt){var pt=dt.ops[yt];if(typeof pt.insert!="string")break;lt=pt.insert+lt}return lt.slice(-1*at.length)===at}function T(dt){if(dt.childNodes.length===0)return!1;var at=V(dt);return["block","list-item"].indexOf(at.display)>-1}function F(dt,at,lt){return dt.nodeType===dt.TEXT_NODE?lt.reduce(function(yt,pt){return pt(dt,yt)},new h.default):dt.nodeType===dt.ELEMENT_NODE?[].reduce.call(dt.childNodes||[],function(yt,pt){var Ct=F(pt,at,lt);return pt.nodeType===dt.ELEMENT_NODE&&(Ct=at.reduce(function(Tt,Rt){return Rt(pt,Tt)},Ct),Ct=(pt[nt]||[]).reduce(function(Tt,Rt){return Rt(pt,Tt)},Ct)),yt.concat(Ct)},new h.default):new h.default}function H(dt,at,lt){return R(lt,dt,!0)}function X(dt,at){var lt=a.default.Attributor.Attribute.keys(dt),yt=a.default.Attributor.Class.keys(dt),pt=a.default.Attributor.Style.keys(dt),Ct={};return lt.concat(yt).concat(pt).forEach(function(Tt){var Rt=a.default.query(Tt,a.default.Scope.ATTRIBUTE);Rt!=null&&(Ct[Rt.attrName]=Rt.value(dt),Ct[Rt.attrName])||(Rt=K[Tt],Rt!=null&&(Rt.attrName===Tt||Rt.keyName===Tt)&&(Ct[Rt.attrName]=Rt.value(dt)||void 0),Rt=z[Tt],Rt!=null&&(Rt.attrName===Tt||Rt.keyName===Tt)&&(Rt=z[Tt],Ct[Rt.attrName]=Rt.value(dt)||void 0))}),Object.keys(Ct).length>0&&(at=R(at,Ct)),at}function st(dt,at){var lt=a.default.query(dt);if(lt==null)return at;if(lt.prototype instanceof a.default.Embed){var yt={},pt=lt.value(dt);pt!=null&&(yt[lt.blotName]=pt,at=new h.default().insert(yt,lt.formats(dt)))}else typeof lt.formats=="function"&&(at=R(at,lt.blotName,lt.formats(dt)));return at}function ut(dt,at){return M(at,`
`)||at.insert(`
`),at}function Nt(){return new h.default}function At(dt,at){var lt=a.default.query(dt);if(lt==null||lt.blotName!=="list-item"||!M(at,`
`))return at;for(var yt=-1,pt=dt.parentNode;!pt.classList.contains("ql-clipboard");)(a.default.query(pt)||{}).blotName==="list"&&(yt+=1),pt=pt.parentNode;return yt<=0?at:at.compose(new h.default().retain(at.length()-1).retain(1,{indent:yt}))}function Pt(dt,at){return M(at,`
`)||(T(dt)||at.length()>0&&dt.nextSibling&&T(dt.nextSibling))&&at.insert(`
`),at}function bt(dt,at){if(T(dt)&&dt.nextElementSibling!=null&&!M(at,`

`)){var lt=dt.offsetHeight+parseFloat(V(dt).marginTop)+parseFloat(V(dt).marginBottom);dt.nextElementSibling.offsetTop>dt.offsetTop+lt*1.5&&at.insert(`
`)}return at}function it(dt,at){var lt={},yt=dt.style||{};return yt.fontStyle&&V(dt).fontStyle==="italic"&&(lt.italic=!0),yt.fontWeight&&(V(dt).fontWeight.startsWith("bold")||parseInt(V(dt).fontWeight)>=700)&&(lt.bold=!0),Object.keys(lt).length>0&&(at=R(at,lt)),parseFloat(yt.textIndent||0)>0&&(at=new h.default().insert("	").concat(at)),at}function Wt(dt,at){var lt=dt.data;if(dt.parentNode.tagName==="O:P")return at.insert(lt.trim());if(lt.trim().length===0&&dt.parentNode.classList.contains("ql-clipboard"))return at;if(!V(dt.parentNode).whiteSpace.startsWith("pre")){var yt=function(Ct,Tt){return Tt=Tt.replace(/[^\u00a0]/g,""),Tt.length<1&&Ct?" ":Tt};lt=lt.replace(/\r\n/g," ").replace(/\n/g," "),lt=lt.replace(/\s\s+/g,yt.bind(yt,!0)),(dt.previousSibling==null&&T(dt.parentNode)||dt.previousSibling!=null&&T(dt.previousSibling))&&(lt=lt.replace(/^\s+/,yt.bind(yt,!1))),(dt.nextSibling==null&&T(dt.parentNode)||dt.nextSibling!=null&&T(dt.nextSibling))&&(lt=lt.replace(/\s+$/,yt.bind(yt,!1)))}return at.insert(lt)}r.default=O,r.matchAttributor=X,r.matchBlot=st,r.matchNewline=Pt,r.matchSpacing=bt,r.matchText=Wt},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function m(_,A){for(var v=0;v<A.length;v++){var g=A[v];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(_,g.key,g)}}return function(_,A,v){return A&&m(_.prototype,A),v&&m(_,v),_}}(),s=function m(_,A,v){_===null&&(_=Function.prototype);var g=Object.getOwnPropertyDescriptor(_,A);if(g===void 0){var y=Object.getPrototypeOf(_);return y===null?void 0:m(y,A,v)}else{if("value"in g)return g.value;var b=g.get;return b===void 0?void 0:b.call(v)}},l=i(6),u=d(l);function d(m){return m&&m.__esModule?m:{default:m}}function p(m,_){if(!(m instanceof _))throw new TypeError("Cannot call a class as a function")}function h(m,_){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:m}function f(m,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);m.prototype=Object.create(_&&_.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(m,_):m.__proto__=_)}var a=function(m){f(_,m);function _(){return p(this,_),h(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return o(_,[{key:"optimize",value:function(v){s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"optimize",this).call(this,v),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return s(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),_}(u.default);a.blotName="bold",a.tagName=["STRONG","B"],r.default=a},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var o=function(){function N(L,C){var j=[],U=!0,G=!1,Z=void 0;try{for(var nt=L[Symbol.iterator](),tt;!(U=(tt=nt.next()).done)&&(j.push(tt.value),!(C&&j.length===C));U=!0);}catch(K){G=!0,Z=K}finally{try{!U&&nt.return&&nt.return()}finally{if(G)throw Z}}return j}return function(L,C){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return N(L,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function N(L,C){for(var j=0;j<C.length;j++){var U=C[j];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(L,U.key,U)}}return function(L,C,j){return C&&N(L.prototype,C),j&&N(L,j),L}}(),l=i(2),u=v(l),d=i(0),p=v(d),h=i(5),f=v(h),a=i(10),m=v(a),_=i(9),A=v(_);function v(N){return N&&N.__esModule?N:{default:N}}function g(N,L,C){return L in N?Object.defineProperty(N,L,{value:C,enumerable:!0,configurable:!0,writable:!0}):N[L]=C,N}function y(N,L){if(!(N instanceof L))throw new TypeError("Cannot call a class as a function")}function b(N,L){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:N}function x(N,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);N.prototype=Object.create(L&&L.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(N,L):N.__proto__=L)}var I=(0,m.default)("quill:toolbar"),P=function(N){x(L,N);function L(C,j){y(this,L);var U=b(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,C,j));if(Array.isArray(U.options.container)){var G=document.createElement("div");B(G,U.options.container),C.container.parentNode.insertBefore(G,C.container),U.container=G}else typeof U.options.container=="string"?U.container=document.querySelector(U.options.container):U.container=U.options.container;if(!(U.container instanceof HTMLElement)){var Z;return Z=I.error("Container required for toolbar",U.options),b(U,Z)}return U.container.classList.add("ql-toolbar"),U.controls=[],U.handlers={},Object.keys(U.options.handlers).forEach(function(nt){U.addHandler(nt,U.options.handlers[nt])}),[].forEach.call(U.container.querySelectorAll("button, select"),function(nt){U.attach(nt)}),U.quill.on(f.default.events.EDITOR_CHANGE,function(nt,tt){nt===f.default.events.SELECTION_CHANGE&&U.update(tt)}),U.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){var nt=U.quill.selection.getRange(),tt=o(nt,1),K=tt[0];U.update(K)}),U}return s(L,[{key:"addHandler",value:function(j,U){this.handlers[j]=U}},{key:"attach",value:function(j){var U=this,G=[].find.call(j.classList,function(nt){return nt.indexOf("ql-")===0});if(G){if(G=G.slice(3),j.tagName==="BUTTON"&&j.setAttribute("type","button"),this.handlers[G]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[G]==null){I.warn("ignoring attaching to disabled format",G,j);return}if(p.default.query(G)==null){I.warn("ignoring attaching to nonexistent format",G,j);return}}var Z=j.tagName==="SELECT"?"change":"click";j.addEventListener(Z,function(nt){var tt=void 0;if(j.tagName==="SELECT"){if(j.selectedIndex<0)return;var K=j.options[j.selectedIndex];K.hasAttribute("selected")?tt=!1:tt=K.value||!1}else j.classList.contains("ql-active")?tt=!1:tt=j.value||!j.hasAttribute("value"),nt.preventDefault();U.quill.focus();var z=U.quill.selection.getRange(),O=o(z,1),R=O[0];if(U.handlers[G]!=null)U.handlers[G].call(U,tt);else if(p.default.query(G).prototype instanceof p.default.Embed){if(tt=prompt("Enter "+G),!tt)return;U.quill.updateContents(new u.default().retain(R.index).delete(R.length).insert(g({},G,tt)),f.default.sources.USER)}else U.quill.format(G,tt,f.default.sources.USER);U.update(R)}),this.controls.push([G,j])}}},{key:"update",value:function(j){var U=j==null?{}:this.quill.getFormat(j);this.controls.forEach(function(G){var Z=o(G,2),nt=Z[0],tt=Z[1];if(tt.tagName==="SELECT"){var K=void 0;if(j==null)K=null;else if(U[nt]==null)K=tt.querySelector("option[selected]");else if(!Array.isArray(U[nt])){var z=U[nt];typeof z=="string"&&(z=z.replace(/\"/g,'\\"')),K=tt.querySelector('option[value="'+z+'"]')}K==null?(tt.value="",tt.selectedIndex=-1):K.selected=!0}else if(j==null)tt.classList.remove("ql-active");else if(tt.hasAttribute("value")){var O=U[nt]===tt.getAttribute("value")||U[nt]!=null&&U[nt].toString()===tt.getAttribute("value")||U[nt]==null&&!tt.getAttribute("value");tt.classList.toggle("ql-active",O)}else tt.classList.toggle("ql-active",U[nt]!=null)})}}]),L}(A.default);P.DEFAULTS={};function E(N,L,C){var j=document.createElement("button");j.setAttribute("type","button"),j.classList.add("ql-"+L),C!=null&&(j.value=C),N.appendChild(j)}function B(N,L){Array.isArray(L[0])||(L=[L]),L.forEach(function(C){var j=document.createElement("span");j.classList.add("ql-formats"),C.forEach(function(U){if(typeof U=="string")E(j,U);else{var G=Object.keys(U)[0],Z=U[G];Array.isArray(Z)?D(j,G,Z):E(j,G,Z)}}),N.appendChild(j)})}function D(N,L,C){var j=document.createElement("select");j.classList.add("ql-"+L),C.forEach(function(U){var G=document.createElement("option");U!==!1?G.setAttribute("value",U):G.setAttribute("selected","selected"),j.appendChild(G)}),N.appendChild(j)}P.DEFAULTS={container:null,handlers:{clean:function(){var L=this,C=this.quill.getSelection();if(C!=null)if(C.length==0){var j=this.quill.getFormat();Object.keys(j).forEach(function(U){p.default.query(U,p.default.Scope.INLINE)!=null&&L.quill.format(U,!1)})}else this.quill.removeFormat(C,f.default.sources.USER)},direction:function(L){var C=this.quill.getFormat().align;L==="rtl"&&C==null?this.quill.format("align","right",f.default.sources.USER):!L&&C==="right"&&this.quill.format("align",!1,f.default.sources.USER),this.quill.format("direction",L,f.default.sources.USER)},indent:function(L){var C=this.quill.getSelection(),j=this.quill.getFormat(C),U=parseInt(j.indent||0);if(L==="+1"||L==="-1"){var G=L==="+1"?1:-1;j.direction==="rtl"&&(G*=-1),this.quill.format("indent",U+G,f.default.sources.USER)}},link:function(L){L===!0&&(L=prompt("Enter link URL:")),this.quill.format("link",L,f.default.sources.USER)},list:function(L){var C=this.quill.getSelection(),j=this.quill.getFormat(C);L==="check"?j.list==="checked"||j.list==="unchecked"?this.quill.format("list",!1,f.default.sources.USER):this.quill.format("list","unchecked",f.default.sources.USER):this.quill.format("list",L,f.default.sources.USER)}}},r.default=P,r.addControls=B},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function m(_,A){for(var v=0;v<A.length;v++){var g=A[v];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(_,g.key,g)}}return function(_,A,v){return A&&m(_.prototype,A),v&&m(_,v),_}}(),s=function m(_,A,v){_===null&&(_=Function.prototype);var g=Object.getOwnPropertyDescriptor(_,A);if(g===void 0){var y=Object.getPrototypeOf(_);return y===null?void 0:m(y,A,v)}else{if("value"in g)return g.value;var b=g.get;return b===void 0?void 0:b.call(v)}},l=i(28),u=d(l);function d(m){return m&&m.__esModule?m:{default:m}}function p(m,_){if(!(m instanceof _))throw new TypeError("Cannot call a class as a function")}function h(m,_){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:m}function f(m,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);m.prototype=Object.create(_&&_.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(m,_):m.__proto__=_)}var a=function(m){f(_,m);function _(A,v){p(this,_);var g=h(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,A));return g.label.innerHTML=v,g.container.classList.add("ql-color-picker"),[].slice.call(g.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(y){y.classList.add("ql-primary")}),g}return o(_,[{key:"buildItem",value:function(v){var g=s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"buildItem",this).call(this,v);return g.style.backgroundColor=v.getAttribute("value")||"",g}},{key:"selectItem",value:function(v,g){s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"selectItem",this).call(this,v,g);var y=this.label.querySelector(".ql-color-label"),b=v&&v.getAttribute("data-value")||"";y&&(y.tagName==="line"?y.style.stroke=b:y.style.fill=b)}}]),_}(u.default);r.default=a},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function m(_,A){for(var v=0;v<A.length;v++){var g=A[v];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(_,g.key,g)}}return function(_,A,v){return A&&m(_.prototype,A),v&&m(_,v),_}}(),s=function m(_,A,v){_===null&&(_=Function.prototype);var g=Object.getOwnPropertyDescriptor(_,A);if(g===void 0){var y=Object.getPrototypeOf(_);return y===null?void 0:m(y,A,v)}else{if("value"in g)return g.value;var b=g.get;return b===void 0?void 0:b.call(v)}},l=i(28),u=d(l);function d(m){return m&&m.__esModule?m:{default:m}}function p(m,_){if(!(m instanceof _))throw new TypeError("Cannot call a class as a function")}function h(m,_){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:m}function f(m,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);m.prototype=Object.create(_&&_.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(m,_):m.__proto__=_)}var a=function(m){f(_,m);function _(A,v){p(this,_);var g=h(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,A));return g.container.classList.add("ql-icon-picker"),[].forEach.call(g.container.querySelectorAll(".ql-picker-item"),function(y){y.innerHTML=v[y.getAttribute("data-value")||""]}),g.defaultItem=g.container.querySelector(".ql-selected"),g.selectItem(g.defaultItem),g}return o(_,[{key:"selectItem",value:function(v,g){s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"selectItem",this).call(this,v,g),v=v||this.defaultItem,this.label.innerHTML=v.innerHTML}}]),_}(u.default);r.default=a},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function u(d,p){for(var h=0;h<p.length;h++){var f=p[h];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(d,f.key,f)}}return function(d,p,h){return p&&u(d.prototype,p),h&&u(d,h),d}}();function s(u,d){if(!(u instanceof d))throw new TypeError("Cannot call a class as a function")}var l=function(){function u(d,p){var h=this;s(this,u),this.quill=d,this.boundsContainer=p||document.body,this.root=d.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){h.root.style.marginTop=-1*h.quill.root.scrollTop+"px"}),this.hide()}return o(u,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(p){var h=p.left+p.width/2-this.root.offsetWidth/2,f=p.bottom+this.quill.root.scrollTop;this.root.style.left=h+"px",this.root.style.top=f+"px",this.root.classList.remove("ql-flip");var a=this.boundsContainer.getBoundingClientRect(),m=this.root.getBoundingClientRect(),_=0;if(m.right>a.right&&(_=a.right-m.right,this.root.style.left=h+_+"px"),m.left<a.left&&(_=a.left-m.left,this.root.style.left=h+_+"px"),m.bottom>a.bottom){var A=m.bottom-m.top,v=p.bottom-p.top+A;this.root.style.top=f-v+"px",this.root.classList.add("ql-flip")}return _}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),u}();r.default=l},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function D(N,L){var C=[],j=!0,U=!1,G=void 0;try{for(var Z=N[Symbol.iterator](),nt;!(j=(nt=Z.next()).done)&&(C.push(nt.value),!(L&&C.length===L));j=!0);}catch(tt){U=!0,G=tt}finally{try{!j&&Z.return&&Z.return()}finally{if(U)throw G}}return C}return function(N,L){if(Array.isArray(N))return N;if(Symbol.iterator in Object(N))return D(N,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function D(N,L,C){N===null&&(N=Function.prototype);var j=Object.getOwnPropertyDescriptor(N,L);if(j===void 0){var U=Object.getPrototypeOf(N);return U===null?void 0:D(U,L,C)}else{if("value"in j)return j.value;var G=j.get;return G===void 0?void 0:G.call(C)}},l=function(){function D(N,L){for(var C=0;C<L.length;C++){var j=L[C];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(N,j.key,j)}}return function(N,L,C){return L&&D(N.prototype,L),C&&D(N,C),N}}(),u=i(3),d=y(u),p=i(8),h=y(p),f=i(43),a=y(f),m=i(27),_=y(m),A=i(15),v=i(41),g=y(v);function y(D){return D&&D.__esModule?D:{default:D}}function b(D,N){if(!(D instanceof N))throw new TypeError("Cannot call a class as a function")}function x(D,N){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:D}function I(D,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);D.prototype=Object.create(N&&N.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(D,N):D.__proto__=N)}var P=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],E=function(D){I(N,D);function N(L,C){b(this,N),C.modules.toolbar!=null&&C.modules.toolbar.container==null&&(C.modules.toolbar.container=P);var j=x(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,L,C));return j.quill.container.classList.add("ql-snow"),j}return l(N,[{key:"extendToolbar",value:function(C){C.container.classList.add("ql-snow"),this.buildButtons([].slice.call(C.container.querySelectorAll("button")),g.default),this.buildPickers([].slice.call(C.container.querySelectorAll("select")),g.default),this.tooltip=new B(this.quill,this.options.bounds),C.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(j,U){C.handlers.link.call(C,!U.format.link)})}}]),N}(a.default);E.DEFAULTS=(0,d.default)(!0,{},a.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(N){if(N){var L=this.quill.getSelection();if(L==null||L.length==0)return;var C=this.quill.getText(L);/^\S+@\S+\.\S+$/.test(C)&&C.indexOf("mailto:")!==0&&(C="mailto:"+C);var j=this.quill.theme.tooltip;j.edit("link",C)}else this.quill.format("link",!1)}}}}});var B=function(D){I(N,D);function N(L,C){b(this,N);var j=x(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,L,C));return j.preview=j.root.querySelector("a.ql-preview"),j}return l(N,[{key:"listen",value:function(){var C=this;s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(j){C.root.classList.contains("ql-editing")?C.save():C.edit("link",C.preview.textContent),j.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(j){if(C.linkRange!=null){var U=C.linkRange;C.restoreFocus(),C.quill.formatText(U,"link",!1,h.default.sources.USER),delete C.linkRange}j.preventDefault(),C.hide()}),this.quill.on(h.default.events.SELECTION_CHANGE,function(j,U,G){if(j!=null){if(j.length===0&&G===h.default.sources.USER){var Z=C.quill.scroll.descendant(_.default,j.index),nt=o(Z,2),tt=nt[0],K=nt[1];if(tt!=null){C.linkRange=new A.Range(j.index-K,tt.length());var z=_.default.formats(tt.domNode);C.preview.textContent=z,C.preview.setAttribute("href",z),C.show(),C.position(C.quill.getBounds(C.linkRange));return}}else delete C.linkRange;C.hide()}})}},{key:"show",value:function(){s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),N}(f.BaseTooltip);B.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=E},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(29),s=pt(o),l=i(36),u=i(38),d=i(64),p=i(65),h=pt(p),f=i(66),a=pt(f),m=i(67),_=pt(m),A=i(37),v=i(26),g=i(39),y=i(40),b=i(56),x=pt(b),I=i(68),P=pt(I),E=i(27),B=pt(E),D=i(69),N=pt(D),L=i(70),C=pt(L),j=i(71),U=pt(j),G=i(72),Z=pt(G),nt=i(73),tt=pt(nt),K=i(13),z=pt(K),O=i(74),R=pt(O),V=i(75),M=pt(V),T=i(57),F=pt(T),H=i(41),X=pt(H),st=i(28),ut=pt(st),Nt=i(59),At=pt(Nt),Pt=i(60),bt=pt(Pt),it=i(61),Wt=pt(it),dt=i(108),at=pt(dt),lt=i(62),yt=pt(lt);function pt(Ct){return Ct&&Ct.__esModule?Ct:{default:Ct}}s.default.register({"attributors/attribute/direction":u.DirectionAttribute,"attributors/class/align":l.AlignClass,"attributors/class/background":A.BackgroundClass,"attributors/class/color":v.ColorClass,"attributors/class/direction":u.DirectionClass,"attributors/class/font":g.FontClass,"attributors/class/size":y.SizeClass,"attributors/style/align":l.AlignStyle,"attributors/style/background":A.BackgroundStyle,"attributors/style/color":v.ColorStyle,"attributors/style/direction":u.DirectionStyle,"attributors/style/font":g.FontStyle,"attributors/style/size":y.SizeStyle},!0),s.default.register({"formats/align":l.AlignClass,"formats/direction":u.DirectionClass,"formats/indent":d.IndentClass,"formats/background":A.BackgroundStyle,"formats/color":v.ColorStyle,"formats/font":g.FontClass,"formats/size":y.SizeClass,"formats/blockquote":h.default,"formats/code-block":z.default,"formats/header":a.default,"formats/list":_.default,"formats/bold":x.default,"formats/code":K.Code,"formats/italic":P.default,"formats/link":B.default,"formats/script":N.default,"formats/strike":C.default,"formats/underline":U.default,"formats/image":Z.default,"formats/video":tt.default,"formats/list/item":m.ListItem,"modules/formula":R.default,"modules/syntax":M.default,"modules/toolbar":F.default,"themes/bubble":at.default,"themes/snow":yt.default,"ui/icons":X.default,"ui/picker":ut.default,"ui/icon-picker":bt.default,"ui/color-picker":At.default,"ui/tooltip":Wt.default},!0),r.default=s.default},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var o=function(){function _(A,v){for(var g=0;g<v.length;g++){var y=v[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(A,y.key,y)}}return function(A,v,g){return v&&_(A.prototype,v),g&&_(A,g),A}}(),s=function _(A,v,g){A===null&&(A=Function.prototype);var y=Object.getOwnPropertyDescriptor(A,v);if(y===void 0){var b=Object.getPrototypeOf(A);return b===null?void 0:_(b,v,g)}else{if("value"in y)return y.value;var x=y.get;return x===void 0?void 0:x.call(g)}},l=i(0),u=d(l);function d(_){return _&&_.__esModule?_:{default:_}}function p(_,A){if(!(_ instanceof A))throw new TypeError("Cannot call a class as a function")}function h(_,A){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:_}function f(_,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);_.prototype=Object.create(A&&A.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(_,A):_.__proto__=A)}var a=function(_){f(A,_);function A(){return p(this,A),h(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return o(A,[{key:"add",value:function(g,y){if(y==="+1"||y==="-1"){var b=this.value(g)||0;y=y==="+1"?b+1:b-1}return y===0?(this.remove(g),!0):s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"add",this).call(this,g,y)}},{key:"canAdd",value:function(g,y){return s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"canAdd",this).call(this,g,y)||s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"canAdd",this).call(this,g,parseInt(y))}},{key:"value",value:function(g){return parseInt(s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"value",this).call(this,g))||void 0}}]),A}(u.default.Attributor.Class),m=new a("indent","ql-indent",{scope:u.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=m},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(4),s=l(o);function l(f){return f&&f.__esModule?f:{default:f}}function u(f,a){if(!(f instanceof a))throw new TypeError("Cannot call a class as a function")}function d(f,a){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:f}function p(f,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);f.prototype=Object.create(a&&a.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(f,a):f.__proto__=a)}var h=function(f){p(a,f);function a(){return u(this,a),d(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return a}(s.default);h.blotName="blockquote",h.tagName="blockquote",r.default=h},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function a(m,_){for(var A=0;A<_.length;A++){var v=_[A];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,v.key,v)}}return function(m,_,A){return _&&a(m.prototype,_),A&&a(m,A),m}}(),s=i(4),l=u(s);function u(a){return a&&a.__esModule?a:{default:a}}function d(a,m){if(!(a instanceof m))throw new TypeError("Cannot call a class as a function")}function p(a,m){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:a}function h(a,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);a.prototype=Object.create(m&&m.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(a,m):a.__proto__=m)}var f=function(a){h(m,a);function m(){return d(this,m),p(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,null,[{key:"formats",value:function(A){return this.tagName.indexOf(A.tagName)+1}}]),m}(l.default);f.blotName="header",f.tagName=["H1","H2","H3","H4","H5","H6"],r.default=f},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var o=function(){function b(x,I){for(var P=0;P<I.length;P++){var E=I[P];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(x,E.key,E)}}return function(x,I,P){return I&&b(x.prototype,I),P&&b(x,P),x}}(),s=function b(x,I,P){x===null&&(x=Function.prototype);var E=Object.getOwnPropertyDescriptor(x,I);if(E===void 0){var B=Object.getPrototypeOf(x);return B===null?void 0:b(B,I,P)}else{if("value"in E)return E.value;var D=E.get;return D===void 0?void 0:D.call(P)}},l=i(0),u=a(l),d=i(4),p=a(d),h=i(25),f=a(h);function a(b){return b&&b.__esModule?b:{default:b}}function m(b,x,I){return x in b?Object.defineProperty(b,x,{value:I,enumerable:!0,configurable:!0,writable:!0}):b[x]=I,b}function _(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function A(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:b}function v(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)}var g=function(b){v(x,b);function x(){return _(this,x),A(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return o(x,[{key:"format",value:function(P,E){P===y.blotName&&!E?this.replaceWith(u.default.create(this.statics.scope)):s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"format",this).call(this,P,E)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(P,E){return this.parent.isolate(this.offset(this.parent),this.length()),P===this.parent.statics.blotName?(this.parent.replaceWith(P,E),this):(this.parent.unwrap(),s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"replaceWith",this).call(this,P,E))}}],[{key:"formats",value:function(P){return P.tagName===this.tagName?void 0:s(x.__proto__||Object.getPrototypeOf(x),"formats",this).call(this,P)}}]),x}(p.default);g.blotName="list-item",g.tagName="LI";var y=function(b){v(x,b),o(x,null,[{key:"create",value:function(P){var E=P==="ordered"?"OL":"UL",B=s(x.__proto__||Object.getPrototypeOf(x),"create",this).call(this,E);return(P==="checked"||P==="unchecked")&&B.setAttribute("data-checked",P==="checked"),B}},{key:"formats",value:function(P){if(P.tagName==="OL")return"ordered";if(P.tagName==="UL")return P.hasAttribute("data-checked")?P.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function x(I){_(this,x);var P=A(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,I)),E=function(D){if(D.target.parentNode===I){var N=P.statics.formats(I),L=u.default.find(D.target);N==="checked"?L.format("list","unchecked"):N==="unchecked"&&L.format("list","checked")}};return I.addEventListener("touchstart",E),I.addEventListener("mousedown",E),P}return o(x,[{key:"format",value:function(P,E){this.children.length>0&&this.children.tail.format(P,E)}},{key:"formats",value:function(){return m({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(P,E){if(P instanceof g)s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"insertBefore",this).call(this,P,E);else{var B=E==null?this.length():E.offset(this),D=this.split(B);D.parent.insertBefore(P,D)}}},{key:"optimize",value:function(P){s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"optimize",this).call(this,P);var E=this.next;E!=null&&E.prev===this&&E.statics.blotName===this.statics.blotName&&E.domNode.tagName===this.domNode.tagName&&E.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(E.moveChildren(this),E.remove())}},{key:"replace",value:function(P){if(P.statics.blotName!==this.statics.blotName){var E=u.default.create(this.statics.defaultChild);P.moveChildren(E),this.appendChild(E)}s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"replace",this).call(this,P)}}]),x}(f.default);y.blotName="list",y.scope=u.default.Scope.BLOCK_BLOT,y.tagName=["OL","UL"],y.defaultChild="list-item",y.allowedChildren=[g],r.ListItem=g,r.default=y},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(56),s=l(o);function l(f){return f&&f.__esModule?f:{default:f}}function u(f,a){if(!(f instanceof a))throw new TypeError("Cannot call a class as a function")}function d(f,a){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:f}function p(f,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);f.prototype=Object.create(a&&a.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(f,a):f.__proto__=a)}var h=function(f){p(a,f);function a(){return u(this,a),d(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return a}(s.default);h.blotName="italic",h.tagName=["EM","I"],r.default=h},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function m(_,A){for(var v=0;v<A.length;v++){var g=A[v];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(_,g.key,g)}}return function(_,A,v){return A&&m(_.prototype,A),v&&m(_,v),_}}(),s=function m(_,A,v){_===null&&(_=Function.prototype);var g=Object.getOwnPropertyDescriptor(_,A);if(g===void 0){var y=Object.getPrototypeOf(_);return y===null?void 0:m(y,A,v)}else{if("value"in g)return g.value;var b=g.get;return b===void 0?void 0:b.call(v)}},l=i(6),u=d(l);function d(m){return m&&m.__esModule?m:{default:m}}function p(m,_){if(!(m instanceof _))throw new TypeError("Cannot call a class as a function")}function h(m,_){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:m}function f(m,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);m.prototype=Object.create(_&&_.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(m,_):m.__proto__=_)}var a=function(m){f(_,m);function _(){return p(this,_),h(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return o(_,null,[{key:"create",value:function(v){return v==="super"?document.createElement("sup"):v==="sub"?document.createElement("sub"):s(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,v)}},{key:"formats",value:function(v){if(v.tagName==="SUB")return"sub";if(v.tagName==="SUP")return"super"}}]),_}(u.default);a.blotName="script",a.tagName=["SUB","SUP"],r.default=a},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=l(o);function l(f){return f&&f.__esModule?f:{default:f}}function u(f,a){if(!(f instanceof a))throw new TypeError("Cannot call a class as a function")}function d(f,a){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:f}function p(f,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);f.prototype=Object.create(a&&a.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(f,a):f.__proto__=a)}var h=function(f){p(a,f);function a(){return u(this,a),d(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return a}(s.default);h.blotName="strike",h.tagName="S",r.default=h},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=l(o);function l(f){return f&&f.__esModule?f:{default:f}}function u(f,a){if(!(f instanceof a))throw new TypeError("Cannot call a class as a function")}function d(f,a){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:f}function p(f,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);f.prototype=Object.create(a&&a.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(f,a):f.__proto__=a)}var h=function(f){p(a,f);function a(){return u(this,a),d(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return a}(s.default);h.blotName="underline",h.tagName="U",r.default=h},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function A(v,g){for(var y=0;y<g.length;y++){var b=g[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}return function(v,g,y){return g&&A(v.prototype,g),y&&A(v,y),v}}(),s=function A(v,g,y){v===null&&(v=Function.prototype);var b=Object.getOwnPropertyDescriptor(v,g);if(b===void 0){var x=Object.getPrototypeOf(v);return x===null?void 0:A(x,g,y)}else{if("value"in b)return b.value;var I=b.get;return I===void 0?void 0:I.call(y)}},l=i(0),u=p(l),d=i(27);function p(A){return A&&A.__esModule?A:{default:A}}function h(A,v){if(!(A instanceof v))throw new TypeError("Cannot call a class as a function")}function f(A,v){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:A}function a(A,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);A.prototype=Object.create(v&&v.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(A,v):A.__proto__=v)}var m=["alt","height","width"],_=function(A){a(v,A);function v(){return h(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"format",value:function(y,b){m.indexOf(y)>-1?b?this.domNode.setAttribute(y,b):this.domNode.removeAttribute(y):s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,y,b)}}],[{key:"create",value:function(y){var b=s(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,y);return typeof y=="string"&&b.setAttribute("src",this.sanitize(y)),b}},{key:"formats",value:function(y){return m.reduce(function(b,x){return y.hasAttribute(x)&&(b[x]=y.getAttribute(x)),b},{})}},{key:"match",value:function(y){return/\.(jpe?g|gif|png)$/.test(y)||/^data:image\/.+;base64/.test(y)}},{key:"sanitize",value:function(y){return(0,d.sanitize)(y,["http","https","data"])?y:"//:0"}},{key:"value",value:function(y){return y.getAttribute("src")}}]),v}(u.default.Embed);_.blotName="image",_.tagName="IMG",r.default=_},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function A(v,g){for(var y=0;y<g.length;y++){var b=g[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}return function(v,g,y){return g&&A(v.prototype,g),y&&A(v,y),v}}(),s=function A(v,g,y){v===null&&(v=Function.prototype);var b=Object.getOwnPropertyDescriptor(v,g);if(b===void 0){var x=Object.getPrototypeOf(v);return x===null?void 0:A(x,g,y)}else{if("value"in b)return b.value;var I=b.get;return I===void 0?void 0:I.call(y)}},l=i(4),u=i(27),d=p(u);function p(A){return A&&A.__esModule?A:{default:A}}function h(A,v){if(!(A instanceof v))throw new TypeError("Cannot call a class as a function")}function f(A,v){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:A}function a(A,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);A.prototype=Object.create(v&&v.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(A,v):A.__proto__=v)}var m=["height","width"],_=function(A){a(v,A);function v(){return h(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"format",value:function(y,b){m.indexOf(y)>-1?b?this.domNode.setAttribute(y,b):this.domNode.removeAttribute(y):s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,y,b)}}],[{key:"create",value:function(y){var b=s(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,y);return b.setAttribute("frameborder","0"),b.setAttribute("allowfullscreen",!0),b.setAttribute("src",this.sanitize(y)),b}},{key:"formats",value:function(y){return m.reduce(function(b,x){return y.hasAttribute(x)&&(b[x]=y.getAttribute(x)),b},{})}},{key:"sanitize",value:function(y){return d.default.sanitize(y)}},{key:"value",value:function(y){return y.getAttribute("src")}}]),v}(l.BlockEmbed);_.blotName="video",_.className="ql-video",_.tagName="IFRAME",r.default=_},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var o=function(){function y(b,x){for(var I=0;I<x.length;I++){var P=x[I];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(b,P.key,P)}}return function(b,x,I){return x&&y(b.prototype,x),I&&y(b,I),b}}(),s=function y(b,x,I){b===null&&(b=Function.prototype);var P=Object.getOwnPropertyDescriptor(b,x);if(P===void 0){var E=Object.getPrototypeOf(b);return E===null?void 0:y(E,x,I)}else{if("value"in P)return P.value;var B=P.get;return B===void 0?void 0:B.call(I)}},l=i(35),u=a(l),d=i(5),p=a(d),h=i(9),f=a(h);function a(y){return y&&y.__esModule?y:{default:y}}function m(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}function _(y,b){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:y}function A(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(y,b):y.__proto__=b)}var v=function(y){A(b,y);function b(){return m(this,b),_(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return o(b,null,[{key:"create",value:function(I){var P=s(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,I);return typeof I=="string"&&(window.katex.render(I,P,{throwOnError:!1,errorColor:"#f00"}),P.setAttribute("data-value",I)),P}},{key:"value",value:function(I){return I.getAttribute("data-value")}}]),b}(u.default);v.blotName="formula",v.className="ql-formula",v.tagName="SPAN";var g=function(y){A(b,y),o(b,null,[{key:"register",value:function(){p.default.register(v,!0)}}]);function b(){m(this,b);var x=_(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return x}return b}(f.default);r.FormulaBlot=v,r.default=g},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var o=function(){function I(P,E){for(var B=0;B<E.length;B++){var D=E[B];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(P,D.key,D)}}return function(P,E,B){return E&&I(P.prototype,E),B&&I(P,B),P}}(),s=function I(P,E,B){P===null&&(P=Function.prototype);var D=Object.getOwnPropertyDescriptor(P,E);if(D===void 0){var N=Object.getPrototypeOf(P);return N===null?void 0:I(N,E,B)}else{if("value"in D)return D.value;var L=D.get;return L===void 0?void 0:L.call(B)}},l=i(0),u=_(l),d=i(5),p=_(d),h=i(9),f=_(h),a=i(13),m=_(a);function _(I){return I&&I.__esModule?I:{default:I}}function A(I,P){if(!(I instanceof P))throw new TypeError("Cannot call a class as a function")}function v(I,P){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:I}function g(I,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);I.prototype=Object.create(P&&P.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(I,P):I.__proto__=P)}var y=function(I){g(P,I);function P(){return A(this,P),v(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return o(P,[{key:"replaceWith",value:function(B){this.domNode.textContent=this.domNode.textContent,this.attach(),s(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"replaceWith",this).call(this,B)}},{key:"highlight",value:function(B){var D=this.domNode.textContent;this.cachedText!==D&&((D.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=B(D),this.domNode.normalize(),this.attach()),this.cachedText=D)}}]),P}(m.default);y.className="ql-syntax";var b=new u.default.Attributor.Class("token","hljs",{scope:u.default.Scope.INLINE}),x=function(I){g(P,I),o(P,null,[{key:"register",value:function(){p.default.register(b,!0),p.default.register(y,!0)}}]);function P(E,B){A(this,P);var D=v(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,E,B));if(typeof D.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var N=null;return D.quill.on(p.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(N),N=setTimeout(function(){D.highlight(),N=null},D.options.interval)}),D.highlight(),D}return o(P,[{key:"highlight",value:function(){var B=this;if(!this.quill.selection.composing){this.quill.update(p.default.sources.USER);var D=this.quill.getSelection();this.quill.scroll.descendants(y).forEach(function(N){N.highlight(B.options.highlight)}),this.quill.update(p.default.sources.SILENT),D!=null&&this.quill.setSelection(D,p.default.sources.SILENT)}}}]),P}(f.default);x.DEFAULTS={highlight:function(){return window.hljs==null?null:function(I){var P=window.hljs.highlightAuto(I);return P.value}}(),interval:1e3},r.CodeBlock=y,r.CodeToken=b,r.default=x},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(e,r){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(e,r){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(e,r){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(e,r){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(e,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var o=function P(E,B,D){E===null&&(E=Function.prototype);var N=Object.getOwnPropertyDescriptor(E,B);if(N===void 0){var L=Object.getPrototypeOf(E);return L===null?void 0:P(L,B,D)}else{if("value"in N)return N.value;var C=N.get;return C===void 0?void 0:C.call(D)}},s=function(){function P(E,B){for(var D=0;D<B.length;D++){var N=B[D];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(E,N.key,N)}}return function(E,B,D){return B&&P(E.prototype,B),D&&P(E,D),E}}(),l=i(3),u=A(l),d=i(8),p=A(d),h=i(43),f=A(h),a=i(15),m=i(41),_=A(m);function A(P){return P&&P.__esModule?P:{default:P}}function v(P,E){if(!(P instanceof E))throw new TypeError("Cannot call a class as a function")}function g(P,E){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:P}function y(P,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);P.prototype=Object.create(E&&E.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(P,E):P.__proto__=E)}var b=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],x=function(P){y(E,P);function E(B,D){v(this,E),D.modules.toolbar!=null&&D.modules.toolbar.container==null&&(D.modules.toolbar.container=b);var N=g(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,B,D));return N.quill.container.classList.add("ql-bubble"),N}return s(E,[{key:"extendToolbar",value:function(D){this.tooltip=new I(this.quill,this.options.bounds),this.tooltip.root.appendChild(D.container),this.buildButtons([].slice.call(D.container.querySelectorAll("button")),_.default),this.buildPickers([].slice.call(D.container.querySelectorAll("select")),_.default)}}]),E}(f.default);x.DEFAULTS=(0,u.default)(!0,{},f.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(E){E?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var I=function(P){y(E,P);function E(B,D){v(this,E);var N=g(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,B,D));return N.quill.on(p.default.events.EDITOR_CHANGE,function(L,C,j,U){if(L===p.default.events.SELECTION_CHANGE)if(C!=null&&C.length>0&&U===p.default.sources.USER){N.show(),N.root.style.left="0px",N.root.style.width="",N.root.style.width=N.root.offsetWidth+"px";var G=N.quill.getLines(C.index,C.length);if(G.length===1)N.position(N.quill.getBounds(C));else{var Z=G[G.length-1],nt=N.quill.getIndex(Z),tt=Math.min(Z.length()-1,C.index+C.length-nt),K=N.quill.getBounds(new a.Range(nt,tt));N.position(K)}}else document.activeElement!==N.textbox&&N.quill.hasFocus()&&N.hide()}),N}return s(E,[{key:"listen",value:function(){var D=this;o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){D.root.classList.remove("ql-editing")}),this.quill.on(p.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!D.root.classList.contains("ql-hidden")){var N=D.quill.getSelection();N!=null&&D.position(D.quill.getBounds(N))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(D){var N=o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"position",this).call(this,D),L=this.root.querySelector(".ql-tooltip-arrow");if(L.style.marginLeft="",N===0)return N;L.style.marginLeft=-1*N-L.offsetWidth/2+"px"}}]),E}(h.BaseTooltip);I.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=I,r.default=x},function(e,r,i){e.exports=i(63)}]).default})})(Ch);var Q1=Ch.exports;const Nf=kh(Q1);var Th={exports:{}};/*! For license information please see quill-cursors.js.LICENSE.txt */(function(n,t){(function(e,r){n.exports=r()})(self,()=>(()=>{var e={582:(s,l,u)=>{u.d(l,{Z:()=>a});var d=u(81),p=u.n(d),h=u(645),f=u.n(h)()(p());f.push([s.id,".ql-container{position:relative;overflow:hidden}@media(pointer: coarse){.ql-cursor-caret-container{z-index:-1}}.ql-cursor.hidden{display:none}.ql-cursor .ql-cursor-caret-container,.ql-cursor .ql-cursor-flag{position:absolute}.ql-cursor .ql-cursor-flag{z-index:1;transform:translate3d(-1px, -100%, 0);opacity:0;visibility:hidden;color:#fff;padding-bottom:2px;border-radius:0 3px 3px 0}.ql-cursor .ql-cursor-flag.flag-flipped{border-radius:3px 0 0 3px;transform:translate3d(calc(-100% + 1px ), -100%, 0)}@media screen{.ql-cursor .ql-cursor-flag{transition:opacity 0ms cubic-bezier(0.25, 0.46, 0.45, 0.94) 0ms,visibility 0ms cubic-bezier(0.25, 0.46, 0.45, 0.94) 0ms}}.ql-cursor .ql-cursor-flag .ql-cursor-name{margin-left:5px;margin-right:5px;display:inline-block;margin-top:-2px;white-space:nowrap}.ql-cursor .ql-cursor-flag.no-delay[style]{transition-delay:unset !important}.ql-cursor .ql-cursor-caret-container{cursor:text;margin-left:-9px;padding:0 9px}.ql-cursor .ql-cursor-caret-container.hover+.ql-cursor-flag{opacity:1;visibility:visible;transition:none}.ql-cursor .ql-cursor-caret-container.no-pointer{pointer-events:none}.ql-cursor .ql-cursor-caret-container .ql-cursor-caret{position:absolute;top:0;bottom:0;width:2px;margin-left:-1px;background-color:attr(data-color)}.ql-cursor .ql-cursor-selection-block{position:absolute;pointer-events:none}",""]);const a=f},645:s=>{s.exports=function(l){var u=[];return u.toString=function(){return this.map(function(d){var p="",h=d[5]!==void 0;return d[4]&&(p+="@supports (".concat(d[4],") {")),d[2]&&(p+="@media ".concat(d[2]," {")),h&&(p+="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {")),p+=l(d),h&&(p+="}"),d[2]&&(p+="}"),d[4]&&(p+="}"),p}).join("")},u.i=function(d,p,h,f,a){typeof d=="string"&&(d=[[null,d,void 0]]);var m={};if(h)for(var _=0;_<this.length;_++){var A=this[_][0];A!=null&&(m[A]=!0)}for(var v=0;v<d.length;v++){var g=[].concat(d[v]);h&&m[g[0]]||(a!==void 0&&(g[5]===void 0||(g[1]="@layer".concat(g[5].length>0?" ".concat(g[5]):""," {").concat(g[1],"}")),g[5]=a),p&&(g[2]&&(g[1]="@media ".concat(g[2]," {").concat(g[1],"}")),g[2]=p),f&&(g[4]?(g[1]="@supports (".concat(g[4],") {").concat(g[1],"}"),g[4]=f):g[4]="".concat(f)),u.push(g))}},u}},81:s=>{s.exports=function(l){return l[1]}},529:s=>{var l=-1;function u(y,b,x,I){if(y===b)return y?[[0,y]]:[];if(x!=null){var P=function(L,C,j){var U=typeof j=="number"?{index:j,length:0}:j.oldRange,G=typeof j=="number"?null:j.newRange,Z=L.length,nt=C.length;if(U.length===0&&(G===null||G.length===0)){var tt=U.index,K=L.slice(0,tt),z=L.slice(tt),O=G?G.index:null,R=tt+nt-Z;if((O===null||O===R)&&!(R<0||R>nt)){var V=C.slice(0,R);if((F=C.slice(R))===z){var M=Math.min(tt,R);if((X=K.slice(0,M))===(ut=V.slice(0,M)))return v(X,K.slice(M),V.slice(M),z)}}if(O===null||O===tt){var T=tt,F=(V=C.slice(0,T),C.slice(T));if(V===K){var H=Math.min(Z-T,nt-T);if((st=z.slice(z.length-H))===(Nt=F.slice(F.length-H)))return v(K,z.slice(0,z.length-H),F.slice(0,F.length-H),st)}}}if(U.length>0&&G&&G.length===0){var X=L.slice(0,U.index),st=L.slice(U.index+U.length);if(!(nt<(M=X.length)+(H=st.length))){var ut=C.slice(0,M),Nt=C.slice(nt-H);if(X===ut&&st===Nt)return v(X,L.slice(M,Z-H),C.slice(M,nt-H),st)}}return null}(y,b,x);if(P)return P}var E=p(y,b),B=y.substring(0,E);E=h(y=y.substring(E),b=b.substring(E));var D=y.substring(y.length-E),N=function(L,C){var j;if(!L)return[[1,C]];if(!C)return[[l,L]];var U=L.length>C.length?L:C,G=L.length>C.length?C:L,Z=U.indexOf(G);if(Z!==-1)return j=[[1,U.substring(0,Z)],[0,G],[1,U.substring(Z+G.length)]],L.length>C.length&&(j[0][0]=j[2][0]=l),j;if(G.length===1)return[[l,L],[1,C]];var nt=function(T,F){var H=T.length>F.length?T:F,X=T.length>F.length?F:T;if(H.length<4||2*X.length<H.length)return null;function st(dt,at,lt){for(var yt,pt,Ct,Tt,Rt=dt.substring(lt,lt+Math.floor(dt.length/4)),Ht=-1,Yt="";(Ht=at.indexOf(Rt,Ht+1))!==-1;){var Vt=p(dt.substring(lt),at.substring(Ht)),Xt=h(dt.substring(0,lt),at.substring(0,Ht));Yt.length<Xt+Vt&&(Yt=at.substring(Ht-Xt,Ht)+at.substring(Ht,Ht+Vt),yt=dt.substring(0,lt-Xt),pt=dt.substring(lt+Vt),Ct=at.substring(0,Ht-Xt),Tt=at.substring(Ht+Vt))}return 2*Yt.length>=dt.length?[yt,pt,Ct,Tt,Yt]:null}var ut,Nt,At,Pt,bt,it=st(H,X,Math.ceil(H.length/4)),Wt=st(H,X,Math.ceil(H.length/2));return it||Wt?(ut=Wt?it&&it[4].length>Wt[4].length?it:Wt:it,T.length>F.length?(Nt=ut[0],At=ut[1],Pt=ut[2],bt=ut[3]):(Pt=ut[0],bt=ut[1],Nt=ut[2],At=ut[3]),[Nt,At,Pt,bt,ut[4]]):null}(L,C);if(nt){var tt=nt[0],K=nt[1],z=nt[2],O=nt[3],R=nt[4],V=u(tt,z),M=u(K,O);return V.concat([[0,R]],M)}return function(T,F){for(var H=T.length,X=F.length,st=Math.ceil((H+X)/2),ut=st,Nt=2*st,At=new Array(Nt),Pt=new Array(Nt),bt=0;bt<Nt;bt++)At[bt]=-1,Pt[bt]=-1;At[ut+1]=0,Pt[ut+1]=0;for(var it=H-X,Wt=it%2!=0,dt=0,at=0,lt=0,yt=0,pt=0;pt<st;pt++){for(var Ct=-pt+dt;Ct<=pt-at;Ct+=2){for(var Tt=ut+Ct,Rt=(zt=Ct===-pt||Ct!==pt&&At[Tt-1]<At[Tt+1]?At[Tt+1]:At[Tt-1]+1)-Ct;zt<H&&Rt<X&&T.charAt(zt)===F.charAt(Rt);)zt++,Rt++;if(At[Tt]=zt,zt>H)at+=2;else if(Rt>X)dt+=2;else if(Wt&&(Vt=ut+it-Ct)>=0&&Vt<Nt&&Pt[Vt]!==-1&&zt>=(Yt=H-Pt[Vt]))return d(T,F,zt,Rt)}for(var Ht=-pt+lt;Ht<=pt-yt;Ht+=2){for(var Yt,Vt=ut+Ht,Xt=(Yt=Ht===-pt||Ht!==pt&&Pt[Vt-1]<Pt[Vt+1]?Pt[Vt+1]:Pt[Vt-1]+1)-Ht;Yt<H&&Xt<X&&T.charAt(H-Yt-1)===F.charAt(X-Xt-1);)Yt++,Xt++;if(Pt[Vt]=Yt,Yt>H)yt+=2;else if(Xt>X)lt+=2;else if(!Wt){var zt;if((Tt=ut+it-Ht)>=0&&Tt<Nt&&At[Tt]!==-1&&(Rt=ut+(zt=At[Tt])-Tt,zt>=(Yt=H-Yt)))return d(T,F,zt,Rt)}}}return[[l,T],[1,F]]}(L,C)}(y=y.substring(0,y.length-E),b=b.substring(0,b.length-E));return B&&N.unshift([0,B]),D&&N.push([0,D]),f(N,I),N}function d(y,b,x,I){var P=y.substring(0,x),E=b.substring(0,I),B=y.substring(x),D=b.substring(I),N=u(P,E),L=u(B,D);return N.concat(L)}function p(y,b){if(!y||!b||y.charAt(0)!==b.charAt(0))return 0;for(var x=0,I=Math.min(y.length,b.length),P=I,E=0;x<P;)y.substring(E,P)==b.substring(E,P)?E=x=P:I=P,P=Math.floor((I-x)/2+x);return a(y.charCodeAt(P-1))&&P--,P}function h(y,b){if(!y||!b||y.slice(-1)!==b.slice(-1))return 0;for(var x=0,I=Math.min(y.length,b.length),P=I,E=0;x<P;)y.substring(y.length-P,y.length-E)==b.substring(b.length-P,b.length-E)?E=x=P:I=P,P=Math.floor((I-x)/2+x);return m(y.charCodeAt(y.length-P))&&P--,P}function f(y,b){y.push([0,""]);for(var x,I=0,P=0,E=0,B="",D="";I<y.length;)if(I<y.length-1&&!y[I][1])y.splice(I,1);else switch(y[I][0]){case 1:E++,D+=y[I][1],I++;break;case l:P++,B+=y[I][1],I++;break;case 0:var N=I-E-P-1;if(b){if(N>=0&&A(y[N][1])){var L=y[N][1].slice(-1);if(y[N][1]=y[N][1].slice(0,-1),B=L+B,D=L+D,!y[N][1]){y.splice(N,1),I--;var C=N-1;y[C]&&y[C][0]===1&&(E++,D=y[C][1]+D,C--),y[C]&&y[C][0]===l&&(P++,B=y[C][1]+B,C--),N=C}}_(y[I][1])&&(L=y[I][1].charAt(0),y[I][1]=y[I][1].slice(1),B+=L,D+=L)}if(I<y.length-1&&!y[I][1]){y.splice(I,1);break}if(B.length>0||D.length>0){B.length>0&&D.length>0&&((x=p(D,B))!==0&&(N>=0?y[N][1]+=D.substring(0,x):(y.splice(0,0,[0,D.substring(0,x)]),I++),D=D.substring(x),B=B.substring(x)),(x=h(D,B))!==0&&(y[I][1]=D.substring(D.length-x)+y[I][1],D=D.substring(0,D.length-x),B=B.substring(0,B.length-x)));var j=E+P;B.length===0&&D.length===0?(y.splice(I-j,j),I-=j):B.length===0?(y.splice(I-j,j,[1,D]),I=I-j+1):D.length===0?(y.splice(I-j,j,[l,B]),I=I-j+1):(y.splice(I-j,j,[l,B],[1,D]),I=I-j+2)}I!==0&&y[I-1][0]===0?(y[I-1][1]+=y[I][1],y.splice(I,1)):I++,E=0,P=0,B="",D=""}y[y.length-1][1]===""&&y.pop();var U=!1;for(I=1;I<y.length-1;)y[I-1][0]===0&&y[I+1][0]===0&&(y[I][1].substring(y[I][1].length-y[I-1][1].length)===y[I-1][1]?(y[I][1]=y[I-1][1]+y[I][1].substring(0,y[I][1].length-y[I-1][1].length),y[I+1][1]=y[I-1][1]+y[I+1][1],y.splice(I-1,1),U=!0):y[I][1].substring(0,y[I+1][1].length)==y[I+1][1]&&(y[I-1][1]+=y[I+1][1],y[I][1]=y[I][1].substring(y[I+1][1].length)+y[I+1][1],y.splice(I+1,1),U=!0)),I++;U&&f(y,b)}function a(y){return y>=55296&&y<=56319}function m(y){return y>=56320&&y<=57343}function _(y){return m(y.charCodeAt(0))}function A(y){return a(y.charCodeAt(y.length-1))}function v(y,b,x,I){return A(y)||_(I)?null:function(P){for(var E=[],B=0;B<P.length;B++)P[B][1].length>0&&E.push(P[B]);return E}([[0,y],[l,b],[1,x],[0,I]])}function g(y,b,x){return u(y,b,x,!0)}g.INSERT=1,g.DELETE=l,g.EQUAL=0,s.exports=g},465:(s,l,u)=>{s=u.nmd(s);var d="__lodash_hash_undefined__",p=9007199254740991,h="[object Arguments]",f="[object Boolean]",a="[object Date]",m="[object Function]",_="[object GeneratorFunction]",A="[object Map]",v="[object Number]",g="[object Object]",y="[object Promise]",b="[object RegExp]",x="[object Set]",I="[object String]",P="[object Symbol]",E="[object WeakMap]",B="[object ArrayBuffer]",D="[object DataView]",N="[object Float32Array]",L="[object Float64Array]",C="[object Int8Array]",j="[object Int16Array]",U="[object Int32Array]",G="[object Uint8Array]",Z="[object Uint8ClampedArray]",nt="[object Uint16Array]",tt="[object Uint32Array]",K=/\w*$/,z=/^\[object .+?Constructor\]$/,O=/^(?:0|[1-9]\d*)$/,R={};R[h]=R["[object Array]"]=R[B]=R[D]=R[f]=R[a]=R[N]=R[L]=R[C]=R[j]=R[U]=R[A]=R[v]=R[g]=R[b]=R[x]=R[I]=R[P]=R[G]=R[Z]=R[nt]=R[tt]=!0,R["[object Error]"]=R[m]=R[E]=!1;var V=typeof u.g=="object"&&u.g&&u.g.Object===Object&&u.g,M=typeof self=="object"&&self&&self.Object===Object&&self,T=V||M||Function("return this")(),F=l&&!l.nodeType&&l,H=F&&s&&!s.nodeType&&s,X=H&&H.exports===F;function st(gt,Lt){return gt.set(Lt[0],Lt[1]),gt}function ut(gt,Lt){return gt.add(Lt),gt}function Nt(gt,Lt,Bt,Gt){var fe=-1,ke=gt?gt.length:0;for(Gt&&ke&&(Bt=gt[++fe]);++fe<ke;)Bt=Lt(Bt,gt[fe],fe,gt);return Bt}function At(gt){var Lt=!1;if(gt!=null&&typeof gt.toString!="function")try{Lt=!!(gt+"")}catch{}return Lt}function Pt(gt){var Lt=-1,Bt=Array(gt.size);return gt.forEach(function(Gt,fe){Bt[++Lt]=[fe,Gt]}),Bt}function bt(gt,Lt){return function(Bt){return gt(Lt(Bt))}}function it(gt){var Lt=-1,Bt=Array(gt.size);return gt.forEach(function(Gt){Bt[++Lt]=Gt}),Bt}var Wt,dt=Array.prototype,at=Function.prototype,lt=Object.prototype,yt=T["__core-js_shared__"],pt=(Wt=/[^.]+$/.exec(yt&&yt.keys&&yt.keys.IE_PROTO||""))?"Symbol(src)_1."+Wt:"",Ct=at.toString,Tt=lt.hasOwnProperty,Rt=lt.toString,Ht=RegExp("^"+Ct.call(Tt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Yt=X?T.Buffer:void 0,Vt=T.Symbol,Xt=T.Uint8Array,zt=bt(Object.getPrototypeOf,Object),Ut=Object.create,on=lt.propertyIsEnumerable,Le=dt.splice,$n=Object.getOwnPropertySymbols,Me=Yt?Yt.isBuffer:void 0,Ve=bt(Object.keys,Object),Gn=hn(T,"DataView"),Ae=hn(T,"Map"),nr=hn(T,"Promise"),Ce=hn(T,"Set"),tn=hn(T,"WeakMap"),an=hn(Object,"create"),Fe=jn(Gn),ne=jn(Ae),Ne=jn(nr),rr=jn(Ce),fn=jn(tn),Kn=Vt?Vt.prototype:void 0,Yn=Kn?Kn.valueOf:void 0;function ee(gt){var Lt=-1,Bt=gt?gt.length:0;for(this.clear();++Lt<Bt;){var Gt=gt[Lt];this.set(Gt[0],Gt[1])}}function Je(gt){var Lt=-1,Bt=gt?gt.length:0;for(this.clear();++Lt<Bt;){var Gt=gt[Lt];this.set(Gt[0],Gt[1])}}function sn(gt){var Lt=-1,Bt=gt?gt.length:0;for(this.clear();++Lt<Bt;){var Gt=gt[Lt];this.set(Gt[0],Gt[1])}}function ln(gt){this.__data__=new Je(gt)}function De(gt,Lt,Bt){var Gt=gt[Lt];Tt.call(gt,Lt)&&Vr(Gt,Bt)&&(Bt!==void 0||Lt in gt)||(gt[Lt]=Bt)}function $e(gt,Lt){for(var Bt=gt.length;Bt--;)if(Vr(gt[Bt][0],Lt))return Bt;return-1}function en(gt,Lt,Bt,Gt,fe,ke,qe){var ge;if(Gt&&(ge=ke?Gt(gt,fe,ke,qe):Gt(gt)),ge!==void 0)return ge;if(!Se(gt))return gt;var nn=wt(gt);if(nn){if(ge=function(ie){var Pe=ie.length,Ie=ie.constructor(Pe);return Pe&&typeof ie[0]=="string"&&Tt.call(ie,"index")&&(Ie.index=ie.index,Ie.input=ie.input),Ie}(gt),!Lt)return function(ie,Pe){var Ie=-1,ce=ie.length;for(Pe||(Pe=Array(ce));++Ie<ce;)Pe[Ie]=ie[Ie];return Pe}(gt,ge)}else{var he=bn(gt),ir=he==m||he==_;if(Ft(gt))return function(ie,Pe){if(Pe)return ie.slice();var Ie=new ie.constructor(ie.length);return ie.copy(Ie),Ie}(gt,Lt);if(he==g||he==h||ir&&!ke){if(At(gt))return ke?gt:{};if(ge=function(ie){return typeof ie.constructor!="function"||Cn(ie)?{}:Se(Pe=zt(ie))?Ut(Pe):{};var Pe}(ir?{}:gt),!Lt)return function(ie,Pe){return cr(ie,Bn(ie),Pe)}(gt,function(ie,Pe){return ie&&cr(Pe,pe(Pe),ie)}(ge,gt))}else{if(!R[he])return ke?gt:{};ge=function(ie,Pe,Ie,ce){var se,zn=ie.constructor;switch(Pe){case B:return mr(ie);case f:case a:return new zn(+ie);case D:return function(we,dn){var Ge=dn?mr(we.buffer):we.buffer;return new we.constructor(Ge,we.byteOffset,we.byteLength)}(ie,ce);case N:case L:case C:case j:case U:case G:case Z:case nt:case tt:return function(we,dn){var Ge=dn?mr(we.buffer):we.buffer;return new we.constructor(Ge,we.byteOffset,we.length)}(ie,ce);case A:return function(we,dn,Ge){return Nt(dn?Ge(Pt(we),!0):Pt(we),st,new we.constructor)}(ie,ce,Ie);case v:case I:return new zn(ie);case b:return function(we){var dn=new we.constructor(we.source,K.exec(we));return dn.lastIndex=we.lastIndex,dn}(ie);case x:return function(we,dn,Ge){return Nt(dn?Ge(it(we),!0):it(we),ut,new we.constructor)}(ie,ce,Ie);case P:return se=ie,Yn?Object(Yn.call(se)):{}}}(gt,he,en,Lt)}}qe||(qe=new ln);var fr=qe.get(gt);if(fr)return fr;if(qe.set(gt,ge),!nn)var yr=Bt?function(ie){return function(Pe,Ie,ce){var se=Ie(Pe);return wt(Pe)?se:function(zn,we){for(var dn=-1,Ge=we.length,or=zn.length;++dn<Ge;)zn[or+dn]=we[dn];return zn}(se,ce(Pe))}(ie,pe,Bn)}(gt):pe(gt);return function(ie,Pe){for(var Ie=-1,ce=ie?ie.length:0;++Ie<ce&&Pe(ie[Ie],Ie)!==!1;);}(yr||gt,function(ie,Pe){yr&&(ie=gt[Pe=ie]),De(ge,Pe,en(ie,Lt,Bt,Gt,Pe,gt,qe))}),ge}function mr(gt){var Lt=new gt.constructor(gt.byteLength);return new Xt(Lt).set(new Xt(gt)),Lt}function cr(gt,Lt,Bt,Gt){Bt||(Bt={});for(var fe=-1,ke=Lt.length;++fe<ke;){var qe=Lt[fe],ge=Gt?Gt(Bt[qe],gt[qe],qe,Bt,gt):void 0;De(Bt,qe,ge===void 0?gt[qe]:ge)}return Bt}function yn(gt,Lt){var Bt,Gt,fe=gt.__data__;return((Gt=typeof(Bt=Lt))=="string"||Gt=="number"||Gt=="symbol"||Gt=="boolean"?Bt!=="__proto__":Bt===null)?fe[typeof Lt=="string"?"string":"hash"]:fe.map}function hn(gt,Lt){var Bt=function(Gt,fe){return Gt==null?void 0:Gt[fe]}(gt,Lt);return function(Gt){return!(!Se(Gt)||(fe=Gt,pt&&pt in fe))&&(Qt(Gt)||At(Gt)?Ht:z).test(jn(Gt));var fe}(Bt)?Bt:void 0}ee.prototype.clear=function(){this.__data__=an?an(null):{}},ee.prototype.delete=function(gt){return this.has(gt)&&delete this.__data__[gt]},ee.prototype.get=function(gt){var Lt=this.__data__;if(an){var Bt=Lt[gt];return Bt===d?void 0:Bt}return Tt.call(Lt,gt)?Lt[gt]:void 0},ee.prototype.has=function(gt){var Lt=this.__data__;return an?Lt[gt]!==void 0:Tt.call(Lt,gt)},ee.prototype.set=function(gt,Lt){return this.__data__[gt]=an&&Lt===void 0?d:Lt,this},Je.prototype.clear=function(){this.__data__=[]},Je.prototype.delete=function(gt){var Lt=this.__data__,Bt=$e(Lt,gt);return!(Bt<0||(Bt==Lt.length-1?Lt.pop():Le.call(Lt,Bt,1),0))},Je.prototype.get=function(gt){var Lt=this.__data__,Bt=$e(Lt,gt);return Bt<0?void 0:Lt[Bt][1]},Je.prototype.has=function(gt){return $e(this.__data__,gt)>-1},Je.prototype.set=function(gt,Lt){var Bt=this.__data__,Gt=$e(Bt,gt);return Gt<0?Bt.push([gt,Lt]):Bt[Gt][1]=Lt,this},sn.prototype.clear=function(){this.__data__={hash:new ee,map:new(Ae||Je),string:new ee}},sn.prototype.delete=function(gt){return yn(this,gt).delete(gt)},sn.prototype.get=function(gt){return yn(this,gt).get(gt)},sn.prototype.has=function(gt){return yn(this,gt).has(gt)},sn.prototype.set=function(gt,Lt){return yn(this,gt).set(gt,Lt),this},ln.prototype.clear=function(){this.__data__=new Je},ln.prototype.delete=function(gt){return this.__data__.delete(gt)},ln.prototype.get=function(gt){return this.__data__.get(gt)},ln.prototype.has=function(gt){return this.__data__.has(gt)},ln.prototype.set=function(gt,Lt){var Bt=this.__data__;if(Bt instanceof Je){var Gt=Bt.__data__;if(!Ae||Gt.length<199)return Gt.push([gt,Lt]),this;Bt=this.__data__=new sn(Gt)}return Bt.set(gt,Lt),this};var Bn=$n?bt($n,Object):function(){return[]},bn=function(gt){return Rt.call(gt)};function Un(gt,Lt){return!!(Lt=Lt??p)&&(typeof gt=="number"||O.test(gt))&&gt>-1&&gt%1==0&&gt<Lt}function Cn(gt){var Lt=gt&&gt.constructor;return gt===(typeof Lt=="function"&&Lt.prototype||lt)}function jn(gt){if(gt!=null){try{return Ct.call(gt)}catch{}try{return gt+""}catch{}}return""}function Vr(gt,Lt){return gt===Lt||gt!=gt&&Lt!=Lt}(Gn&&bn(new Gn(new ArrayBuffer(1)))!=D||Ae&&bn(new Ae)!=A||nr&&bn(nr.resolve())!=y||Ce&&bn(new Ce)!=x||tn&&bn(new tn)!=E)&&(bn=function(gt){var Lt=Rt.call(gt),Bt=Lt==g?gt.constructor:void 0,Gt=Bt?jn(Bt):void 0;if(Gt)switch(Gt){case Fe:return D;case ne:return A;case Ne:return y;case rr:return x;case fn:return E}return Lt});var wt=Array.isArray;function kt(gt){return gt!=null&&function(Lt){return typeof Lt=="number"&&Lt>-1&&Lt%1==0&&Lt<=p}(gt.length)&&!Qt(gt)}var Ft=Me||function(){return!1};function Qt(gt){var Lt=Se(gt)?Rt.call(gt):"";return Lt==m||Lt==_}function Se(gt){var Lt=typeof gt;return!!gt&&(Lt=="object"||Lt=="function")}function pe(gt){return kt(gt)?function(Lt,Bt){var Gt=wt(Lt)||function(ge){return function(nn){return function(he){return!!he&&typeof he=="object"}(nn)&&kt(nn)}(ge)&&Tt.call(ge,"callee")&&(!on.call(ge,"callee")||Rt.call(ge)==h)}(Lt)?function(ge,nn){for(var he=-1,ir=Array(ge);++he<ge;)ir[he]=nn(he);return ir}(Lt.length,String):[],fe=Gt.length,ke=!!fe;for(var qe in Lt)!Bt&&!Tt.call(Lt,qe)||ke&&(qe=="length"||Un(qe,fe))||Gt.push(qe);return Gt}(gt):function(Lt){if(!Cn(Lt))return Ve(Lt);var Bt=[];for(var Gt in Object(Lt))Tt.call(Lt,Gt)&&Gt!="constructor"&&Bt.push(Gt);return Bt}(gt)}s.exports=function(gt){return en(gt,!0,!0)}},307:(s,l,u)=>{s=u.nmd(s);var d="__lodash_hash_undefined__",p=9007199254740991,h="[object Arguments]",f="[object Array]",a="[object Boolean]",m="[object Date]",_="[object Error]",A="[object Function]",v="[object Map]",g="[object Number]",y="[object Object]",b="[object Promise]",x="[object RegExp]",I="[object Set]",P="[object String]",E="[object WeakMap]",B="[object ArrayBuffer]",D="[object DataView]",N=/^\[object .+?Constructor\]$/,L=/^(?:0|[1-9]\d*)$/,C={};C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C[h]=C[f]=C[B]=C[a]=C[D]=C[m]=C[_]=C[A]=C[v]=C[g]=C[y]=C[x]=C[I]=C[P]=C[E]=!1;var j=typeof u.g=="object"&&u.g&&u.g.Object===Object&&u.g,U=typeof self=="object"&&self&&self.Object===Object&&self,G=j||U||Function("return this")(),Z=l&&!l.nodeType&&l,nt=Z&&s&&!s.nodeType&&s,tt=nt&&nt.exports===Z,K=tt&&j.process,z=function(){try{return K&&K.binding&&K.binding("util")}catch{}}(),O=z&&z.isTypedArray;function R(wt,kt){for(var Ft=-1,Qt=wt==null?0:wt.length;++Ft<Qt;)if(kt(wt[Ft],Ft,wt))return!0;return!1}function V(wt){var kt=-1,Ft=Array(wt.size);return wt.forEach(function(Qt,Se){Ft[++kt]=[Se,Qt]}),Ft}function M(wt){var kt=-1,Ft=Array(wt.size);return wt.forEach(function(Qt){Ft[++kt]=Qt}),Ft}var T,F,H,X=Array.prototype,st=Function.prototype,ut=Object.prototype,Nt=G["__core-js_shared__"],At=st.toString,Pt=ut.hasOwnProperty,bt=(T=/[^.]+$/.exec(Nt&&Nt.keys&&Nt.keys.IE_PROTO||""))?"Symbol(src)_1."+T:"",it=ut.toString,Wt=RegExp("^"+At.call(Pt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),dt=tt?G.Buffer:void 0,at=G.Symbol,lt=G.Uint8Array,yt=ut.propertyIsEnumerable,pt=X.splice,Ct=at?at.toStringTag:void 0,Tt=Object.getOwnPropertySymbols,Rt=dt?dt.isBuffer:void 0,Ht=(F=Object.keys,H=Object,function(wt){return F(H(wt))}),Yt=sn(G,"DataView"),Vt=sn(G,"Map"),Xt=sn(G,"Promise"),zt=sn(G,"Set"),Ut=sn(G,"WeakMap"),on=sn(Object,"create"),Le=en(Yt),$n=en(Vt),Me=en(Xt),Ve=en(zt),Gn=en(Ut),Ae=at?at.prototype:void 0,nr=Ae?Ae.valueOf:void 0;function Ce(wt){var kt=-1,Ft=wt==null?0:wt.length;for(this.clear();++kt<Ft;){var Qt=wt[kt];this.set(Qt[0],Qt[1])}}function tn(wt){var kt=-1,Ft=wt==null?0:wt.length;for(this.clear();++kt<Ft;){var Qt=wt[kt];this.set(Qt[0],Qt[1])}}function an(wt){var kt=-1,Ft=wt==null?0:wt.length;for(this.clear();++kt<Ft;){var Qt=wt[kt];this.set(Qt[0],Qt[1])}}function Fe(wt){var kt=-1,Ft=wt==null?0:wt.length;for(this.__data__=new an;++kt<Ft;)this.add(wt[kt])}function ne(wt){var kt=this.__data__=new tn(wt);this.size=kt.size}function Ne(wt,kt){for(var Ft=wt.length;Ft--;)if(mr(wt[Ft][0],kt))return Ft;return-1}function rr(wt){return wt==null?wt===void 0?"[object Undefined]":"[object Null]":Ct&&Ct in Object(wt)?function(kt){var Ft=Pt.call(kt,Ct),Qt=kt[Ct];try{kt[Ct]=void 0;var Se=!0}catch{}var pe=it.call(kt);return Se&&(Ft?kt[Ct]=Qt:delete kt[Ct]),pe}(wt):function(kt){return it.call(kt)}(wt)}function fn(wt){return Cn(wt)&&rr(wt)==h}function Kn(wt,kt,Ft,Qt,Se){return wt===kt||(wt==null||kt==null||!Cn(wt)&&!Cn(kt)?wt!=wt&&kt!=kt:function(pe,gt,Lt,Bt,Gt,fe){var ke=yn(pe),qe=yn(gt),ge=ke?f:De(pe),nn=qe?f:De(gt),he=(ge=ge==h?y:ge)==y,ir=(nn=nn==h?y:nn)==y,fr=ge==nn;if(fr&&hn(pe)){if(!hn(gt))return!1;ke=!0,he=!1}if(fr&&!he)return fe||(fe=new ne),ke||jn(pe)?Yn(pe,gt,Lt,Bt,Gt,fe):function(ce,se,zn,we,dn,Ge,or){switch(zn){case D:if(ce.byteLength!=se.byteLength||ce.byteOffset!=se.byteOffset)return!1;ce=ce.buffer,se=se.buffer;case B:return!(ce.byteLength!=se.byteLength||!Ge(new lt(ce),new lt(se)));case a:case m:case g:return mr(+ce,+se);case _:return ce.name==se.name&&ce.message==se.message;case x:case P:return ce==se+"";case v:var br=V;case I:var _i=1&we;if(br||(br=M),ce.size!=se.size&&!_i)return!1;var wr=or.get(ce);if(wr)return wr==se;we|=2,or.set(ce,se);var _r=Yn(br(ce),br(se),we,dn,Ge,or);return or.delete(ce),_r;case"[object Symbol]":if(nr)return nr.call(ce)==nr.call(se)}return!1}(pe,gt,ge,Lt,Bt,Gt,fe);if(!(1&Lt)){var yr=he&&Pt.call(pe,"__wrapped__"),ie=ir&&Pt.call(gt,"__wrapped__");if(yr||ie){var Pe=yr?pe.value():pe,Ie=ie?gt.value():gt;return fe||(fe=new ne),Gt(Pe,Ie,Lt,Bt,fe)}}return!!fr&&(fe||(fe=new ne),function(ce,se,zn,we,dn,Ge){var or=1&zn,br=ee(ce),_i=br.length;if(_i!=ee(se).length&&!or)return!1;for(var wr=_i;wr--;){var _r=br[wr];if(!(or?_r in se:Pt.call(se,_r)))return!1}var Fo=Ge.get(ce);if(Fo&&Ge.get(se))return Fo==se;var Di=!0;Ge.set(ce,se),Ge.set(se,ce);for(var Ar=or;++wr<_i;){var Wr=ce[_r=br[wr]],$r=se[_r];if(we)var po=or?we($r,Wr,_r,se,ce,Ge):we(Wr,$r,_r,ce,se,Ge);if(!(po===void 0?Wr===$r||dn(Wr,$r,zn,we,Ge):po)){Di=!1;break}Ar||(Ar=_r=="constructor")}if(Di&&!Ar){var wn=ce.constructor,Ri=se.constructor;wn==Ri||!("constructor"in ce)||!("constructor"in se)||typeof wn=="function"&&wn instanceof wn&&typeof Ri=="function"&&Ri instanceof Ri||(Di=!1)}return Ge.delete(ce),Ge.delete(se),Di}(pe,gt,Lt,Bt,Gt,fe))}(wt,kt,Ft,Qt,Kn,Se))}function Yn(wt,kt,Ft,Qt,Se,pe){var gt=1&Ft,Lt=wt.length,Bt=kt.length;if(Lt!=Bt&&!(gt&&Bt>Lt))return!1;var Gt=pe.get(wt);if(Gt&&pe.get(kt))return Gt==kt;var fe=-1,ke=!0,qe=2&Ft?new Fe:void 0;for(pe.set(wt,kt),pe.set(kt,wt);++fe<Lt;){var ge=wt[fe],nn=kt[fe];if(Qt)var he=gt?Qt(nn,ge,fe,kt,wt,pe):Qt(ge,nn,fe,wt,kt,pe);if(he!==void 0){if(he)continue;ke=!1;break}if(qe){if(!R(kt,function(ir,fr){if(yr=fr,!qe.has(yr)&&(ge===ir||Se(ge,ir,Ft,Qt,pe)))return qe.push(fr);var yr})){ke=!1;break}}else if(ge!==nn&&!Se(ge,nn,Ft,Qt,pe)){ke=!1;break}}return pe.delete(wt),pe.delete(kt),ke}function ee(wt){return function(kt,Ft,Qt){var Se=Ft(kt);return yn(kt)?Se:function(pe,gt){for(var Lt=-1,Bt=gt.length,Gt=pe.length;++Lt<Bt;)pe[Gt+Lt]=gt[Lt];return pe}(Se,Qt(kt))}(wt,Vr,ln)}function Je(wt,kt){var Ft,Qt,Se=wt.__data__;return((Qt=typeof(Ft=kt))=="string"||Qt=="number"||Qt=="symbol"||Qt=="boolean"?Ft!=="__proto__":Ft===null)?Se[typeof kt=="string"?"string":"hash"]:Se.map}function sn(wt,kt){var Ft=function(Qt,Se){return Qt==null?void 0:Qt[Se]}(wt,kt);return function(Qt){return!(!Un(Qt)||function(Se){return!!bt&&bt in Se}(Qt))&&(Bn(Qt)?Wt:N).test(en(Qt))}(Ft)?Ft:void 0}Ce.prototype.clear=function(){this.__data__=on?on(null):{},this.size=0},Ce.prototype.delete=function(wt){var kt=this.has(wt)&&delete this.__data__[wt];return this.size-=kt?1:0,kt},Ce.prototype.get=function(wt){var kt=this.__data__;if(on){var Ft=kt[wt];return Ft===d?void 0:Ft}return Pt.call(kt,wt)?kt[wt]:void 0},Ce.prototype.has=function(wt){var kt=this.__data__;return on?kt[wt]!==void 0:Pt.call(kt,wt)},Ce.prototype.set=function(wt,kt){var Ft=this.__data__;return this.size+=this.has(wt)?0:1,Ft[wt]=on&&kt===void 0?d:kt,this},tn.prototype.clear=function(){this.__data__=[],this.size=0},tn.prototype.delete=function(wt){var kt=this.__data__,Ft=Ne(kt,wt);return!(Ft<0||(Ft==kt.length-1?kt.pop():pt.call(kt,Ft,1),--this.size,0))},tn.prototype.get=function(wt){var kt=this.__data__,Ft=Ne(kt,wt);return Ft<0?void 0:kt[Ft][1]},tn.prototype.has=function(wt){return Ne(this.__data__,wt)>-1},tn.prototype.set=function(wt,kt){var Ft=this.__data__,Qt=Ne(Ft,wt);return Qt<0?(++this.size,Ft.push([wt,kt])):Ft[Qt][1]=kt,this},an.prototype.clear=function(){this.size=0,this.__data__={hash:new Ce,map:new(Vt||tn),string:new Ce}},an.prototype.delete=function(wt){var kt=Je(this,wt).delete(wt);return this.size-=kt?1:0,kt},an.prototype.get=function(wt){return Je(this,wt).get(wt)},an.prototype.has=function(wt){return Je(this,wt).has(wt)},an.prototype.set=function(wt,kt){var Ft=Je(this,wt),Qt=Ft.size;return Ft.set(wt,kt),this.size+=Ft.size==Qt?0:1,this},Fe.prototype.add=Fe.prototype.push=function(wt){return this.__data__.set(wt,d),this},Fe.prototype.has=function(wt){return this.__data__.has(wt)},ne.prototype.clear=function(){this.__data__=new tn,this.size=0},ne.prototype.delete=function(wt){var kt=this.__data__,Ft=kt.delete(wt);return this.size=kt.size,Ft},ne.prototype.get=function(wt){return this.__data__.get(wt)},ne.prototype.has=function(wt){return this.__data__.has(wt)},ne.prototype.set=function(wt,kt){var Ft=this.__data__;if(Ft instanceof tn){var Qt=Ft.__data__;if(!Vt||Qt.length<199)return Qt.push([wt,kt]),this.size=++Ft.size,this;Ft=this.__data__=new an(Qt)}return Ft.set(wt,kt),this.size=Ft.size,this};var ln=Tt?function(wt){return wt==null?[]:(wt=Object(wt),function(kt,Ft){for(var Qt=-1,Se=kt==null?0:kt.length,pe=0,gt=[];++Qt<Se;){var Lt=kt[Qt];Bt=Lt,yt.call(wt,Bt)&&(gt[pe++]=Lt)}var Bt;return gt}(Tt(wt)))}:function(){return[]},De=rr;function $e(wt,kt){return!!(kt=kt??p)&&(typeof wt=="number"||L.test(wt))&&wt>-1&&wt%1==0&&wt<kt}function en(wt){if(wt!=null){try{return At.call(wt)}catch{}try{return wt+""}catch{}}return""}function mr(wt,kt){return wt===kt||wt!=wt&&kt!=kt}(Yt&&De(new Yt(new ArrayBuffer(1)))!=D||Vt&&De(new Vt)!=v||Xt&&De(Xt.resolve())!=b||zt&&De(new zt)!=I||Ut&&De(new Ut)!=E)&&(De=function(wt){var kt=rr(wt),Ft=kt==y?wt.constructor:void 0,Qt=Ft?en(Ft):"";if(Qt)switch(Qt){case Le:return D;case $n:return v;case Me:return b;case Ve:return I;case Gn:return E}return kt});var cr=fn(function(){return arguments}())?fn:function(wt){return Cn(wt)&&Pt.call(wt,"callee")&&!yt.call(wt,"callee")},yn=Array.isArray,hn=Rt||function(){return!1};function Bn(wt){if(!Un(wt))return!1;var kt=rr(wt);return kt==A||kt=="[object GeneratorFunction]"||kt=="[object AsyncFunction]"||kt=="[object Proxy]"}function bn(wt){return typeof wt=="number"&&wt>-1&&wt%1==0&&wt<=p}function Un(wt){var kt=typeof wt;return wt!=null&&(kt=="object"||kt=="function")}function Cn(wt){return wt!=null&&typeof wt=="object"}var jn=O?function(wt){return function(kt){return wt(kt)}}(O):function(wt){return Cn(wt)&&bn(wt.length)&&!!C[rr(wt)]};function Vr(wt){return(kt=wt)!=null&&bn(kt.length)&&!Bn(kt)?function(Ft,Qt){var Se=yn(Ft),pe=!Se&&cr(Ft),gt=!Se&&!pe&&hn(Ft),Lt=!Se&&!pe&&!gt&&jn(Ft),Bt=Se||pe||gt||Lt,Gt=Bt?function(qe,ge){for(var nn=-1,he=Array(qe);++nn<qe;)he[nn]=ge(nn);return he}(Ft.length,String):[],fe=Gt.length;for(var ke in Ft)!Qt&&!Pt.call(Ft,ke)||Bt&&(ke=="length"||gt&&(ke=="offset"||ke=="parent")||Lt&&(ke=="buffer"||ke=="byteLength"||ke=="byteOffset")||$e(ke,fe))||Gt.push(ke);return Gt}(wt):function(Ft){if(Se=(Qt=Ft)&&Qt.constructor,Qt!==(typeof Se=="function"&&Se.prototype||ut))return Ht(Ft);var Qt,Se,pe=[];for(var gt in Object(Ft))Pt.call(Ft,gt)&&gt!="constructor"&&pe.push(gt);return pe}(wt);var kt}s.exports=function(wt,kt){return Kn(wt,kt)}},210:function(s,l,u){var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0});var p,h=d(u(465)),f=d(u(307));(function(a){a.compose=function(m,_,A){m===void 0&&(m={}),_===void 0&&(_={}),typeof m!="object"&&(m={}),typeof _!="object"&&(_={});var v=h.default(_);for(var g in A||(v=Object.keys(v).reduce(function(y,b){return v[b]!=null&&(y[b]=v[b]),y},{})),m)m[g]!==void 0&&_[g]===void 0&&(v[g]=m[g]);return Object.keys(v).length>0?v:void 0},a.diff=function(m,_){m===void 0&&(m={}),_===void 0&&(_={}),typeof m!="object"&&(m={}),typeof _!="object"&&(_={});var A=Object.keys(m).concat(Object.keys(_)).reduce(function(v,g){return f.default(m[g],_[g])||(v[g]=_[g]===void 0?null:_[g]),v},{});return Object.keys(A).length>0?A:void 0},a.invert=function(m,_){m===void 0&&(m={}),_===void 0&&(_={}),m=m||{};var A=Object.keys(_).reduce(function(v,g){return _[g]!==m[g]&&m[g]!==void 0&&(v[g]=_[g]),v},{});return Object.keys(m).reduce(function(v,g){return m[g]!==_[g]&&_[g]===void 0&&(v[g]=null),v},A)},a.transform=function(m,_,A){if(A===void 0&&(A=!1),typeof m!="object")return _;if(typeof _=="object"){if(!A)return _;var v=Object.keys(_).reduce(function(g,y){return m[y]===void 0&&(g[y]=_[y]),g},{});return Object.keys(v).length>0?v:void 0}}})(p||(p={})),l.default=p},895:function(s,l,u){var d=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}},p=d(u(529)),h=d(u(465)),f=d(u(307)),a=d(u(210)),m=d(u(430)),_=String.fromCharCode(0),A=function(){function v(g){Array.isArray(g)?this.ops=g:g!=null&&Array.isArray(g.ops)?this.ops=g.ops:this.ops=[]}return v.prototype.insert=function(g,y){var b={};return typeof g=="string"&&g.length===0?this:(b.insert=g,y!=null&&typeof y=="object"&&Object.keys(y).length>0&&(b.attributes=y),this.push(b))},v.prototype.delete=function(g){return g<=0?this:this.push({delete:g})},v.prototype.retain=function(g,y){if(g<=0)return this;var b={retain:g};return y!=null&&typeof y=="object"&&Object.keys(y).length>0&&(b.attributes=y),this.push(b)},v.prototype.push=function(g){var y=this.ops.length,b=this.ops[y-1];if(g=h.default(g),typeof b=="object"){if(typeof g.delete=="number"&&typeof b.delete=="number")return this.ops[y-1]={delete:b.delete+g.delete},this;if(typeof b.delete=="number"&&g.insert!=null&&(y-=1,typeof(b=this.ops[y-1])!="object"))return this.ops.unshift(g),this;if(f.default(g.attributes,b.attributes)){if(typeof g.insert=="string"&&typeof b.insert=="string")return this.ops[y-1]={insert:b.insert+g.insert},typeof g.attributes=="object"&&(this.ops[y-1].attributes=g.attributes),this;if(typeof g.retain=="number"&&typeof b.retain=="number")return this.ops[y-1]={retain:b.retain+g.retain},typeof g.attributes=="object"&&(this.ops[y-1].attributes=g.attributes),this}}return y===this.ops.length?this.ops.push(g):this.ops.splice(y,0,g),this},v.prototype.chop=function(){var g=this.ops[this.ops.length-1];return g&&g.retain&&!g.attributes&&this.ops.pop(),this},v.prototype.filter=function(g){return this.ops.filter(g)},v.prototype.forEach=function(g){this.ops.forEach(g)},v.prototype.map=function(g){return this.ops.map(g)},v.prototype.partition=function(g){var y=[],b=[];return this.forEach(function(x){(g(x)?y:b).push(x)}),[y,b]},v.prototype.reduce=function(g,y){return this.ops.reduce(g,y)},v.prototype.changeLength=function(){return this.reduce(function(g,y){return y.insert?g+m.default.length(y):y.delete?g-y.delete:g},0)},v.prototype.length=function(){return this.reduce(function(g,y){return g+m.default.length(y)},0)},v.prototype.slice=function(g,y){g===void 0&&(g=0),y===void 0&&(y=1/0);for(var b=[],x=m.default.iterator(this.ops),I=0;I<y&&x.hasNext();){var P=void 0;I<g?P=x.next(g-I):(P=x.next(y-I),b.push(P)),I+=m.default.length(P)}return new v(b)},v.prototype.compose=function(g){var y=m.default.iterator(this.ops),b=m.default.iterator(g.ops),x=[],I=b.peek();if(I!=null&&typeof I.retain=="number"&&I.attributes==null){for(var P=I.retain;y.peekType()==="insert"&&y.peekLength()<=P;)P-=y.peekLength(),x.push(y.next());I.retain-P>0&&b.next(I.retain-P)}for(var E=new v(x);y.hasNext()||b.hasNext();)if(b.peekType()==="insert")E.push(b.next());else if(y.peekType()==="delete")E.push(y.next());else{var B=Math.min(y.peekLength(),b.peekLength()),D=y.next(B),N=b.next(B);if(typeof N.retain=="number"){var L={};typeof D.retain=="number"?L.retain=B:L.insert=D.insert;var C=a.default.compose(D.attributes,N.attributes,typeof D.retain=="number");if(C&&(L.attributes=C),E.push(L),!b.hasNext()&&f.default(E.ops[E.ops.length-1],L)){var j=new v(y.rest());return E.concat(j).chop()}}else typeof N.delete=="number"&&typeof D.retain=="number"&&E.push(N)}return E.chop()},v.prototype.concat=function(g){var y=new v(this.ops.slice());return g.ops.length>0&&(y.push(g.ops[0]),y.ops=y.ops.concat(g.ops.slice(1))),y},v.prototype.diff=function(g,y){if(this.ops===g.ops)return new v;var b=[this,g].map(function(B){return B.map(function(D){if(D.insert!=null)return typeof D.insert=="string"?D.insert:_;throw new Error("diff() called "+(B===g?"on":"with")+" non-document")}).join("")}),x=new v,I=p.default(b[0],b[1],y),P=m.default.iterator(this.ops),E=m.default.iterator(g.ops);return I.forEach(function(B){for(var D=B[1].length;D>0;){var N=0;switch(B[0]){case p.default.INSERT:N=Math.min(E.peekLength(),D),x.push(E.next(N));break;case p.default.DELETE:N=Math.min(D,P.peekLength()),P.next(N),x.delete(N);break;case p.default.EQUAL:N=Math.min(P.peekLength(),E.peekLength(),D);var L=P.next(N),C=E.next(N);f.default(L.insert,C.insert)?x.retain(N,a.default.diff(L.attributes,C.attributes)):x.push(C).delete(N)}D-=N}}),x.chop()},v.prototype.eachLine=function(g,y){y===void 0&&(y=`
`);for(var b=m.default.iterator(this.ops),x=new v,I=0;b.hasNext();){if(b.peekType()!=="insert")return;var P=b.peek(),E=m.default.length(P)-b.peekLength(),B=typeof P.insert=="string"?P.insert.indexOf(y,E)-E:-1;if(B<0)x.push(b.next());else if(B>0)x.push(b.next(B));else{if(g(x,b.next(1).attributes||{},I)===!1)return;I+=1,x=new v}}x.length()>0&&g(x,{},I)},v.prototype.invert=function(g){var y=new v;return this.reduce(function(b,x){if(x.insert)y.delete(m.default.length(x));else{if(x.retain&&x.attributes==null)return y.retain(x.retain),b+x.retain;if(x.delete||x.retain&&x.attributes){var I=x.delete||x.retain;return g.slice(b,b+I).forEach(function(P){x.delete?y.push(P):x.retain&&x.attributes&&y.retain(m.default.length(P),a.default.invert(x.attributes,P.attributes))}),b+I}}return b},0),y.chop()},v.prototype.transform=function(g,y){if(y===void 0&&(y=!1),y=!!y,typeof g=="number")return this.transformPosition(g,y);for(var b=g,x=m.default.iterator(this.ops),I=m.default.iterator(b.ops),P=new v;x.hasNext()||I.hasNext();)if(x.peekType()!=="insert"||!y&&I.peekType()==="insert")if(I.peekType()==="insert")P.push(I.next());else{var E=Math.min(x.peekLength(),I.peekLength()),B=x.next(E),D=I.next(E);if(B.delete)continue;D.delete?P.push(D):P.retain(E,a.default.transform(B.attributes,D.attributes,y))}else P.retain(m.default.length(x.next()));return P.chop()},v.prototype.transformPosition=function(g,y){y===void 0&&(y=!1),y=!!y;for(var b=m.default.iterator(this.ops),x=0;b.hasNext()&&x<=g;){var I=b.peekLength(),P=b.peekType();b.next(),P!=="delete"?(P==="insert"&&(x<g||!y)&&(g+=I),x+=I):g-=Math.min(I,g-x)}return g},v.Op=m.default,v.AttributeMap=a.default,v}();s.exports=A},977:function(s,l,u){var d=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(l,"__esModule",{value:!0});var p=d(u(430)),h=function(){function f(a){this.ops=a,this.index=0,this.offset=0}return f.prototype.hasNext=function(){return this.peekLength()<1/0},f.prototype.next=function(a){a||(a=1/0);var m=this.ops[this.index];if(m){var _=this.offset,A=p.default.length(m);if(a>=A-_?(a=A-_,this.index+=1,this.offset=0):this.offset+=a,typeof m.delete=="number")return{delete:a};var v={};return m.attributes&&(v.attributes=m.attributes),typeof m.retain=="number"?v.retain=a:typeof m.insert=="string"?v.insert=m.insert.substr(_,a):v.insert=m.insert,v}return{retain:1/0}},f.prototype.peek=function(){return this.ops[this.index]},f.prototype.peekLength=function(){return this.ops[this.index]?p.default.length(this.ops[this.index])-this.offset:1/0},f.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},f.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var a=this.offset,m=this.index,_=this.next(),A=this.ops.slice(this.index);return this.offset=a,this.index=m,[_].concat(A)}return[]},f}();l.default=h},430:function(s,l,u){var d=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(l,"__esModule",{value:!0});var p,h=d(u(977));(function(f){f.iterator=function(a){return new h.default(a)},f.length=function(a){return typeof a.delete=="number"?a.delete:typeof a.retain=="number"?a.retain:typeof a.insert=="string"?a.insert.length:1}})(p||(p={})),l.default=p},165:function(s,l,u){var d,p;(p=typeof(d=function(){var h,f={};function a(A,v,g){var y=A.getClientRects();if(y.length===2){var b=A.getBoundingClientRect();return y[v][g]<b[g]}return!1}function m(A){if(!A||screen.deviceXDPI===screen.logicalXDPI)return A;if("length"in A)return Array.prototype.map.call(A,m);var v=screen.deviceXDPI/screen.logicalXDPI;return{top:A.top/v,bottom:A.bottom/v,left:A.left/v,right:A.right/v,width:A.width/v,height:A.height/v}}function _(A,v){var g,y=0,b=1024;if(b>=v.length)return Array.prototype.push.apply(A,v);for(;y<v.length;)g=Array.prototype.push.apply(A,Array.prototype.slice.call(v,y,y+b)),y+=b;return g}return f.isBroken=function(){if(h===void 0){var A=document.createElement("p"),v=document.createElement("span"),g=document.createTextNode("aa"),y=document.createTextNode("aa"),b=document.createElement("img");b.setAttribute("src","data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=");var x=document.createRange();if(h={},A.appendChild(g),A.appendChild(v),v.appendChild(b),v.appendChild(y),document.body.appendChild(A),x.setStart(g,1),x.setEnd(v,0),h.getClientRects=h.getBoundingClientRect=x.getClientRects().length>1,h.getClientRects||(x.setEnd(y,1),h.getClientRects=h.getBoundingClientRect=x.getClientRects().length===2),!h.getBoundingClientRect){x.setEnd(x.startContainer,x.startOffset);var I=x.getBoundingClientRect();h.getBoundingClientRect=I.top===0&&I.left===0}if(document.body.removeChild(A),!h.getBoundingClientRect){var P=document.createElement("p");P.style.width="0px",P.style.fontSize="20px",P.style.whiteSpace="normal",P.style.wordBreak="normal";var E=document.createTextNode("m mm");P.appendChild(E),document.body.appendChild(P),x.setStart(E,1),x.setEnd(E,2),a(x,1,"left")?h.getBoundingClientRect=!0:(x.setStart(E,1),x.setEnd(E,3),a(x,0,"top")&&(h.getBoundingClientRect=!0)),document.body.removeChild(P)}var B=window.ActiveXObject&&new Function("/*@cc_on return @_jscript_version; @*/")();h.ieZoom=!!B&&B<=10}return h},f.getClientRects=function(A){var v=this.isBroken();if(v.ieZoom)return m(A.getClientRects());if(!v.getClientRects)return A.getClientRects();var g=[],y=[],b=A.endContainer,x=A.endOffset,I=document.createRange();function P(E){for(var B=0;E=E.previousSibling;)B++;return B}for(;b!==A.commonAncestorContainer;)I.setStart(b,0),I.setEnd(b,x),_(y,I.getClientRects()),x=P(b),b=b.parentNode;return(I=A.cloneRange()).setEnd(b,x),_(g,I.getClientRects()),_(g,y),g},f.getBoundingClientRect=function(A){var v=this.getClientRects(A);if(v.length===0)return null;var g,y=A.getBoundingClientRect(),b=this.isBroken();if(b.ieZoom)return m(y);if(!b.getBoundingClientRect)return y;if(y.width===0&&y.height===0)return v[0];for(var x=0,I=v.length;x<I;x++){var P=v[x];g?(g.left=Math.min(g.left,P.left),g.top=Math.min(g.top,P.top),g.right=Math.max(g.right,P.right),g.bottom=Math.max(g.bottom,P.bottom)):g={left:P.left,top:P.top,right:P.right,bottom:P.bottom}}return g&&(g.width=g.right-g.left,g.height=g.bottom-g.top),g},f})=="function"?d.call(l,u,l,s):d)===void 0||(s.exports=p)},33:(s,l,u)=>{u.r(l),u.d(l,{default:()=>C});var d=function(){if(typeof Map<"u")return Map;function j(U,G){var Z=-1;return U.some(function(nt,tt){return nt[0]===G&&(Z=tt,!0)}),Z}return function(){function U(){this.__entries__=[]}return Object.defineProperty(U.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),U.prototype.get=function(G){var Z=j(this.__entries__,G),nt=this.__entries__[Z];return nt&&nt[1]},U.prototype.set=function(G,Z){var nt=j(this.__entries__,G);~nt?this.__entries__[nt][1]=Z:this.__entries__.push([G,Z])},U.prototype.delete=function(G){var Z=this.__entries__,nt=j(Z,G);~nt&&Z.splice(nt,1)},U.prototype.has=function(G){return!!~j(this.__entries__,G)},U.prototype.clear=function(){this.__entries__.splice(0)},U.prototype.forEach=function(G,Z){Z===void 0&&(Z=null);for(var nt=0,tt=this.__entries__;nt<tt.length;nt++){var K=tt[nt];G.call(Z,K[1],K[0])}},U}()}(),p=typeof window<"u"&&typeof document<"u"&&window.document===document,h=u.g!==void 0&&u.g.Math===Math?u.g:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")(),f=typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(h):function(j){return setTimeout(function(){return j(Date.now())},1e3/60)},a=["top","right","bottom","left","width","height","size","weight"],m=typeof MutationObserver<"u",_=function(){function j(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(U,G){var Z=!1,nt=!1,tt=0;function K(){Z&&(Z=!1,U()),nt&&O()}function z(){f(K)}function O(){var R=Date.now();if(Z){if(R-tt<2)return;nt=!0}else Z=!0,nt=!1,setTimeout(z,20);tt=R}return O}(this.refresh.bind(this))}return j.prototype.addObserver=function(U){~this.observers_.indexOf(U)||this.observers_.push(U),this.connected_||this.connect_()},j.prototype.removeObserver=function(U){var G=this.observers_,Z=G.indexOf(U);~Z&&G.splice(Z,1),!G.length&&this.connected_&&this.disconnect_()},j.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},j.prototype.updateObservers_=function(){var U=this.observers_.filter(function(G){return G.gatherActive(),G.hasActive()});return U.forEach(function(G){return G.broadcastActive()}),U.length>0},j.prototype.connect_=function(){p&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),m?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},j.prototype.disconnect_=function(){p&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},j.prototype.onTransitionEnd_=function(U){var G=U.propertyName,Z=G===void 0?"":G;a.some(function(nt){return!!~Z.indexOf(nt)})&&this.refresh()},j.getInstance=function(){return this.instance_||(this.instance_=new j),this.instance_},j.instance_=null,j}(),A=function(j,U){for(var G=0,Z=Object.keys(U);G<Z.length;G++){var nt=Z[G];Object.defineProperty(j,nt,{value:U[nt],enumerable:!1,writable:!1,configurable:!0})}return j},v=function(j){return j&&j.ownerDocument&&j.ownerDocument.defaultView||h},g=P(0,0,0,0);function y(j){return parseFloat(j)||0}function b(j){for(var U=[],G=1;G<arguments.length;G++)U[G-1]=arguments[G];return U.reduce(function(Z,nt){return Z+y(j["border-"+nt+"-width"])},0)}var x=typeof SVGGraphicsElement<"u"?function(j){return j instanceof v(j).SVGGraphicsElement}:function(j){return j instanceof v(j).SVGElement&&typeof j.getBBox=="function"};function I(j){return p?x(j)?function(U){var G=U.getBBox();return P(0,0,G.width,G.height)}(j):function(U){var G=U.clientWidth,Z=U.clientHeight;if(!G&&!Z)return g;var nt=v(U).getComputedStyle(U),tt=function(T){for(var F={},H=0,X=["top","right","bottom","left"];H<X.length;H++){var st=X[H],ut=T["padding-"+st];F[st]=y(ut)}return F}(nt),K=tt.left+tt.right,z=tt.top+tt.bottom,O=y(nt.width),R=y(nt.height);if(nt.boxSizing==="border-box"&&(Math.round(O+K)!==G&&(O-=b(nt,"left","right")+K),Math.round(R+z)!==Z&&(R-=b(nt,"top","bottom")+z)),!function(T){return T===v(T).document.documentElement}(U)){var V=Math.round(O+K)-G,M=Math.round(R+z)-Z;Math.abs(V)!==1&&(O-=V),Math.abs(M)!==1&&(R-=M)}return P(tt.left,tt.top,O,R)}(j):g}function P(j,U,G,Z){return{x:j,y:U,width:G,height:Z}}var E=function(){function j(U){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=P(0,0,0,0),this.target=U}return j.prototype.isActive=function(){var U=I(this.target);return this.contentRect_=U,U.width!==this.broadcastWidth||U.height!==this.broadcastHeight},j.prototype.broadcastRect=function(){var U=this.contentRect_;return this.broadcastWidth=U.width,this.broadcastHeight=U.height,U},j}(),B=function(j,U){var G,Z,nt,tt,K,z,O,R=(Z=(G=U).x,nt=G.y,tt=G.width,K=G.height,z=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,O=Object.create(z.prototype),A(O,{x:Z,y:nt,width:tt,height:K,top:nt,right:Z+tt,bottom:K+nt,left:Z}),O);A(this,{target:j,contentRect:R})},D=function(){function j(U,G,Z){if(this.activeObservations_=[],this.observations_=new d,typeof U!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=U,this.controller_=G,this.callbackCtx_=Z}return j.prototype.observe=function(U){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(typeof Element<"u"&&Element instanceof Object){if(!(U instanceof v(U).Element))throw new TypeError('parameter 1 is not of type "Element".');var G=this.observations_;G.has(U)||(G.set(U,new E(U)),this.controller_.addObserver(this),this.controller_.refresh())}},j.prototype.unobserve=function(U){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(typeof Element<"u"&&Element instanceof Object){if(!(U instanceof v(U).Element))throw new TypeError('parameter 1 is not of type "Element".');var G=this.observations_;G.has(U)&&(G.delete(U),G.size||this.controller_.removeObserver(this))}},j.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},j.prototype.gatherActive=function(){var U=this;this.clearActive(),this.observations_.forEach(function(G){G.isActive()&&U.activeObservations_.push(G)})},j.prototype.broadcastActive=function(){if(this.hasActive()){var U=this.callbackCtx_,G=this.activeObservations_.map(function(Z){return new B(Z.target,Z.broadcastRect())});this.callback_.call(U,G,U),this.clearActive()}},j.prototype.clearActive=function(){this.activeObservations_.splice(0)},j.prototype.hasActive=function(){return this.activeObservations_.length>0},j}(),N=typeof WeakMap<"u"?new WeakMap:new d,L=function j(U){if(!(this instanceof j))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var G=_.getInstance(),Z=new D(U,G,this);N.set(this,Z)};["observe","unobserve","disconnect"].forEach(function(j){L.prototype[j]=function(){var U;return(U=N.get(this))[j].apply(U,arguments)}});const C=h.ResizeObserver!==void 0?h.ResizeObserver:L},413:(s,l,u)=>{u.r(l),u.d(l,{default:()=>P});var d=u(379),p=u.n(d),h=u(795),f=u.n(h),a=u(569),m=u.n(a),_=u(565),A=u.n(_),v=u(216),g=u.n(v),y=u(589),b=u.n(y),x=u(582),I={};I.styleTagTransform=b(),I.setAttributes=A(),I.insert=m().bind(null,"head"),I.domAPI=f(),I.insertStyleElement=g(),p()(x.Z,I);const P=x.Z&&x.Z.locals?x.Z.locals:void 0},379:s=>{var l=[];function u(h){for(var f=-1,a=0;a<l.length;a++)if(l[a].identifier===h){f=a;break}return f}function d(h,f){for(var a={},m=[],_=0;_<h.length;_++){var A=h[_],v=f.base?A[0]+f.base:A[0],g=a[v]||0,y="".concat(v," ").concat(g);a[v]=g+1;var b=u(y),x={css:A[1],media:A[2],sourceMap:A[3],supports:A[4],layer:A[5]};if(b!==-1)l[b].references++,l[b].updater(x);else{var I=p(x,f);f.byIndex=_,l.splice(_,0,{identifier:y,updater:I,references:1})}m.push(y)}return m}function p(h,f){var a=f.domAPI(f);return a.update(h),function(m){if(m){if(m.css===h.css&&m.media===h.media&&m.sourceMap===h.sourceMap&&m.supports===h.supports&&m.layer===h.layer)return;a.update(h=m)}else a.remove()}}s.exports=function(h,f){var a=d(h=h||[],f=f||{});return function(m){m=m||[];for(var _=0;_<a.length;_++){var A=u(a[_]);l[A].references--}for(var v=d(m,f),g=0;g<a.length;g++){var y=u(a[g]);l[y].references===0&&(l[y].updater(),l.splice(y,1))}a=v}}},569:s=>{var l={};s.exports=function(u,d){var p=function(h){if(l[h]===void 0){var f=document.querySelector(h);if(window.HTMLIFrameElement&&f instanceof window.HTMLIFrameElement)try{f=f.contentDocument.head}catch{f=null}l[h]=f}return l[h]}(u);if(!p)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");p.appendChild(d)}},216:s=>{s.exports=function(l){var u=document.createElement("style");return l.setAttributes(u,l.attributes),l.insert(u,l.options),u}},565:(s,l,u)=>{s.exports=function(d){var p=u.nc;p&&d.setAttribute("nonce",p)}},795:s=>{s.exports=function(l){var u=l.insertStyleElement(l);return{update:function(d){(function(p,h,f){var a="";f.supports&&(a+="@supports (".concat(f.supports,") {")),f.media&&(a+="@media ".concat(f.media," {"));var m=f.layer!==void 0;m&&(a+="@layer".concat(f.layer.length>0?" ".concat(f.layer):""," {")),a+=f.css,m&&(a+="}"),f.media&&(a+="}"),f.supports&&(a+="}");var _=f.sourceMap;_&&typeof btoa<"u"&&(a+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(_))))," */")),h.styleTagTransform(a,p,h.options)})(u,l,d)},remove:function(){(function(d){if(d.parentNode===null)return!1;d.parentNode.removeChild(d)})(u)}}}},589:s=>{s.exports=function(l,u){if(u.styleSheet)u.styleSheet.cssText=l;else{for(;u.firstChild;)u.removeChild(u.firstChild);u.appendChild(document.createTextNode(l))}}},607:function(s,l,u){var d=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(l,"__esModule",{value:!0}),l.Cursor=l.default=void 0;var p=d(u(678));l.default=p.default;var h=d(u(353));l.Cursor=h.default,u(413)},353:(s,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0});var d=u(207),p=function(){function h(f,a,m){this.id=f,this.name=a,this.color=m,this.toggleNearCursor=this.toggleNearCursor.bind(this),this._toggleOpenedCursor=this._toggleOpenedCursor.bind(this),this._setHoverState=this._setHoverState.bind(this)}return h.prototype.build=function(f){var a=document.createElement(h.CONTAINER_ELEMENT_TAG);a.classList.add(h.CURSOR_CLASS),a.id="ql-cursor-".concat(this.id),a.innerHTML=f.template;var m=a.getElementsByClassName(h.SELECTION_CLASS)[0],_=a.getElementsByClassName(h.CARET_CONTAINER_CLASS)[0],A=_.getElementsByClassName(h.CARET_CLASS)[0],v=a.getElementsByClassName(h.FLAG_CLASS)[0];return v.style.backgroundColor=this.color,A.style.backgroundColor=this.color,a.getElementsByClassName(h.NAME_CLASS)[0].textContent=this.name,this._hideDelay="".concat(f.hideDelayMs,"ms"),this._hideSpeedMs=f.hideSpeedMs,this._positionFlag=f.positionFlag,v.style.transitionDelay=this._hideDelay,v.style.transitionDuration="".concat(this._hideSpeedMs,"ms"),this._el=a,this._selectionEl=m,this._caretEl=_,this._flagEl=v,_.addEventListener("mouseover",this._setHoverState),this._el},h.prototype.show=function(){this._el.classList.remove(h.HIDDEN_CLASS)},h.prototype.hide=function(){this._el.classList.add(h.HIDDEN_CLASS)},h.prototype.remove=function(){this._el.parentNode.removeChild(this._el)},h.prototype.toggleNearCursor=function(f,a){var m=this._getCoordinates(),_=m.left,A=m.right,v=m.top,g=m.bottom,y=f>=_&&f<=A&&a>=v&&a<=g;return this._caretEl.classList.toggle(h.CONTAINER_HOVER_CLASS,y),y},h.prototype.toggleFlag=function(f){var a=this;this._caretEl.classList.toggle(h.CONTAINER_HOVER_CLASS,f)||(this._flagEl.classList.add(h.NO_DELAY_CLASS),setTimeout(function(){return a._flagEl.classList.remove(h.NO_DELAY_CLASS)},this._hideSpeedMs))},h.prototype.updateCaret=function(f,a){this._caretEl.style.top="".concat(f.top,"px"),this._caretEl.style.left="".concat(f.left,"px"),this._caretEl.style.height="".concat(f.height,"px"),this._positionFlag?this._positionFlag(this._flagEl,f,a):this._updateCaretFlag(f,a)},h.prototype.updateSelection=function(f,a){var m=this;this._clearSelection(),f=f||[],f=Array.from(f),f=this._sanitize(f),(f=this._sortByDomPosition(f)).forEach(function(_){return m._addSelection(_,a)})},h.prototype._setHoverState=function(){document.addEventListener("mousemove",this._toggleOpenedCursor)},h.prototype._toggleOpenedCursor=function(f){var a=this.toggleNearCursor(f.clientX,f.clientY);this._caretEl.classList.toggle(h.CONTAINER_NO_POINTER_CLASS,a),a||document.removeEventListener("mousemove",this._toggleOpenedCursor)},h.prototype._getCoordinates=function(){return this._caretEl.getBoundingClientRect()},h.prototype._updateCaretFlag=function(f,a){this._flagEl.style.width="";var m=this._flagEl.getBoundingClientRect();this._flagEl.classList.remove(h.FLAG_FLIPPED_CLASS),f.left>a.width-m.width&&this._flagEl.classList.add(h.FLAG_FLIPPED_CLASS),this._flagEl.style.left="".concat(f.left,"px"),this._flagEl.style.top="".concat(f.top,"px"),this._flagEl.style.width="".concat(Math.ceil(m.width),"px")},h.prototype._clearSelection=function(){this._selectionEl.innerHTML=""},h.prototype._addSelection=function(f,a){var m=this._selectionBlock(f,a);this._selectionEl.appendChild(m)},h.prototype._selectionBlock=function(f,a){var m=document.createElement(h.SELECTION_ELEMENT_TAG);return m.classList.add(h.SELECTION_BLOCK_CLASS),m.style.top="".concat(f.top-a.top,"px"),m.style.left="".concat(f.left-a.left,"px"),m.style.width="".concat(f.width,"px"),m.style.height="".concat(f.height,"px"),m.style.backgroundColor=d(this.color).setAlpha(.3).toString(),m},h.prototype._sortByDomPosition=function(f){return f.sort(function(a,m){return a.top===m.top?a.left-m.left:a.top-m.top})},h.prototype._sanitize=function(f){var a=this,m=new Set;return f.filter(function(_){if(!_.width||!_.height)return!1;var A=a._serialize(_);return!m.has(A)&&(m.add(A),!0)})},h.prototype._serialize=function(f){return["top:".concat(f.top),"right:".concat(f.right),"bottom:".concat(f.bottom),"left:".concat(f.left)].join(";")},h.CONTAINER_ELEMENT_TAG="SPAN",h.SELECTION_ELEMENT_TAG="SPAN",h.CURSOR_CLASS="ql-cursor",h.SELECTION_CLASS="ql-cursor-selections",h.SELECTION_BLOCK_CLASS="ql-cursor-selection-block",h.CARET_CLASS="ql-cursor-caret",h.CARET_CONTAINER_CLASS="ql-cursor-caret-container",h.CONTAINER_HOVER_CLASS="hover",h.CONTAINER_NO_POINTER_CLASS="no-pointer",h.FLAG_CLASS="ql-cursor-flag",h.FLAG_FLIPPED_CLASS="flag-flipped",h.NAME_CLASS="ql-cursor-name",h.HIDDEN_CLASS="hidden",h.NO_DELAY_CLASS="no-delay",h}();l.default=p},678:function(s,l,u){var d=this&&this.__createBinding||(Object.create?function(y,b,x,I){I===void 0&&(I=x);var P=Object.getOwnPropertyDescriptor(b,x);P&&!("get"in P?!b.__esModule:P.writable||P.configurable)||(P={enumerable:!0,get:function(){return b[x]}}),Object.defineProperty(y,I,P)}:function(y,b,x,I){I===void 0&&(I=x),y[I]=b[x]}),p=this&&this.__setModuleDefault||(Object.create?function(y,b){Object.defineProperty(y,"default",{enumerable:!0,value:b})}:function(y,b){y.default=b}),h=this&&this.__importStar||function(y){if(y&&y.__esModule)return y;var b={};if(y!=null)for(var x in y)x!=="default"&&Object.prototype.hasOwnProperty.call(y,x)&&d(b,y,x);return p(b,y),b},f=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(l,"__esModule",{value:!0});var a=f(u(353)),m=h(u(165)),_=f(u(338)),A=f(u(33)),v=u(895),g=function(){function y(b,x){x===void 0&&(x={}),this._cursors={},this._isObserving=!1,this._handleCursorTouch=this._handleCursorTouch.bind(this),this.quill=b,this.options=this._setDefaults(x),this._container=this.quill.addContainer(this.options.containerClass),this._boundsContainer=this.options.boundsContainer||this.quill.container,this._currentSelection=this.quill.getSelection(),this._registerSelectionChangeListeners(),this._registerTextChangeListener(),this._registerDomListeners()}return y.prototype.createCursor=function(b,x,I){var P=this._cursors[b];if(!P){P=new a.default(b,x,I),this._cursors[b]=P;var E=P.build(this.options);this._container.appendChild(E)}return P},y.prototype.moveCursor=function(b,x){var I=this._cursors[b];I&&(I.range=x,this._updateCursor(I))},y.prototype.removeCursor=function(b){var x=this._cursors[b];x&&(x.remove(),delete this._cursors[b])},y.prototype.update=function(){var b=this;this.cursors().forEach(function(x){return b._updateCursor(x)})},y.prototype.clearCursors=function(){var b=this;this.cursors().forEach(function(x){return b.removeCursor(x.id)})},y.prototype.toggleFlag=function(b,x){var I=this._cursors[b];I&&I.toggleFlag(x)},y.prototype.cursors=function(){var b=this;return Object.keys(this._cursors).map(function(x){return b._cursors[x]})},y.prototype._registerSelectionChangeListeners=function(){var b=this;this.quill.on(this.quill.constructor.events.SELECTION_CHANGE,function(x){b._currentSelection=x})},y.prototype._registerTextChangeListener=function(){var b=this;this.quill.on(this.quill.constructor.events.TEXT_CHANGE,function(x){return b._handleTextChange(x)})},y.prototype._registerDomListeners=function(){var b=this,x=this.quill.container.getElementsByClassName("ql-editor")[0];x.addEventListener("scroll",function(){return b.update()}),x.addEventListener("touchstart",this._handleCursorTouch)},y.prototype._handleCursorTouch=function(b){var x=this;this.cursors().forEach(function(I){I.toggleNearCursor(b.pageX,b.pageY),setTimeout(function(){return I.toggleFlag(!1)},x.options.hideDelayMs)})},y.prototype._registerResizeObserver=function(){var b=this;if(!this._isObserving){var x=this.quill.container.getElementsByClassName("ql-editor")[0],I=new A.default(function(P){if(!P[0].target.isConnected)return I.disconnect(),void(b._isObserving=!1);b.update()});I.observe(x),this._isObserving=!0}},y.prototype._updateCursor=function(b){if(this._registerResizeObserver(),!b.range)return b.hide();var x=this._indexWithinQuillBounds(b.range.index),I=this._indexWithinQuillBounds(b.range.index+b.range.length),P=this.quill.getLeaf(x),E=this.quill.getLeaf(I);if(!this._leafIsValid(P)||!this._leafIsValid(E))return b.hide();b.show();var B=this._boundsContainer.getBoundingClientRect(),D=this.quill.getBounds(I);b.updateCaret(D,B);var N=this._lineRanges(b,P,E).reduce(function(L,C){return L.concat(Array.from(m.getClientRects(C)))},[]);b.updateSelection(N,B)},y.prototype._indexWithinQuillBounds=function(b){var x=this.quill.getLength(),I=x?x-1:0;return b=Math.max(b,0),Math.min(b,I)},y.prototype._leafIsValid=function(b){return b&&b[0]&&b[0].domNode&&b[1]>=0},y.prototype._handleTextChange=function(b){var x=this;window.setTimeout(function(){x.options.transformOnTextChange&&x._transformCursors(b),x.options.selectionChangeSource&&(x._emitSelection(),x.update())})},y.prototype._emitSelection=function(){this.quill.emitter.emit(this.quill.constructor.events.SELECTION_CHANGE,this.quill.getSelection(),this._currentSelection,this.options.selectionChangeSource)},y.prototype._setDefaults=function(b){return(b=Object.assign({},b)).template||(b.template=y.DEFAULTS.template),b.containerClass||(b.containerClass=y.DEFAULTS.containerClass),b.selectionChangeSource!==null&&(b.selectionChangeSource||(b.selectionChangeSource=y.DEFAULTS.selectionChangeSource)),b.hideDelayMs=Number.isInteger(b.hideDelayMs)?b.hideDelayMs:y.DEFAULTS.hideDelayMs,b.hideSpeedMs=Number.isInteger(b.hideSpeedMs)?b.hideSpeedMs:y.DEFAULTS.hideSpeedMs,b.transformOnTextChange=!!b.transformOnTextChange,b},y.prototype._lineRanges=function(b,x,I){var P=this.quill.getLines(b.range);return P.reduce(function(E,B,D){if(!B.children){var N=document.createRange();return N.selectNode(B.domNode),E.concat(N)}var L=D===0?x:B.path(0).pop(),C=L[0],j=L[1],U=D===P.length-1?I:B.path(B.length()-1).pop(),G=U[0],Z=U[1],nt=document.createRange();return C.domNode.nodeType===Node.TEXT_NODE?nt.setStart(C.domNode,j):nt.setStartBefore(C.domNode),G.domNode.nodeType===Node.TEXT_NODE?nt.setEnd(G.domNode,Z):nt.setEndAfter(G.domNode),E.concat(nt)},[])},y.prototype._transformCursors=function(b){var x=this;b=new v(b),this.cursors().filter(function(I){return I.range}).forEach(function(I){I.range.index=b.transformPosition(I.range.index),x._updateCursor(I)})},y.DEFAULTS={template:_.default,containerClass:"ql-cursors",selectionChangeSource:"api",hideDelayMs:3e3,hideSpeedMs:400},y}();l.default=g},338:function(s,l,u){var d=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(l,"__esModule",{value:!0});var p=d(u(353)),h=`
  <span class="`.concat(p.default.SELECTION_CLASS,`"></span>
  <span class="`).concat(p.default.CARET_CONTAINER_CLASS,`">
    <span class="`).concat(p.default.CARET_CLASS,`"></span>
  </span>
  <div class="`).concat(p.default.FLAG_CLASS,`">
    <small class="`).concat(p.default.NAME_CLASS,`"></small>
  </div>
`);l.default=h},207:function(s){s.exports=function(){const l=/^\s+/,u=/\s+$/;function d(M,T){if(T=T||{},(M=M||"")instanceof d)return M;if(!(this instanceof d))return new d(M,T);var F=function(H){var X={r:0,g:0,b:0},st=1,ut=null,Nt=null,At=null,Pt=!1,bt=!1;return typeof H=="string"&&(H=function(at){at=at.replace(l,"").replace(u,"").toLowerCase();var lt,yt=!1;if(D[at])at=D[at],yt=!0;else if(at=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return(lt=R.rgb.exec(at))?{r:lt[1],g:lt[2],b:lt[3]}:(lt=R.rgba.exec(at))?{r:lt[1],g:lt[2],b:lt[3],a:lt[4]}:(lt=R.hsl.exec(at))?{h:lt[1],s:lt[2],l:lt[3]}:(lt=R.hsla.exec(at))?{h:lt[1],s:lt[2],l:lt[3],a:lt[4]}:(lt=R.hsv.exec(at))?{h:lt[1],s:lt[2],v:lt[3]}:(lt=R.hsva.exec(at))?{h:lt[1],s:lt[2],v:lt[3],a:lt[4]}:(lt=R.hex8.exec(at))?{r:U(lt[1]),g:U(lt[2]),b:U(lt[3]),a:tt(lt[4]),format:yt?"name":"hex8"}:(lt=R.hex6.exec(at))?{r:U(lt[1]),g:U(lt[2]),b:U(lt[3]),format:yt?"name":"hex"}:(lt=R.hex4.exec(at))?{r:U(lt[1]+""+lt[1]),g:U(lt[2]+""+lt[2]),b:U(lt[3]+""+lt[3]),a:tt(lt[4]+""+lt[4]),format:yt?"name":"hex8"}:!!(lt=R.hex3.exec(at))&&{r:U(lt[1]+""+lt[1]),g:U(lt[2]+""+lt[2]),b:U(lt[3]+""+lt[3]),format:yt?"name":"hex"}}(H)),typeof H=="object"&&(V(H.r)&&V(H.g)&&V(H.b)?(it=H.r,Wt=H.g,dt=H.b,X={r:255*C(it,255),g:255*C(Wt,255),b:255*C(dt,255)},Pt=!0,bt=String(H.r).substr(-1)==="%"?"prgb":"rgb"):V(H.h)&&V(H.s)&&V(H.v)?(ut=Z(H.s),Nt=Z(H.v),X=function(at,lt,yt){at=6*C(at,360),lt=C(lt,100),yt=C(yt,100);var pt=Math.floor(at),Ct=at-pt,Tt=yt*(1-lt),Rt=yt*(1-Ct*lt),Ht=yt*(1-(1-Ct)*lt),Yt=pt%6;return{r:255*[yt,Rt,Tt,Tt,Ht,yt][Yt],g:255*[Ht,yt,yt,Rt,Tt,Tt][Yt],b:255*[Tt,Tt,Ht,yt,yt,Rt][Yt]}}(H.h,ut,Nt),Pt=!0,bt="hsv"):V(H.h)&&V(H.s)&&V(H.l)&&(ut=Z(H.s),At=Z(H.l),X=function(at,lt,yt){var pt,Ct,Tt;function Rt(Vt,Xt,zt){return zt<0&&(zt+=1),zt>1&&(zt-=1),zt<1/6?Vt+6*(Xt-Vt)*zt:zt<.5?Xt:zt<2/3?Vt+(Xt-Vt)*(2/3-zt)*6:Vt}if(at=C(at,360),lt=C(lt,100),yt=C(yt,100),lt===0)pt=Ct=Tt=yt;else{var Ht=yt<.5?yt*(1+lt):yt+lt-yt*lt,Yt=2*yt-Ht;pt=Rt(Yt,Ht,at+1/3),Ct=Rt(Yt,Ht,at),Tt=Rt(Yt,Ht,at-1/3)}return{r:255*pt,g:255*Ct,b:255*Tt}}(H.h,ut,At),Pt=!0,bt="hsl"),H.hasOwnProperty("a")&&(st=H.a)),st=L(st),{ok:Pt,format:H.format||bt,r:Math.min(255,Math.max(X.r,0)),g:Math.min(255,Math.max(X.g,0)),b:Math.min(255,Math.max(X.b,0)),a:st};var it,Wt,dt}(M);this._originalInput=M,this._r=F.r,this._g=F.g,this._b=F.b,this._a=F.a,this._roundA=Math.round(100*this._a)/100,this._format=T.format||F.format,this._gradientType=T.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=F.ok}function p(M,T,F){M=C(M,255),T=C(T,255),F=C(F,255);var H,X,st=Math.max(M,T,F),ut=Math.min(M,T,F),Nt=(st+ut)/2;if(st==ut)H=X=0;else{var At=st-ut;switch(X=Nt>.5?At/(2-st-ut):At/(st+ut),st){case M:H=(T-F)/At+(T<F?6:0);break;case T:H=(F-M)/At+2;break;case F:H=(M-T)/At+4}H/=6}return{h:H,s:X,l:Nt}}function h(M,T,F){M=C(M,255),T=C(T,255),F=C(F,255);var H,X,st=Math.max(M,T,F),ut=Math.min(M,T,F),Nt=st,At=st-ut;if(X=st===0?0:At/st,st==ut)H=0;else{switch(st){case M:H=(T-F)/At+(T<F?6:0);break;case T:H=(F-M)/At+2;break;case F:H=(M-T)/At+4}H/=6}return{h:H,s:X,v:Nt}}function f(M,T,F,H){var X=[G(Math.round(M).toString(16)),G(Math.round(T).toString(16)),G(Math.round(F).toString(16))];return H&&X[0].charAt(0)==X[0].charAt(1)&&X[1].charAt(0)==X[1].charAt(1)&&X[2].charAt(0)==X[2].charAt(1)?X[0].charAt(0)+X[1].charAt(0)+X[2].charAt(0):X.join("")}function a(M,T,F,H){return[G(nt(H)),G(Math.round(M).toString(16)),G(Math.round(T).toString(16)),G(Math.round(F).toString(16))].join("")}function m(M,T){T=T===0?0:T||10;var F=d(M).toHsl();return F.s-=T/100,F.s=j(F.s),d(F)}function _(M,T){T=T===0?0:T||10;var F=d(M).toHsl();return F.s+=T/100,F.s=j(F.s),d(F)}function A(M){return d(M).desaturate(100)}function v(M,T){T=T===0?0:T||10;var F=d(M).toHsl();return F.l+=T/100,F.l=j(F.l),d(F)}function g(M,T){T=T===0?0:T||10;var F=d(M).toRgb();return F.r=Math.max(0,Math.min(255,F.r-Math.round(-T/100*255))),F.g=Math.max(0,Math.min(255,F.g-Math.round(-T/100*255))),F.b=Math.max(0,Math.min(255,F.b-Math.round(-T/100*255))),d(F)}function y(M,T){T=T===0?0:T||10;var F=d(M).toHsl();return F.l-=T/100,F.l=j(F.l),d(F)}function b(M,T){var F=d(M).toHsl(),H=(F.h+T)%360;return F.h=H<0?360+H:H,d(F)}function x(M){var T=d(M).toHsl();return T.h=(T.h+180)%360,d(T)}function I(M,T){if(isNaN(T)||T<=0)throw new Error("Argument to polyad must be a positive number");for(var F=d(M).toHsl(),H=[d(M)],X=360/T,st=1;st<T;st++)H.push(d({h:(F.h+st*X)%360,s:F.s,l:F.l}));return H}function P(M){var T=d(M).toHsl(),F=T.h;return[d(M),d({h:(F+72)%360,s:T.s,l:T.l}),d({h:(F+216)%360,s:T.s,l:T.l})]}function E(M,T,F){T=T||6,F=F||30;var H=d(M).toHsl(),X=360/F,st=[d(M)];for(H.h=(H.h-(X*T>>1)+720)%360;--T;)H.h=(H.h+X)%360,st.push(d(H));return st}function B(M,T){T=T||6;for(var F=d(M).toHsv(),H=F.h,X=F.s,st=F.v,ut=[],Nt=1/T;T--;)ut.push(d({h:H,s:X,v:st})),st=(st+Nt)%1;return ut}d.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var M=this.toRgb();return(299*M.r+587*M.g+114*M.b)/1e3},getLuminance:function(){var M,T,F,H=this.toRgb();return M=H.r/255,T=H.g/255,F=H.b/255,.2126*(M<=.03928?M/12.92:Math.pow((M+.055)/1.055,2.4))+.7152*(T<=.03928?T/12.92:Math.pow((T+.055)/1.055,2.4))+.0722*(F<=.03928?F/12.92:Math.pow((F+.055)/1.055,2.4))},setAlpha:function(M){return this._a=L(M),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var M=h(this._r,this._g,this._b);return{h:360*M.h,s:M.s,v:M.v,a:this._a}},toHsvString:function(){var M=h(this._r,this._g,this._b),T=Math.round(360*M.h),F=Math.round(100*M.s),H=Math.round(100*M.v);return this._a==1?"hsv("+T+", "+F+"%, "+H+"%)":"hsva("+T+", "+F+"%, "+H+"%, "+this._roundA+")"},toHsl:function(){var M=p(this._r,this._g,this._b);return{h:360*M.h,s:M.s,l:M.l,a:this._a}},toHslString:function(){var M=p(this._r,this._g,this._b),T=Math.round(360*M.h),F=Math.round(100*M.s),H=Math.round(100*M.l);return this._a==1?"hsl("+T+", "+F+"%, "+H+"%)":"hsla("+T+", "+F+"%, "+H+"%, "+this._roundA+")"},toHex:function(M){return f(this._r,this._g,this._b,M)},toHexString:function(M){return"#"+this.toHex(M)},toHex8:function(M){return function(T,F,H,X,st){var ut=[G(Math.round(T).toString(16)),G(Math.round(F).toString(16)),G(Math.round(H).toString(16)),G(nt(X))];return st&&ut[0].charAt(0)==ut[0].charAt(1)&&ut[1].charAt(0)==ut[1].charAt(1)&&ut[2].charAt(0)==ut[2].charAt(1)&&ut[3].charAt(0)==ut[3].charAt(1)?ut[0].charAt(0)+ut[1].charAt(0)+ut[2].charAt(0)+ut[3].charAt(0):ut.join("")}(this._r,this._g,this._b,this._a,M)},toHex8String:function(M){return"#"+this.toHex8(M)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*C(this._r,255))+"%",g:Math.round(100*C(this._g,255))+"%",b:Math.round(100*C(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(100*C(this._r,255))+"%, "+Math.round(100*C(this._g,255))+"%, "+Math.round(100*C(this._b,255))+"%)":"rgba("+Math.round(100*C(this._r,255))+"%, "+Math.round(100*C(this._g,255))+"%, "+Math.round(100*C(this._b,255))+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":!(this._a<1)&&(N[f(this._r,this._g,this._b,!0)]||!1)},toFilter:function(M){var T="#"+a(this._r,this._g,this._b,this._a),F=T,H=this._gradientType?"GradientType = 1, ":"";if(M){var X=d(M);F="#"+a(X._r,X._g,X._b,X._a)}return"progid:DXImageTransform.Microsoft.gradient("+H+"startColorstr="+T+",endColorstr="+F+")"},toString:function(M){var T=!!M;M=M||this._format;var F=!1,H=this._a<1&&this._a>=0;return T||!H||M!=="hex"&&M!=="hex6"&&M!=="hex3"&&M!=="hex4"&&M!=="hex8"&&M!=="name"?(M==="rgb"&&(F=this.toRgbString()),M==="prgb"&&(F=this.toPercentageRgbString()),M!=="hex"&&M!=="hex6"||(F=this.toHexString()),M==="hex3"&&(F=this.toHexString(!0)),M==="hex4"&&(F=this.toHex8String(!0)),M==="hex8"&&(F=this.toHex8String()),M==="name"&&(F=this.toName()),M==="hsl"&&(F=this.toHslString()),M==="hsv"&&(F=this.toHsvString()),F||this.toHexString()):M==="name"&&this._a===0?this.toName():this.toRgbString()},clone:function(){return d(this.toString())},_applyModification:function(M,T){var F=M.apply(null,[this].concat([].slice.call(T)));return this._r=F._r,this._g=F._g,this._b=F._b,this.setAlpha(F._a),this},lighten:function(){return this._applyModification(v,arguments)},brighten:function(){return this._applyModification(g,arguments)},darken:function(){return this._applyModification(y,arguments)},desaturate:function(){return this._applyModification(m,arguments)},saturate:function(){return this._applyModification(_,arguments)},greyscale:function(){return this._applyModification(A,arguments)},spin:function(){return this._applyModification(b,arguments)},_applyCombination:function(M,T){return M.apply(null,[this].concat([].slice.call(T)))},analogous:function(){return this._applyCombination(E,arguments)},complement:function(){return this._applyCombination(x,arguments)},monochromatic:function(){return this._applyCombination(B,arguments)},splitcomplement:function(){return this._applyCombination(P,arguments)},triad:function(){return this._applyCombination(I,[3])},tetrad:function(){return this._applyCombination(I,[4])}},d.fromRatio=function(M,T){if(typeof M=="object"){var F={};for(var H in M)M.hasOwnProperty(H)&&(F[H]=H==="a"?M[H]:Z(M[H]));M=F}return d(M,T)},d.equals=function(M,T){return!(!M||!T)&&d(M).toRgbString()==d(T).toRgbString()},d.random=function(){return d.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},d.mix=function(M,T,F){F=F===0?0:F||50;var H=d(M).toRgb(),X=d(T).toRgb(),st=F/100;return d({r:(X.r-H.r)*st+H.r,g:(X.g-H.g)*st+H.g,b:(X.b-H.b)*st+H.b,a:(X.a-H.a)*st+H.a})},d.readability=function(M,T){var F=d(M),H=d(T);return(Math.max(F.getLuminance(),H.getLuminance())+.05)/(Math.min(F.getLuminance(),H.getLuminance())+.05)},d.isReadable=function(M,T,F){var H,X,st,ut,Nt,At=d.readability(M,T);switch(X=!1,(st=F,(ut=((st=st||{level:"AA",size:"small"}).level||"AA").toUpperCase())!=="AA"&&ut!=="AAA"&&(ut="AA"),(Nt=(st.size||"small").toLowerCase())!=="small"&&Nt!=="large"&&(Nt="small"),H={level:ut,size:Nt}).level+H.size){case"AAsmall":case"AAAlarge":X=At>=4.5;break;case"AAlarge":X=At>=3;break;case"AAAsmall":X=At>=7}return X},d.mostReadable=function(M,T,F){var H,X,st,ut,Nt=null,At=0;X=(F=F||{}).includeFallbackColors,st=F.level,ut=F.size;for(var Pt=0;Pt<T.length;Pt++)(H=d.readability(M,T[Pt]))>At&&(At=H,Nt=d(T[Pt]));return d.isReadable(M,Nt,{level:st,size:ut})||!X?Nt:(F.includeFallbackColors=!1,d.mostReadable(M,["#fff","#000"],F))};var D=d.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},N=d.hexNames=function(M){var T={};for(var F in M)M.hasOwnProperty(F)&&(T[M[F]]=F);return T}(D);function L(M){return M=parseFloat(M),(isNaN(M)||M<0||M>1)&&(M=1),M}function C(M,T){(function(H){return typeof H=="string"&&H.indexOf(".")!=-1&&parseFloat(H)===1})(M)&&(M="100%");var F=function(H){return typeof H=="string"&&H.indexOf("%")!=-1}(M);return M=Math.min(T,Math.max(0,parseFloat(M))),F&&(M=parseInt(M*T,10)/100),Math.abs(M-T)<1e-6?1:M%T/parseFloat(T)}function j(M){return Math.min(1,Math.max(0,M))}function U(M){return parseInt(M,16)}function G(M){return M.length==1?"0"+M:""+M}function Z(M){return M<=1&&(M=100*M+"%"),M}function nt(M){return Math.round(255*parseFloat(M)).toString(16)}function tt(M){return U(M)/255}var K,z,O,R=(z="[\\s|\\(]+("+(K="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+K+")[,|\\s]+("+K+")\\s*\\)?",O="[\\s|\\(]+("+K+")[,|\\s]+("+K+")[,|\\s]+("+K+")[,|\\s]+("+K+")\\s*\\)?",{CSS_UNIT:new RegExp(K),rgb:new RegExp("rgb"+z),rgba:new RegExp("rgba"+O),hsl:new RegExp("hsl"+z),hsla:new RegExp("hsla"+O),hsv:new RegExp("hsv"+z),hsva:new RegExp("hsva"+O),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function V(M){return!!R.CSS_UNIT.exec(M)}return d}()}},r={};function i(s){var l=r[s];if(l!==void 0)return l.exports;var u=r[s]={id:s,loaded:!1,exports:{}};return e[s].call(u.exports,u,u.exports,i),u.loaded=!0,u.exports}i.n=s=>{var l=s&&s.__esModule?()=>s.default:()=>s;return i.d(l,{a:l}),l},i.d=(s,l)=>{for(var u in l)i.o(l,u)&&!i.o(s,u)&&Object.defineProperty(s,u,{enumerable:!0,get:l[u]})},i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),i.o=(s,l)=>Object.prototype.hasOwnProperty.call(s,l),i.r=s=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},i.nmd=s=>(s.paths=[],s.children||(s.children=[]),s),i.nc=void 0;var o=i(607);return o.default})())})(Th);var t0=Th.exports;const e0=kh(t0);const n0=n=>{const t=/[\ud800-\udbff][\udc00-\udfff]/g;return n=n.replace(t,e=>{let r,i,o,s;return e.length===2?(r=e.charCodeAt(0),i=e.charCodeAt(1),o=(r-55296)*1024+65536+i-56320,s=`&#${o};`):s=e,s}),n},r0=n=>{const t=/&#\d+;/g,e=n.match(t)||[];let r,i,o;for(let s=0;s<e.length;s+=1){o=e[s],o=o.replace("&#","").replace(";",""),r=Math.floor((o-65536)/1024)+55296,i=(o-65536)%1024+56320,o=`&#${o};`;const l=String.fromCharCode(r,i);n=n.replace(o,l)}return n};function He(n){"@babel/helpers - typeof";return He=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},He(n)}var er=Uint8Array,Pr=Uint16Array,xc=Int32Array,zl=new er([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Hl=new er([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Xu=new er([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ih=function(n,t){for(var e=new Pr(31),r=0;r<31;++r)e[r]=t+=1<<n[r-1];for(var i=new xc(e[30]),r=1;r<30;++r)for(var o=e[r];o<e[r+1];++o)i[o]=o-e[r]<<5|r;return{b:e,r:i}},jh=Ih(zl,2),Mh=jh.b,Zu=jh.r;Mh[28]=258,Zu[258]=28;var Dh=Ih(Hl,0),i0=Dh.b,Lf=Dh.r,Qu=new Pr(32768);for(var rn=0;rn<32768;++rn){var Zi=(rn&43690)>>1|(rn&21845)<<1;Zi=(Zi&52428)>>2|(Zi&13107)<<2,Zi=(Zi&61680)>>4|(Zi&3855)<<4,Qu[rn]=((Zi&65280)>>8|(Zi&255)<<8)>>1}var gi=function(n,t,e){for(var r=n.length,i=0,o=new Pr(t);i<r;++i)n[i]&&++o[n[i]-1];var s=new Pr(t);for(i=1;i<t;++i)s[i]=s[i-1]+o[i-1]<<1;var l;if(e){l=new Pr(1<<t);var u=15-t;for(i=0;i<r;++i)if(n[i])for(var d=i<<4|n[i],p=t-n[i],h=s[n[i]-1]++<<p,f=h|(1<<p)-1;h<=f;++h)l[Qu[h]>>u]=d}else for(l=new Pr(r),i=0;i<r;++i)n[i]&&(l[i]=Qu[s[n[i]-1]++]>>15-n[i]);return l},so=new er(288);for(var rn=0;rn<144;++rn)so[rn]=8;for(var rn=144;rn<256;++rn)so[rn]=9;for(var rn=256;rn<280;++rn)so[rn]=7;for(var rn=280;rn<288;++rn)so[rn]=8;var pa=new er(32);for(var rn=0;rn<32;++rn)pa[rn]=5;var o0=gi(so,9,0),s0=gi(so,9,1),a0=gi(pa,5,0),l0=gi(pa,5,1),Ou=function(n){for(var t=n[0],e=1;e<n.length;++e)n[e]>t&&(t=n[e]);return t},Xr=function(n,t,e){var r=t/8|0;return(n[r]|n[r+1]<<8)>>(t&7)&e},Eu=function(n,t){var e=t/8|0;return(n[e]|n[e+1]<<8|n[e+2]<<16)>>(t&7)},Nc=function(n){return(n+7)/8|0},Rh=function(n,t,e){return(t==null||t<0)&&(t=0),(e==null||e>n.length)&&(e=n.length),new er(n.subarray(t,e))},u0=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Qr=function(n,t,e){var r=new Error(t||u0[n]);if(r.code=n,Error.captureStackTrace&&Error.captureStackTrace(r,Qr),!e)throw r;return r},c0=function(n,t,e,r){var i=n.length,o=r?r.length:0;if(!i||t.f&&!t.l)return e||new er(0);var s=!e,l=s||t.i!=2,u=t.i;s&&(e=new er(i*3));var d=function(ut){var Nt=e.length;if(ut>Nt){var At=new er(Math.max(Nt*2,ut));At.set(e),e=At}},p=t.f||0,h=t.p||0,f=t.b||0,a=t.l,m=t.d,_=t.m,A=t.n,v=i*8;do{if(!a){p=Xr(n,h,1);var g=Xr(n,h+1,3);if(h+=3,g)if(g==1)a=s0,m=l0,_=9,A=5;else if(g==2){var I=Xr(n,h,31)+257,P=Xr(n,h+10,15)+4,E=I+Xr(n,h+5,31)+1;h+=14;for(var B=new er(E),D=new er(19),N=0;N<P;++N)D[Xu[N]]=Xr(n,h+N*3,7);h+=P*3;for(var L=Ou(D),C=(1<<L)-1,j=gi(D,L,1),N=0;N<E;){var U=j[Xr(n,h,C)];h+=U&15;var y=U>>4;if(y<16)B[N++]=y;else{var G=0,Z=0;for(y==16?(Z=3+Xr(n,h,3),h+=2,G=B[N-1]):y==17?(Z=3+Xr(n,h,7),h+=3):y==18&&(Z=11+Xr(n,h,127),h+=7);Z--;)B[N++]=G}}var nt=B.subarray(0,I),tt=B.subarray(I);_=Ou(nt),A=Ou(tt),a=gi(nt,_,1),m=gi(tt,A,1)}else Qr(1);else{var y=Nc(h)+4,b=n[y-4]|n[y-3]<<8,x=y+b;if(x>i){u&&Qr(0);break}l&&d(f+b),e.set(n.subarray(y,x),f),t.b=f+=b,t.p=h=x*8,t.f=p;continue}if(h>v){u&&Qr(0);break}}l&&d(f+131072);for(var K=(1<<_)-1,z=(1<<A)-1,O=h;;O=h){var G=a[Eu(n,h)&K],R=G>>4;if(h+=G&15,h>v){u&&Qr(0);break}if(G||Qr(2),R<256)e[f++]=R;else if(R==256){O=h,a=null;break}else{var V=R-254;if(R>264){var N=R-257,M=zl[N];V=Xr(n,h,(1<<M)-1)+Mh[N],h+=M}var T=m[Eu(n,h)&z],F=T>>4;T||Qr(3),h+=T&15;var tt=i0[F];if(F>3){var M=Hl[F];tt+=Eu(n,h)&(1<<M)-1,h+=M}if(h>v){u&&Qr(0);break}l&&d(f+131072);var H=f+V;if(f<tt){var X=o-tt,st=Math.min(tt,H);for(X+f<0&&Qr(3);f<st;++f)e[f]=r[X+f]}for(;f<H;++f)e[f]=e[f-tt]}}t.l=a,t.p=O,t.b=f,t.f=p,a&&(p=1,t.m=_,t.d=m,t.n=A)}while(!p);return f!=e.length&&s?Rh(e,0,f):e.subarray(0,f)},Pi=function(n,t,e){e<<=t&7;var r=t/8|0;n[r]|=e,n[r+1]|=e>>8},sa=function(n,t,e){e<<=t&7;var r=t/8|0;n[r]|=e,n[r+1]|=e>>8,n[r+2]|=e>>16},Pu=function(n,t){for(var e=[],r=0;r<n.length;++r)n[r]&&e.push({s:r,f:n[r]});var i=e.length,o=e.slice();if(!i)return{t:Fh,l:0};if(i==1){var s=new er(e[0].s+1);return s[e[0].s]=1,{t:s,l:1}}e.sort(function(x,I){return x.f-I.f}),e.push({s:-1,f:25001});var l=e[0],u=e[1],d=0,p=1,h=2;for(e[0]={s:-1,f:l.f+u.f,l,r:u};p!=i-1;)l=e[e[d].f<e[h].f?d++:h++],u=e[d!=p&&e[d].f<e[h].f?d++:h++],e[p++]={s:-1,f:l.f+u.f,l,r:u};for(var f=o[0].s,r=1;r<i;++r)o[r].s>f&&(f=o[r].s);var a=new Pr(f+1),m=tc(e[p-1],a,0);if(m>t){var r=0,_=0,A=m-t,v=1<<A;for(o.sort(function(I,P){return a[P.s]-a[I.s]||I.f-P.f});r<i;++r){var g=o[r].s;if(a[g]>t)_+=v-(1<<m-a[g]),a[g]=t;else break}for(_>>=A;_>0;){var y=o[r].s;a[y]<t?_-=1<<t-a[y]++-1:++r}for(;r>=0&&_;--r){var b=o[r].s;a[b]==t&&(--a[b],++_)}m=t}return{t:new er(a),l:m}},tc=function(n,t,e){return n.s==-1?Math.max(tc(n.l,t,e+1),tc(n.r,t,e+1)):t[n.s]=e},kf=function(n){for(var t=n.length;t&&!n[--t];);for(var e=new Pr(++t),r=0,i=n[0],o=1,s=function(u){e[r++]=u},l=1;l<=t;++l)if(n[l]==i&&l!=t)++o;else{if(!i&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(i),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(i);o=1,i=n[l]}return{c:e.subarray(0,r),n:t}},aa=function(n,t){for(var e=0,r=0;r<t.length;++r)e+=n[r]*t[r];return e},qh=function(n,t,e){var r=e.length,i=Nc(t+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var o=0;o<r;++o)n[i+o+4]=e[o];return(i+4+r)*8},Of=function(n,t,e,r,i,o,s,l,u,d,p){Pi(t,p++,e),++i[256];for(var h=Pu(i,15),f=h.t,a=h.l,m=Pu(o,15),_=m.t,A=m.l,v=kf(f),g=v.c,y=v.n,b=kf(_),x=b.c,I=b.n,P=new Pr(19),E=0;E<g.length;++E)++P[g[E]&31];for(var E=0;E<x.length;++E)++P[x[E]&31];for(var B=Pu(P,7),D=B.t,N=B.l,L=19;L>4&&!D[Xu[L-1]];--L);var C=d+5<<3,j=aa(i,so)+aa(o,pa)+s,U=aa(i,f)+aa(o,_)+s+14+3*L+aa(P,D)+2*P[16]+3*P[17]+7*P[18];if(u>=0&&C<=j&&C<=U)return qh(t,p,n.subarray(u,u+d));var G,Z,nt,tt;if(Pi(t,p,1+(U<j)),p+=2,U<j){G=gi(f,a,0),Z=f,nt=gi(_,A,0),tt=_;var K=gi(D,N,0);Pi(t,p,y-257),Pi(t,p+5,I-1),Pi(t,p+10,L-4),p+=14;for(var E=0;E<L;++E)Pi(t,p+3*E,D[Xu[E]]);p+=3*L;for(var z=[g,x],O=0;O<2;++O)for(var R=z[O],E=0;E<R.length;++E){var V=R[E]&31;Pi(t,p,K[V]),p+=D[V],V>15&&(Pi(t,p,R[E]>>5&127),p+=R[E]>>12)}}else G=o0,Z=so,nt=a0,tt=pa;for(var E=0;E<l;++E){var M=r[E];if(M>255){var V=M>>18&31;sa(t,p,G[V+257]),p+=Z[V+257],V>7&&(Pi(t,p,M>>23&31),p+=zl[V]);var T=M&31;sa(t,p,nt[T]),p+=tt[T],T>3&&(sa(t,p,M>>5&8191),p+=Hl[T])}else sa(t,p,G[M]),p+=Z[M]}return sa(t,p,G[256]),p+Z[256]},f0=new xc([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Fh=new er(0),h0=function(n,t,e,r,i,o){var s=o.z||n.length,l=new er(r+s+5*(1+Math.ceil(s/7e3))+i),u=l.subarray(r,l.length-i),d=o.l,p=(o.r||0)&7;if(t){p&&(u[0]=o.r>>3);for(var h=f0[t-1],f=h>>13,a=h&8191,m=(1<<e)-1,_=o.p||new Pr(32768),A=o.h||new Pr(m+1),v=Math.ceil(e/3),g=2*v,y=function(Pt){return(n[Pt]^n[Pt+1]<<v^n[Pt+2]<<g)&m},b=new xc(25e3),x=new Pr(288),I=new Pr(32),P=0,E=0,B=o.i||0,D=0,N=o.w||0,L=0;B+2<s;++B){var C=y(B),j=B&32767,U=A[C];if(_[j]=U,A[C]=j,N<=B){var G=s-B;if((P>7e3||D>24576)&&(G>423||!d)){p=Of(n,u,0,b,x,I,E,D,L,B-L,p),D=P=E=0,L=B;for(var Z=0;Z<286;++Z)x[Z]=0;for(var Z=0;Z<30;++Z)I[Z]=0}var nt=2,tt=0,K=a,z=j-U&32767;if(G>2&&C==y(B-z))for(var O=Math.min(f,G)-1,R=Math.min(32767,B),V=Math.min(258,G);z<=R&&--K&&j!=U;){if(n[B+nt]==n[B+nt-z]){for(var M=0;M<V&&n[B+M]==n[B+M-z];++M);if(M>nt){if(nt=M,tt=z,M>O)break;for(var T=Math.min(z,M-2),F=0,Z=0;Z<T;++Z){var H=B-z+Z&32767,X=_[H],st=H-X&32767;st>F&&(F=st,U=H)}}}j=U,U=_[j],z+=j-U&32767}if(tt){b[D++]=268435456|Zu[nt]<<18|Lf[tt];var ut=Zu[nt]&31,Nt=Lf[tt]&31;E+=zl[ut]+Hl[Nt],++x[257+ut],++I[Nt],N=B+nt,++P}else b[D++]=n[B],++x[n[B]]}}for(B=Math.max(B,N);B<s;++B)b[D++]=n[B],++x[n[B]];p=Of(n,u,d,b,x,I,E,D,L,B-L,p),d||(o.r=p&7|u[p/8|0]<<3,p-=7,o.h=A,o.p=_,o.i=B,o.w=N)}else{for(var B=o.w||0;B<s+d;B+=65535){var At=B+65535;At>=s&&(u[p/8|0]=d,At=s),p=qh(u,p+1,n.subarray(B,At))}o.i=s}return Rh(l,0,r+Nc(p)+i)},Bh=function(){var n=1,t=0;return{p:function(e){for(var r=n,i=t,o=e.length|0,s=0;s!=o;){for(var l=Math.min(s+2655,o);s<l;++s)i+=r+=e[s];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,t=i},d:function(){return n%=65521,t%=65521,(n&255)<<24|(n&65280)<<8|(t&255)<<8|t>>8}}},d0=function(n,t,e,r,i){if(!i&&(i={l:1},t.dictionary)){var o=t.dictionary.subarray(-32768),s=new er(o.length+n.length);s.set(o),s.set(n,o.length),n=s,i.w=o.length}return h0(n,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+t.mem,e,r,i)},Uh=function(n,t,e){for(;e;++t)n[t]=e,e>>>=8},p0=function(n,t){var e=t.level,r=e==0?0:e<6?1:e==9?3:2;if(n[0]=120,n[1]=r<<6|(t.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,t.dictionary){var i=Bh();i.p(t.dictionary),Uh(n,2,i.d())}},g0=function(n,t){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&Qr(6,"invalid zlib data"),(n[1]>>5&1)==+!t&&Qr(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function ec(n,t){t||(t={});var e=Bh();e.p(n);var r=d0(n,t,t.dictionary?6:2,4);return p0(r,t),Uh(r,r.length-4,e.d()),r}function v0(n,t){return c0(n.subarray(g0(n,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}var m0=typeof TextDecoder<"u"&&new TextDecoder,y0=0;try{m0.decode(Fh,{stream:!0}),y0=1}catch{}var le=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Cu(){le.console&&typeof le.console.log=="function"&&le.console.log.apply(le.console,arguments)}var Ye={log:Cu,warn:function(n){le.console&&(typeof le.console.warn=="function"?le.console.warn.apply(le.console,arguments):Cu.call(null,arguments))},error:function(n){le.console&&(typeof le.console.error=="function"?le.console.error.apply(le.console,arguments):Cu(n))}};function Tu(n,t,e){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){No(r.response,t,e)},r.onerror=function(){Ye.error("could not download file")},r.send()}function Ef(n){var t=new XMLHttpRequest;t.open("HEAD",n,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function hl(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(t)}}var la,nc,No=le.saveAs||((typeof window>"u"?"undefined":He(window))!=="object"||window!==le?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,t,e){var r=le.URL||le.webkitURL,i=document.createElement("a");t=t||n.name||"download",i.download=t,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?Ef(i.href)?Tu(n,t,e):hl(i,i.target="_blank"):hl(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){hl(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,t,e){if(t=t||n.name||"download",typeof n=="string")if(Ef(n))Tu(n,t,e);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){hl(r)})}else navigator.msSaveOrOpenBlob(function(i,o){return o===void 0?o={autoBom:!1}:He(o)!=="object"&&(Ye.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob([String.fromCharCode(65279),i],{type:i.type}):i}(n,e),t)}:function(n,t,e,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return Tu(n,t,e);var i=n.type==="application/octet-stream",o=/constructor/i.test(le.HTMLElement)||le.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&o)&&(typeof FileReader>"u"?"undefined":He(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var p=l.result;p=s?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=p:location=p,r=null},l.readAsDataURL(n)}else{var u=le.URL||le.webkitURL,d=u.createObjectURL(n);r?r.location=d:location.href=d,r=null,setTimeout(function(){u.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function zh(n){var t;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],r=0;r<e.length;r++){var i=e[r].re,o=e[r].process,s=i.exec(n);s&&(t=o(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),u=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),d.length==1&&(d="0"+d),"#"+l+u+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Iu(n,t){var e=n[0],r=n[1],i=n[2],o=n[3];e=Xn(e,r,i,o,t[0],7,-680876936),o=Xn(o,e,r,i,t[1],12,-389564586),i=Xn(i,o,e,r,t[2],17,606105819),r=Xn(r,i,o,e,t[3],22,-1044525330),e=Xn(e,r,i,o,t[4],7,-176418897),o=Xn(o,e,r,i,t[5],12,1200080426),i=Xn(i,o,e,r,t[6],17,-1473231341),r=Xn(r,i,o,e,t[7],22,-45705983),e=Xn(e,r,i,o,t[8],7,1770035416),o=Xn(o,e,r,i,t[9],12,-1958414417),i=Xn(i,o,e,r,t[10],17,-42063),r=Xn(r,i,o,e,t[11],22,-1990404162),e=Xn(e,r,i,o,t[12],7,1804603682),o=Xn(o,e,r,i,t[13],12,-40341101),i=Xn(i,o,e,r,t[14],17,-1502002290),e=Zn(e,r=Xn(r,i,o,e,t[15],22,1236535329),i,o,t[1],5,-165796510),o=Zn(o,e,r,i,t[6],9,-1069501632),i=Zn(i,o,e,r,t[11],14,643717713),r=Zn(r,i,o,e,t[0],20,-373897302),e=Zn(e,r,i,o,t[5],5,-701558691),o=Zn(o,e,r,i,t[10],9,38016083),i=Zn(i,o,e,r,t[15],14,-660478335),r=Zn(r,i,o,e,t[4],20,-405537848),e=Zn(e,r,i,o,t[9],5,568446438),o=Zn(o,e,r,i,t[14],9,-1019803690),i=Zn(i,o,e,r,t[3],14,-187363961),r=Zn(r,i,o,e,t[8],20,1163531501),e=Zn(e,r,i,o,t[13],5,-1444681467),o=Zn(o,e,r,i,t[2],9,-51403784),i=Zn(i,o,e,r,t[7],14,1735328473),e=Qn(e,r=Zn(r,i,o,e,t[12],20,-1926607734),i,o,t[5],4,-378558),o=Qn(o,e,r,i,t[8],11,-2022574463),i=Qn(i,o,e,r,t[11],16,1839030562),r=Qn(r,i,o,e,t[14],23,-35309556),e=Qn(e,r,i,o,t[1],4,-1530992060),o=Qn(o,e,r,i,t[4],11,1272893353),i=Qn(i,o,e,r,t[7],16,-155497632),r=Qn(r,i,o,e,t[10],23,-1094730640),e=Qn(e,r,i,o,t[13],4,681279174),o=Qn(o,e,r,i,t[0],11,-358537222),i=Qn(i,o,e,r,t[3],16,-722521979),r=Qn(r,i,o,e,t[6],23,76029189),e=Qn(e,r,i,o,t[9],4,-640364487),o=Qn(o,e,r,i,t[12],11,-421815835),i=Qn(i,o,e,r,t[15],16,530742520),e=tr(e,r=Qn(r,i,o,e,t[2],23,-995338651),i,o,t[0],6,-198630844),o=tr(o,e,r,i,t[7],10,1126891415),i=tr(i,o,e,r,t[14],15,-1416354905),r=tr(r,i,o,e,t[5],21,-57434055),e=tr(e,r,i,o,t[12],6,1700485571),o=tr(o,e,r,i,t[3],10,-1894986606),i=tr(i,o,e,r,t[10],15,-1051523),r=tr(r,i,o,e,t[1],21,-2054922799),e=tr(e,r,i,o,t[8],6,1873313359),o=tr(o,e,r,i,t[15],10,-30611744),i=tr(i,o,e,r,t[6],15,-1560198380),r=tr(r,i,o,e,t[13],21,1309151649),e=tr(e,r,i,o,t[4],6,-145523070),o=tr(o,e,r,i,t[11],10,-1120210379),i=tr(i,o,e,r,t[2],15,718787259),r=tr(r,i,o,e,t[9],21,-343485551),n[0]=ro(e,n[0]),n[1]=ro(r,n[1]),n[2]=ro(i,n[2]),n[3]=ro(o,n[3])}function Vl(n,t,e,r,i,o){return t=ro(ro(t,n),ro(r,o)),ro(t<<i|t>>>32-i,e)}function Xn(n,t,e,r,i,o,s){return Vl(t&e|~t&r,n,t,i,o,s)}function Zn(n,t,e,r,i,o,s){return Vl(t&r|e&~r,n,t,i,o,s)}function Qn(n,t,e,r,i,o,s){return Vl(t^e^r,n,t,i,o,s)}function tr(n,t,e,r,i,o,s){return Vl(e^(t|~r),n,t,i,o,s)}function Hh(n){var t,e=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=n.length;t+=64)Iu(r,b0(n.substring(t-64,t)));n=n.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<n.length;t++)i[t>>2]|=n.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(Iu(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*e,Iu(r,i),r}function b0(n){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=n.charCodeAt(t)+(n.charCodeAt(t+1)<<8)+(n.charCodeAt(t+2)<<16)+(n.charCodeAt(t+3)<<24);return e}la=le.atob.bind(le),nc=le.btoa.bind(le);var Pf="0123456789abcdef".split("");function w0(n){for(var t="",e=0;e<4;e++)t+=Pf[n>>8*e+4&15]+Pf[n>>8*e&15];return t}function _0(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function rc(n){return Hh(n).map(_0).join("")}var A0=function(n){for(var t=0;t<n.length;t++)n[t]=w0(n[t]);return n.join("")}(Hh("hello"))!="5d41402abc4b2a76b9719d911017c592";function ro(n,t){if(A0){var e=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(e>>16)<<16|65535&e}return n+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function ic(n,t){var e,r,i,o;if(n!==e){for(var s=(i=n,o=1+(256/n.length>>0),new Array(o+1).join(i)),l=[],u=0;u<256;u++)l[u]=u;var d=0;for(u=0;u<256;u++){var p=l[u];d=(d+p+s.charCodeAt(u))%256,l[u]=l[d],l[d]=p}e=n,r=l}else l=r;var h=t.length,f=0,a=0,m="";for(u=0;u<h;u++)a=(a+(p=l[f=(f+1)%256]))%256,l[f]=l[a],l[a]=p,s=l[(l[f]+l[a])%256],m+=String.fromCharCode(t.charCodeAt(u)^s);return m}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Cf={print:4,modify:8,copy:16,"annot-forms":32};function as(n,t,e,r){this.v=1,this.r=2;var i=192;n.forEach(function(l){if(Cf.perm!==void 0)throw new Error("Invalid permission: "+l);i+=Cf[l]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var o=(t+this.padding).substr(0,32),s=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,s),this.P=-(1+(255^i)),this.encryptionKey=rc(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=ic(this.encryptionKey,this.padding)}function ls(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var t="",e=n.length,r=0;r<e;r++){var i=n.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?t+="#"+("0"+i.toString(16)).slice(-2):t+=n[r]}return t}function Tf(n){if(He(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,r,i){if(i=i||!1,typeof e!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var o=Math.random().toString(35);return t[e][o]=[r,!!i],o},this.unsubscribe=function(e){for(var r in t)if(t[r][e])return delete t[r][e],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var o in t[e]){var s=t[e][o];try{s[0].apply(n,r)}catch(l){le.console&&Ye.error("jsPDF PubSub Error",l.message,l)}s[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Cl(n){if(!(this instanceof Cl))return new Cl(n);var t="opacity,stroke-opacity".split(",");for(var e in n)n.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=n[e]);this.id="",this.objectNumber=-1}function Vh(n,t){this.gState=n,this.matrix=t,this.id="",this.objectNumber=-1}function Lo(n,t,e,r,i){if(!(this instanceof Lo))return new Lo(n,t,e,r,i);this.type=n==="axial"?2:3,this.coords=t,this.colors=e,Vh.call(this,r,i)}function fs(n,t,e,r,i){if(!(this instanceof fs))return new fs(n,t,e,r,i);this.boundingBox=n,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,Vh.call(this,r,i)}function ae(n){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],o=arguments[3],s=[],l=1,u=16,d="S",p=null;He(n=n||{})==="object"&&(e=n.orientation,r=n.unit||r,i=n.format||i,o=n.compress||n.compressPdf||o,(p=n.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),l=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(t=n.precision),n.floatPrecision!==void 0&&(u=n.floatPrecision),d=n.defaultPathOperation||"S"),s=n.filters||(o===!0?["FlateEncode"]:s),r=r||"mm",e=(""+(e||"P")).toLowerCase();var h=n.putOnlyUsedFonts||!1,f={},a={internal:{},__private__:{}};a.__private__.PubSub=Tf;var m="1.3",_=a.__private__.getPdfVersion=function(){return m};a.__private__.setPdfVersion=function(S){m=S};var A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};a.__private__.getPageFormats=function(){return A};var v=a.__private__.getPageFormat=function(S){return A[S]};i=i||"a4";var g={COMPAT:"compat",ADVANCED:"advanced"},y=g.COMPAT;function b(){this.saveGraphicsState(),it(new ee(Ut,0,0,-Ut,0,Bi()*Ut).toString()+" cm"),this.setFontSize(this.getFontSize()/Ut),d="n",y=g.ADVANCED}function x(){this.restoreGraphicsState(),d="S",y=g.COMPAT}var I=a.__private__.combineFontStyleAndFontWeight=function(S,$){if(S=="bold"&&$=="normal"||S=="bold"&&$==400||S=="normal"&&$=="italic"||S=="bold"&&$=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return $&&(S=$==400||$==="normal"?S==="italic"?"italic":"normal":$!=700&&$!=="bold"||S!=="normal"?($==700?"bold":$)+""+S:"bold"),S};a.advancedAPI=function(S){var $=y===g.COMPAT;return $&&b.call(this),typeof S!="function"||(S(this),$&&x.call(this)),this},a.compatAPI=function(S){var $=y===g.ADVANCED;return $&&x.call(this),typeof S!="function"||(S(this),$&&b.call(this)),this},a.isAdvancedAPI=function(){return y===g.ADVANCED};var P,E=function(S){if(y!==g.ADVANCED)throw new Error(S+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},B=a.roundToPrecision=a.__private__.roundToPrecision=function(S,$){var ot=t||$;if(isNaN(S)||isNaN(ot))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return S.toFixed(ot).replace(/0+$/,"")};P=a.hpf=a.__private__.hpf=typeof u=="number"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return B(S,u)}:u==="smart"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return B(S,S>-1&&S<1?16:5)}:function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return B(S,16)};var D=a.f2=a.__private__.f2=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f2");return B(S,2)},N=a.__private__.f3=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f3");return B(S,3)},L=a.scale=a.__private__.scale=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.scale");return y===g.COMPAT?S*Ut:y===g.ADVANCED?S:void 0},C=function(S){return y===g.COMPAT?Bi()-S:y===g.ADVANCED?S:void 0},j=function(S){return L(C(S))};a.__private__.setPrecision=a.setPrecision=function(S){typeof parseInt(S,10)=="number"&&(t=parseInt(S,10))};var U,G="00000000000000000000000000000000",Z=a.__private__.getFileId=function(){return G},nt=a.__private__.setFileId=function(S){return G=S!==void 0&&/^[a-fA-F0-9]{32}$/.test(S)?S.toUpperCase():G.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(wn=new as(p.userPermissions,p.userPassword,p.ownerPassword,G)),G};a.setFileId=function(S){return nt(S),this},a.getFileId=function(){return Z()};var tt=a.__private__.convertDateToPDFDate=function(S){var $=S.getTimezoneOffset(),ot=$<0?"+":"-",ct=Math.floor(Math.abs($/60)),_t=Math.abs($%60),Et=[ot,V(ct),"'",V(_t),"'"].join("");return["D:",S.getFullYear(),V(S.getMonth()+1),V(S.getDate()),V(S.getHours()),V(S.getMinutes()),V(S.getSeconds()),Et].join("")},K=a.__private__.convertPDFDateToDate=function(S){var $=parseInt(S.substr(2,4),10),ot=parseInt(S.substr(6,2),10)-1,ct=parseInt(S.substr(8,2),10),_t=parseInt(S.substr(10,2),10),Et=parseInt(S.substr(12,2),10),qt=parseInt(S.substr(14,2),10);return new Date($,ot,ct,_t,Et,qt,0)},z=a.__private__.setCreationDate=function(S){var $;if(S===void 0&&(S=new Date),S instanceof Date)$=tt(S);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(S))throw new Error("Invalid argument passed to jsPDF.setCreationDate");$=S}return U=$},O=a.__private__.getCreationDate=function(S){var $=U;return S==="jsDate"&&($=K(U)),$};a.setCreationDate=function(S){return z(S),this},a.getCreationDate=function(S){return O(S)};var R,V=a.__private__.padd2=function(S){return("0"+parseInt(S)).slice(-2)},M=a.__private__.padd2Hex=function(S){return("00"+(S=S.toString())).substr(S.length)},T=0,F=[],H=[],X=0,st=[],ut=[],Nt=!1,At=H,Pt=function(){T=0,X=0,H=[],F=[],st=[],cr=$e(),yn=$e()};a.__private__.setCustomOutputDestination=function(S){Nt=!0,At=S};var bt=function(S){Nt||(At=S)};a.__private__.resetCustomOutputDestination=function(){Nt=!1,At=H};var it=a.__private__.out=function(S){return S=S.toString(),X+=S.length+1,At.push(S),At},Wt=a.__private__.write=function(S){return it(arguments.length===1?S.toString():Array.prototype.join.call(arguments," "))},dt=a.__private__.getArrayBuffer=function(S){for(var $=S.length,ot=new ArrayBuffer($),ct=new Uint8Array(ot);$--;)ct[$]=S.charCodeAt($);return ot},at=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];a.__private__.getStandardFonts=function(){return at};var lt=n.fontSize||16;a.__private__.setFontSize=a.setFontSize=function(S){return lt=y===g.ADVANCED?S/Ut:S,this};var yt,pt=a.__private__.getFontSize=a.getFontSize=function(){return y===g.COMPAT?lt:lt*Ut},Ct=n.R2L||!1;a.__private__.setR2L=a.setR2L=function(S){return Ct=S,this},a.__private__.getR2L=a.getR2L=function(){return Ct};var Tt,Rt=a.__private__.setZoomMode=function(S){var $=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(S))yt=S;else if(isNaN(S)){if($.indexOf(S)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+S+'" is not recognized.');yt=S}else yt=parseInt(S,10)};a.__private__.getZoomMode=function(){return yt};var Ht,Yt=a.__private__.setPageMode=function(S){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(S)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+S+'" is not recognized.');Tt=S};a.__private__.getPageMode=function(){return Tt};var Vt=a.__private__.setLayoutMode=function(S){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(S)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+S+'" is not recognized.');Ht=S};a.__private__.getLayoutMode=function(){return Ht},a.__private__.setDisplayMode=a.setDisplayMode=function(S,$,ot){return Rt(S),Vt($),Yt(ot),this};var Xt={title:"",subject:"",author:"",keywords:"",creator:""};a.__private__.getDocumentProperty=function(S){if(Object.keys(Xt).indexOf(S)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Xt[S]},a.__private__.getDocumentProperties=function(){return Xt},a.__private__.setDocumentProperties=a.setProperties=a.setDocumentProperties=function(S){for(var $ in Xt)Xt.hasOwnProperty($)&&S[$]&&(Xt[$]=S[$]);return this},a.__private__.setDocumentProperty=function(S,$){if(Object.keys(Xt).indexOf(S)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Xt[S]=$};var zt,Ut,on,Le,$n,Me={},Ve={},Gn=[],Ae={},nr={},Ce={},tn={},an=null,Fe=0,ne=[],Ne=new Tf(a),rr=n.hotfixes||[],fn={},Kn={},Yn=[],ee=function S($,ot,ct,_t,Et,qt){if(!(this instanceof S))return new S($,ot,ct,_t,Et,qt);isNaN($)&&($=1),isNaN(ot)&&(ot=0),isNaN(ct)&&(ct=0),isNaN(_t)&&(_t=1),isNaN(Et)&&(Et=0),isNaN(qt)&&(qt=0),this._matrix=[$,ot,ct,_t,Et,qt]};Object.defineProperty(ee.prototype,"sx",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(ee.prototype,"shy",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(ee.prototype,"shx",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(ee.prototype,"sy",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(ee.prototype,"tx",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(ee.prototype,"ty",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(ee.prototype,"a",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(ee.prototype,"b",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(ee.prototype,"c",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(ee.prototype,"d",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(ee.prototype,"e",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(ee.prototype,"f",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(ee.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ee.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ee.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ee.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ee.prototype.join=function(S){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(P).join(S)},ee.prototype.multiply=function(S){var $=S.sx*this.sx+S.shy*this.shx,ot=S.sx*this.shy+S.shy*this.sy,ct=S.shx*this.sx+S.sy*this.shx,_t=S.shx*this.shy+S.sy*this.sy,Et=S.tx*this.sx+S.ty*this.shx+this.tx,qt=S.tx*this.shy+S.ty*this.sy+this.ty;return new ee($,ot,ct,_t,Et,qt)},ee.prototype.decompose=function(){var S=this.sx,$=this.shy,ot=this.shx,ct=this.sy,_t=this.tx,Et=this.ty,qt=Math.sqrt(S*S+$*$),Jt=(S/=qt)*ot+($/=qt)*ct;ot-=S*Jt,ct-=$*Jt;var re=Math.sqrt(ot*ot+ct*ct);return Jt/=re,S*(ct/=re)<$*(ot/=re)&&(S=-S,$=-$,Jt=-Jt,qt=-qt),{scale:new ee(qt,0,0,re,0,0),translate:new ee(1,0,0,1,_t,Et),rotate:new ee(S,$,-$,S,0,0),skew:new ee(1,0,Jt,1,0,0)}},ee.prototype.toString=function(S){return this.join(" ")},ee.prototype.inversed=function(){var S=this.sx,$=this.shy,ot=this.shx,ct=this.sy,_t=this.tx,Et=this.ty,qt=1/(S*ct-$*ot),Jt=ct*qt,re=-$*qt,ye=-ot*qt,ve=S*qt;return new ee(Jt,re,ye,ve,-Jt*_t-ye*Et,-re*_t-ve*Et)},ee.prototype.applyToPoint=function(S){var $=S.x*this.sx+S.y*this.shx+this.tx,ot=S.x*this.shy+S.y*this.sy+this.ty;return new Ho($,ot)},ee.prototype.applyToRectangle=function(S){var $=this.applyToPoint(S),ot=this.applyToPoint(new Ho(S.x+S.w,S.y+S.h));return new Bs($.x,$.y,ot.x-$.x,ot.y-$.y)},ee.prototype.clone=function(){var S=this.sx,$=this.shy,ot=this.shx,ct=this.sy,_t=this.tx,Et=this.ty;return new ee(S,$,ot,ct,_t,Et)},a.Matrix=ee;var Je=a.matrixMult=function(S,$){return $.multiply(S)},sn=new ee(1,0,0,1,0,0);a.unitMatrix=a.identityMatrix=sn;var ln=function(S,$){if(!nr[S]){var ot=($ instanceof Lo?"Sh":"P")+(Object.keys(Ae).length+1).toString(10);$.id=ot,nr[S]=ot,Ae[ot]=$,Ne.publish("addPattern",$)}};a.ShadingPattern=Lo,a.TilingPattern=fs,a.addShadingPattern=function(S,$){return E("addShadingPattern()"),ln(S,$),this},a.beginTilingPattern=function(S){E("beginTilingPattern()"),Ba(S.boundingBox[0],S.boundingBox[1],S.boundingBox[2]-S.boundingBox[0],S.boundingBox[3]-S.boundingBox[1],S.matrix)},a.endTilingPattern=function(S,$){E("endTilingPattern()"),$.stream=ut[R].join(`
`),ln(S,$),Ne.publish("endTilingPattern",$),Yn.pop().restore()};var De=a.__private__.newObject=function(){var S=$e();return en(S,!0),S},$e=a.__private__.newObjectDeferred=function(){return T++,F[T]=function(){return X},T},en=function(S,$){return $=typeof $=="boolean"&&$,F[S]=X,$&&it(S+" 0 obj"),S},mr=a.__private__.newAdditionalObject=function(){var S={objId:$e(),content:""};return st.push(S),S},cr=$e(),yn=$e(),hn=a.__private__.decodeColorString=function(S){var $=S.split(" ");if($.length!==2||$[1]!=="g"&&$[1]!=="G")$.length===5&&($[4]==="k"||$[4]==="K")&&($=[(1-$[0])*(1-$[3]),(1-$[1])*(1-$[3]),(1-$[2])*(1-$[3]),"r"]);else{var ot=parseFloat($[0]);$=[ot,ot,ot,"r"]}for(var ct="#",_t=0;_t<3;_t++)ct+=("0"+Math.floor(255*parseFloat($[_t])).toString(16)).slice(-2);return ct},Bn=a.__private__.encodeColorString=function(S){var $;typeof S=="string"&&(S={ch1:S});var ot=S.ch1,ct=S.ch2,_t=S.ch3,Et=S.ch4,qt=S.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ot=="string"&&ot.charAt(0)!=="#"){var Jt=new zh(ot);if(Jt.ok)ot=Jt.toHex();else if(!/^\d*\.?\d*$/.test(ot))throw new Error('Invalid color "'+ot+'" passed to jsPDF.encodeColorString.')}if(typeof ot=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ot)&&(ot="#"+ot[1]+ot[1]+ot[2]+ot[2]+ot[3]+ot[3]),typeof ot=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ot)){var re=parseInt(ot.substr(1),16);ot=re>>16&255,ct=re>>8&255,_t=255&re}if(ct===void 0||Et===void 0&&ot===ct&&ct===_t)if(typeof ot=="string")$=ot+" "+qt[0];else switch(S.precision){case 2:$=D(ot/255)+" "+qt[0];break;case 3:default:$=N(ot/255)+" "+qt[0]}else if(Et===void 0||He(Et)==="object"){if(Et&&!isNaN(Et.a)&&Et.a===0)return $=["1.","1.","1.",qt[1]].join(" ");if(typeof ot=="string")$=[ot,ct,_t,qt[1]].join(" ");else switch(S.precision){case 2:$=[D(ot/255),D(ct/255),D(_t/255),qt[1]].join(" ");break;default:case 3:$=[N(ot/255),N(ct/255),N(_t/255),qt[1]].join(" ")}}else if(typeof ot=="string")$=[ot,ct,_t,Et,qt[2]].join(" ");else switch(S.precision){case 2:$=[D(ot),D(ct),D(_t),D(Et),qt[2]].join(" ");break;case 3:default:$=[N(ot),N(ct),N(_t),N(Et),qt[2]].join(" ")}return $},bn=a.__private__.getFilters=function(){return s},Un=a.__private__.putStream=function(S){var $=(S=S||{}).data||"",ot=S.filters||bn(),ct=S.alreadyAppliedFilters||[],_t=S.addLength1||!1,Et=$.length,qt=S.objectId,Jt=function(Jn){return Jn};if(p!==null&&qt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(Jt=wn.encryptor(qt,0));var re={};ot===!0&&(ot=["FlateEncode"]);var ye=S.additionalKeyValues||[],ve=(re=ae.API.processDataByFilters!==void 0?ae.API.processDataByFilters($,ot):{data:$,reverseChain:[]}).reverseChain+(Array.isArray(ct)?ct.join(" "):ct.toString());if(re.data.length!==0&&(ye.push({key:"Length",value:re.data.length}),_t===!0&&ye.push({key:"Length1",value:Et})),ve.length!=0)if(ve.split("/").length-1==1)ye.push({key:"Filter",value:ve});else{ye.push({key:"Filter",value:"["+ve+"]"});for(var Te=0;Te<ye.length;Te+=1)if(ye[Te].key==="DecodeParms"){for(var un=[],pn=0;pn<re.reverseChain.split("/").length-1;pn+=1)un.push("null");un.push(ye[Te].value),ye[Te].value="["+un.join(" ")+"]"}}it("<<");for(var kn=0;kn<ye.length;kn++)it("/"+ye[kn].key+" "+ye[kn].value);it(">>"),re.data.length!==0&&(it("stream"),it(Jt(re.data)),it("endstream"))},Cn=a.__private__.putPage=function(S){var $=S.number,ot=S.data,ct=S.objId,_t=S.contentsObjId;en(ct,!0),it("<</Type /Page"),it("/Parent "+S.rootDictionaryObjId+" 0 R"),it("/Resources "+S.resourceDictionaryObjId+" 0 R"),it("/MediaBox ["+parseFloat(P(S.mediaBox.bottomLeftX))+" "+parseFloat(P(S.mediaBox.bottomLeftY))+" "+P(S.mediaBox.topRightX)+" "+P(S.mediaBox.topRightY)+"]"),S.cropBox!==null&&it("/CropBox ["+P(S.cropBox.bottomLeftX)+" "+P(S.cropBox.bottomLeftY)+" "+P(S.cropBox.topRightX)+" "+P(S.cropBox.topRightY)+"]"),S.bleedBox!==null&&it("/BleedBox ["+P(S.bleedBox.bottomLeftX)+" "+P(S.bleedBox.bottomLeftY)+" "+P(S.bleedBox.topRightX)+" "+P(S.bleedBox.topRightY)+"]"),S.trimBox!==null&&it("/TrimBox ["+P(S.trimBox.bottomLeftX)+" "+P(S.trimBox.bottomLeftY)+" "+P(S.trimBox.topRightX)+" "+P(S.trimBox.topRightY)+"]"),S.artBox!==null&&it("/ArtBox ["+P(S.artBox.bottomLeftX)+" "+P(S.artBox.bottomLeftY)+" "+P(S.artBox.topRightX)+" "+P(S.artBox.topRightY)+"]"),typeof S.userUnit=="number"&&S.userUnit!==1&&it("/UserUnit "+S.userUnit),Ne.publish("putPage",{objId:ct,pageContext:ne[$],pageNumber:$,page:ot}),it("/Contents "+_t+" 0 R"),it(">>"),it("endobj");var Et=ot.join(`
`);return y===g.ADVANCED&&(Et+=`
Q`),en(_t,!0),Un({data:Et,filters:bn(),objectId:_t}),it("endobj"),ct},jn=a.__private__.putPages=function(){var S,$,ot=[];for(S=1;S<=Fe;S++)ne[S].objId=$e(),ne[S].contentsObjId=$e();for(S=1;S<=Fe;S++)ot.push(Cn({number:S,data:ut[S],objId:ne[S].objId,contentsObjId:ne[S].contentsObjId,mediaBox:ne[S].mediaBox,cropBox:ne[S].cropBox,bleedBox:ne[S].bleedBox,trimBox:ne[S].trimBox,artBox:ne[S].artBox,userUnit:ne[S].userUnit,rootDictionaryObjId:cr,resourceDictionaryObjId:yn}));en(cr,!0),it("<</Type /Pages");var ct="/Kids [";for($=0;$<Fe;$++)ct+=ot[$]+" 0 R ";it(ct+"]"),it("/Count "+Fe),it(">>"),it("endobj"),Ne.publish("postPutPages")},Vr=function(S){Ne.publish("putFont",{font:S,out:it,newObject:De,putStream:Un}),S.isAlreadyPutted!==!0&&(S.objectNumber=De(),it("<<"),it("/Type /Font"),it("/BaseFont /"+ls(S.postScriptName)),it("/Subtype /Type1"),typeof S.encoding=="string"&&it("/Encoding /"+S.encoding),it("/FirstChar 32"),it("/LastChar 255"),it(">>"),it("endobj"))},wt=function(){for(var S in Me)Me.hasOwnProperty(S)&&(h===!1||h===!0&&f.hasOwnProperty(S))&&Vr(Me[S])},kt=function(S){S.objectNumber=De();var $=[];$.push({key:"Type",value:"/XObject"}),$.push({key:"Subtype",value:"/Form"}),$.push({key:"BBox",value:"["+[P(S.x),P(S.y),P(S.x+S.width),P(S.y+S.height)].join(" ")+"]"}),$.push({key:"Matrix",value:"["+S.matrix.toString()+"]"});var ot=S.pages[1].join(`
`);Un({data:ot,additionalKeyValues:$,objectId:S.objectNumber}),it("endobj")},Ft=function(){for(var S in fn)fn.hasOwnProperty(S)&&kt(fn[S])},Qt=function(S,$){var ot,ct=[],_t=1/($-1);for(ot=0;ot<1;ot+=_t)ct.push(ot);if(ct.push(1),S[0].offset!=0){var Et={offset:0,color:S[0].color};S.unshift(Et)}if(S[S.length-1].offset!=1){var qt={offset:1,color:S[S.length-1].color};S.push(qt)}for(var Jt="",re=0,ye=0;ye<ct.length;ye++){for(ot=ct[ye];ot>S[re+1].offset;)re++;var ve=S[re].offset,Te=(ot-ve)/(S[re+1].offset-ve),un=S[re].color,pn=S[re+1].color;Jt+=M(Math.round((1-Te)*un[0]+Te*pn[0]).toString(16))+M(Math.round((1-Te)*un[1]+Te*pn[1]).toString(16))+M(Math.round((1-Te)*un[2]+Te*pn[2]).toString(16))}return Jt.trim()},Se=function(S,$){$||($=21);var ot=De(),ct=Qt(S.colors,$),_t=[];_t.push({key:"FunctionType",value:"0"}),_t.push({key:"Domain",value:"[0.0 1.0]"}),_t.push({key:"Size",value:"["+$+"]"}),_t.push({key:"BitsPerSample",value:"8"}),_t.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),_t.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Un({data:ct,additionalKeyValues:_t,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ot}),it("endobj"),S.objectNumber=De(),it("<< /ShadingType "+S.type),it("/ColorSpace /DeviceRGB");var Et="/Coords ["+P(parseFloat(S.coords[0]))+" "+P(parseFloat(S.coords[1]))+" ";S.type===2?Et+=P(parseFloat(S.coords[2]))+" "+P(parseFloat(S.coords[3])):Et+=P(parseFloat(S.coords[2]))+" "+P(parseFloat(S.coords[3]))+" "+P(parseFloat(S.coords[4]))+" "+P(parseFloat(S.coords[5])),it(Et+="]"),S.matrix&&it("/Matrix ["+S.matrix.toString()+"]"),it("/Function "+ot+" 0 R"),it("/Extend [true true]"),it(">>"),it("endobj")},pe=function(S,$){var ot=$e(),ct=De();$.push({resourcesOid:ot,objectOid:ct}),S.objectNumber=ct;var _t=[];_t.push({key:"Type",value:"/Pattern"}),_t.push({key:"PatternType",value:"1"}),_t.push({key:"PaintType",value:"1"}),_t.push({key:"TilingType",value:"1"}),_t.push({key:"BBox",value:"["+S.boundingBox.map(P).join(" ")+"]"}),_t.push({key:"XStep",value:P(S.xStep)}),_t.push({key:"YStep",value:P(S.yStep)}),_t.push({key:"Resources",value:ot+" 0 R"}),S.matrix&&_t.push({key:"Matrix",value:"["+S.matrix.toString()+"]"}),Un({data:S.stream,additionalKeyValues:_t,objectId:S.objectNumber}),it("endobj")},gt=function(S){var $;for($ in Ae)Ae.hasOwnProperty($)&&(Ae[$]instanceof Lo?Se(Ae[$]):Ae[$]instanceof fs&&pe(Ae[$],S))},Lt=function(S){for(var $ in S.objectNumber=De(),it("<<"),S)switch($){case"opacity":it("/ca "+D(S[$]));break;case"stroke-opacity":it("/CA "+D(S[$]))}it(">>"),it("endobj")},Bt=function(){var S;for(S in Ce)Ce.hasOwnProperty(S)&&Lt(Ce[S])},Gt=function(){for(var S in it("/XObject <<"),fn)fn.hasOwnProperty(S)&&fn[S].objectNumber>=0&&it("/"+S+" "+fn[S].objectNumber+" 0 R");Ne.publish("putXobjectDict"),it(">>")},fe=function(){wn.oid=De(),it("<<"),it("/Filter /Standard"),it("/V "+wn.v),it("/R "+wn.r),it("/U <"+wn.toHexString(wn.U)+">"),it("/O <"+wn.toHexString(wn.O)+">"),it("/P "+wn.P),it(">>"),it("endobj")},ke=function(){for(var S in it("/Font <<"),Me)Me.hasOwnProperty(S)&&(h===!1||h===!0&&f.hasOwnProperty(S))&&it("/"+S+" "+Me[S].objectNumber+" 0 R");it(">>")},qe=function(){if(Object.keys(Ae).length>0){for(var S in it("/Shading <<"),Ae)Ae.hasOwnProperty(S)&&Ae[S]instanceof Lo&&Ae[S].objectNumber>=0&&it("/"+S+" "+Ae[S].objectNumber+" 0 R");Ne.publish("putShadingPatternDict"),it(">>")}},ge=function(S){if(Object.keys(Ae).length>0){for(var $ in it("/Pattern <<"),Ae)Ae.hasOwnProperty($)&&Ae[$]instanceof a.TilingPattern&&Ae[$].objectNumber>=0&&Ae[$].objectNumber<S&&it("/"+$+" "+Ae[$].objectNumber+" 0 R");Ne.publish("putTilingPatternDict"),it(">>")}},nn=function(){if(Object.keys(Ce).length>0){var S;for(S in it("/ExtGState <<"),Ce)Ce.hasOwnProperty(S)&&Ce[S].objectNumber>=0&&it("/"+S+" "+Ce[S].objectNumber+" 0 R");Ne.publish("putGStateDict"),it(">>")}},he=function(S){en(S.resourcesOid,!0),it("<<"),it("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),ke(),qe(),ge(S.objectOid),nn(),Gt(),it(">>"),it("endobj")},ir=function(){var S=[];wt(),Bt(),Ft(),gt(S),Ne.publish("putResources"),S.forEach(he),he({resourcesOid:yn,objectOid:Number.MAX_SAFE_INTEGER}),Ne.publish("postPutResources")},fr=function(){Ne.publish("putAdditionalObjects");for(var S=0;S<st.length;S++){var $=st[S];en($.objId,!0),it($.content),it("endobj")}Ne.publish("postPutAdditionalObjects")},yr=function(S){Ve[S.fontName]=Ve[S.fontName]||{},Ve[S.fontName][S.fontStyle]=S.id},ie=function(S,$,ot,ct,_t){var Et={id:"F"+(Object.keys(Me).length+1).toString(10),postScriptName:S,fontName:$,fontStyle:ot,encoding:ct,isStandardFont:_t||!1,metadata:{}};return Ne.publish("addFont",{font:Et,instance:this}),Me[Et.id]=Et,yr(Et),Et.id},Pe=function(S){for(var $=0,ot=at.length;$<ot;$++){var ct=ie.call(this,S[$][0],S[$][1],S[$][2],at[$][3],!0);h===!1&&(f[ct]=!0);var _t=S[$][0].split("-");yr({id:ct,fontName:_t[0],fontStyle:_t[1]||""})}Ne.publish("addFonts",{fonts:Me,dictionary:Ve})},Ie=function(S){return S.foo=function(){try{return S.apply(this,arguments)}catch(ct){var $=ct.stack||"";~$.indexOf(" at ")&&($=$.split(" at ")[1]);var ot="Error in function "+$.split(`
`)[0].split("<")[0]+": "+ct.message;if(!le.console)throw new Error(ot);le.console.error(ot,ct),le.alert&&alert(ot)}},S.foo.bar=S,S.foo},ce=function(S,$){var ot,ct,_t,Et,qt,Jt,re,ye,ve;if(_t=($=$||{}).sourceEncoding||"Unicode",qt=$.outputEncoding,($.autoencode||qt)&&Me[zt].metadata&&Me[zt].metadata[_t]&&Me[zt].metadata[_t].encoding&&(Et=Me[zt].metadata[_t].encoding,!qt&&Me[zt].encoding&&(qt=Me[zt].encoding),!qt&&Et.codePages&&(qt=Et.codePages[0]),typeof qt=="string"&&(qt=Et[qt]),qt)){for(re=!1,Jt=[],ot=0,ct=S.length;ot<ct;ot++)(ye=qt[S.charCodeAt(ot)])?Jt.push(String.fromCharCode(ye)):Jt.push(S[ot]),Jt[ot].charCodeAt(0)>>8&&(re=!0);S=Jt.join("")}for(ot=S.length;re===void 0&&ot!==0;)S.charCodeAt(ot-1)>>8&&(re=!0),ot--;if(!re)return S;for(Jt=$.noBOM?[]:[254,255],ot=0,ct=S.length;ot<ct;ot++){if((ve=(ye=S.charCodeAt(ot))>>8)>>8)throw new Error("Character at position "+ot+" of string '"+S+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Jt.push(ve),Jt.push(ye-(ve<<8))}return String.fromCharCode.apply(void 0,Jt)},se=a.__private__.pdfEscape=a.pdfEscape=function(S,$){return ce(S,$).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},zn=a.__private__.beginPage=function(S){ut[++Fe]=[],ne[Fe]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(S[0]),topRightY:Number(S[1])}},Ge(Fe),bt(ut[R])},we=function(S,$){var ot,ct,_t;switch(e=$||e,typeof S=="string"&&(ot=v(S.toLowerCase()),Array.isArray(ot)&&(ct=ot[0],_t=ot[1])),Array.isArray(S)&&(ct=S[0]*Ut,_t=S[1]*Ut),isNaN(ct)&&(ct=i[0],_t=i[1]),(ct>14400||_t>14400)&&(Ye.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ct=Math.min(14400,ct),_t=Math.min(14400,_t)),i=[ct,_t],e.substr(0,1)){case"l":_t>ct&&(i=[_t,ct]);break;case"p":ct>_t&&(i=[_t,ct])}zn(i),Ma(Ds),it(Gr),qs!==0&&it(qs+" J"),Fs!==0&&it(Fs+" j"),Ne.publish("addPage",{pageNumber:Fe})},dn=function(S){S>0&&S<=Fe&&(ut.splice(S,1),ne.splice(S,1),Fe--,R>Fe&&(R=Fe),this.setPage(R))},Ge=function(S){S>0&&S<=Fe&&(R=S)},or=a.__private__.getNumberOfPages=a.getNumberOfPages=function(){return ut.length-1},br=function(S,$,ot){var ct,_t=void 0;return ot=ot||{},S=S!==void 0?S:Me[zt].fontName,$=$!==void 0?$:Me[zt].fontStyle,ct=S.toLowerCase(),Ve[ct]!==void 0&&Ve[ct][$]!==void 0?_t=Ve[ct][$]:Ve[S]!==void 0&&Ve[S][$]!==void 0?_t=Ve[S][$]:ot.disableWarning===!1&&Ye.warn("Unable to look up font label for font '"+S+"', '"+$+"'. Refer to getFontList() for available fonts."),_t||ot.noFallback||(_t=Ve.times[$])==null&&(_t=Ve.times.normal),_t},_i=a.__private__.putInfo=function(){var S=De(),$=function(ct){return ct};for(var ot in p!==null&&($=wn.encryptor(S,0)),it("<<"),it("/Producer ("+se($("jsPDF "+ae.version))+")"),Xt)Xt.hasOwnProperty(ot)&&Xt[ot]&&it("/"+ot.substr(0,1).toUpperCase()+ot.substr(1)+" ("+se($(Xt[ot]))+")");it("/CreationDate ("+se($(U))+")"),it(">>"),it("endobj")},wr=a.__private__.putCatalog=function(S){var $=(S=S||{}).rootDictionaryObjId||cr;switch(De(),it("<<"),it("/Type /Catalog"),it("/Pages "+$+" 0 R"),yt||(yt="fullwidth"),yt){case"fullwidth":it("/OpenAction [3 0 R /FitH null]");break;case"fullheight":it("/OpenAction [3 0 R /FitV null]");break;case"fullpage":it("/OpenAction [3 0 R /Fit]");break;case"original":it("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ot=""+yt;ot.substr(ot.length-1)==="%"&&(yt=parseInt(yt)/100),typeof yt=="number"&&it("/OpenAction [3 0 R /XYZ null null "+D(yt)+"]")}switch(Ht||(Ht="continuous"),Ht){case"continuous":it("/PageLayout /OneColumn");break;case"single":it("/PageLayout /SinglePage");break;case"two":case"twoleft":it("/PageLayout /TwoColumnLeft");break;case"tworight":it("/PageLayout /TwoColumnRight")}Tt&&it("/PageMode /"+Tt),Ne.publish("putCatalog"),it(">>"),it("endobj")},_r=a.__private__.putTrailer=function(){it("trailer"),it("<<"),it("/Size "+(T+1)),it("/Root "+T+" 0 R"),it("/Info "+(T-1)+" 0 R"),p!==null&&it("/Encrypt "+wn.oid+" 0 R"),it("/ID [ <"+G+"> <"+G+"> ]"),it(">>")},Fo=a.__private__.putHeader=function(){it("%PDF-"+m),it("%ºß¬à")},Di=a.__private__.putXRef=function(){var S="0000000000";it("xref"),it("0 "+(T+1)),it("0000000000 65535 f ");for(var $=1;$<=T;$++)typeof F[$]=="function"?it((S+F[$]()).slice(-10)+" 00000 n "):F[$]!==void 0?it((S+F[$]).slice(-10)+" 00000 n "):it("0000000000 00000 n ")},Ar=a.__private__.buildDocument=function(){Pt(),bt(H),Ne.publish("buildDocument"),Fo(),jn(),fr(),ir(),p!==null&&fe(),_i(),wr();var S=X;return Di(),_r(),it("startxref"),it(""+S),it("%%EOF"),bt(ut[R]),H.join(`
`)},Wr=a.__private__.getBlob=function(S){return new Blob([dt(S)],{type:"application/pdf"})},$r=a.output=a.__private__.output=Ie(function(S,$){switch(typeof($=$||{})=="string"?$={filename:$}:$.filename=$.filename||"generated.pdf",S){case void 0:return Ar();case"save":a.save($.filename);break;case"arraybuffer":return dt(Ar());case"blob":return Wr(Ar());case"bloburi":case"bloburl":if(le.URL!==void 0&&typeof le.URL.createObjectURL=="function")return le.URL&&le.URL.createObjectURL(Wr(Ar()))||void 0;Ye.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ot="",ct=Ar();try{ot=nc(ct)}catch{ot=nc(unescape(encodeURIComponent(ct)))}return"data:application/pdf;filename="+$.filename+";base64,"+ot;case"pdfobjectnewwindow":if(Object.prototype.toString.call(le)==="[object Window]"){var _t="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Et=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';$.pdfObjectUrl&&(_t=$.pdfObjectUrl,Et="");var qt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+_t+'"'+Et+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify($)+");<\/script></body></html>",Jt=le.open();return Jt!==null&&Jt.document.write(qt),Jt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(le)==="[object Window]"){var re='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+($.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+$.filename+'" width="500px" height="400px" /></body></html>',ye=le.open();if(ye!==null){ye.document.write(re);var ve=this;ye.document.documentElement.querySelector("#pdfViewer").onload=function(){ye.document.title=$.filename,ye.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ve.output("bloburl"))}}return ye}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(le)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Te='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",$)+'"></iframe></body></html>',un=le.open();if(un!==null&&(un.document.write(Te),un.document.title=$.filename),un||typeof safari>"u")return un;break;case"datauri":case"dataurl":return le.document.location.href=this.output("datauristring",$);default:return null}}),po=function(S){return Array.isArray(rr)===!0&&rr.indexOf(S)>-1};switch(r){case"pt":Ut=1;break;case"mm":Ut=72/25.4;break;case"cm":Ut=72/2.54;break;case"in":Ut=72;break;case"px":Ut=po("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ut=12;break;case"ex":Ut=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Ut=r}var wn=null;z(),nt();var Ri=function(S){return p!==null?wn.encryptor(S,0):function($){return $}},Ta=a.__private__.getPageInfo=a.getPageInfo=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ne[S].objId,pageNumber:S,pageContext:ne[S]}},de=a.__private__.getPageInfoByObjId=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var $ in ne)if(ne[$].objId===S)break;return Ta($)},tu=a.__private__.getCurrentPageInfo=a.getCurrentPageInfo=function(){return{objId:ne[R].objId,pageNumber:R,pageContext:ne[R]}};a.addPage=function(){return we.apply(this,arguments),this},a.setPage=function(){return Ge.apply(this,arguments),bt.call(this,ut[R]),this},a.insertPage=function(S){return this.addPage(),this.movePage(R,S),this},a.movePage=function(S,$){var ot,ct;if(S>$){ot=ut[S],ct=ne[S];for(var _t=S;_t>$;_t--)ut[_t]=ut[_t-1],ne[_t]=ne[_t-1];ut[$]=ot,ne[$]=ct,this.setPage($)}else if(S<$){ot=ut[S],ct=ne[S];for(var Et=S;Et<$;Et++)ut[Et]=ut[Et+1],ne[Et]=ne[Et+1];ut[$]=ot,ne[$]=ct,this.setPage($)}return this},a.deletePage=function(){return dn.apply(this,arguments),this},a.__private__.text=a.text=function(S,$,ot,ct,_t){var Et,qt,Jt,re,ye,ve,Te,un,pn,kn=(ct=ct||{}).scope||this;if(typeof S=="number"&&typeof $=="number"&&(typeof ot=="string"||Array.isArray(ot))){var Jn=ot;ot=$,$=S,S=Jn}if(arguments[3]instanceof ee?(E("The transform parameter of text() with a Matrix value"),pn=_t):(Jt=arguments[4],re=arguments[5],He(Te=arguments[3])==="object"&&Te!==null||(typeof Jt=="string"&&(re=Jt,Jt=null),typeof Te=="string"&&(re=Te,Te=null),typeof Te=="number"&&(Jt=Te,Te=null),ct={flags:Te,angle:Jt,align:re})),isNaN($)||isNaN(ot)||S==null)throw new Error("Invalid arguments passed to jsPDF.text");if(S.length===0)return kn;var Mn="",Kr=!1,Sr=typeof ct.lineHeightFactor=="number"?ct.lineHeightFactor:vo,li=kn.internal.scaleFactor;function Ua(Xe){return Xe=Xe.split("	").join(Array(ct.TabLen||9).join(" ")),se(Xe,Te)}function Vs(Xe){for(var Ze,An=Xe.concat(),Tn=[],Li=An.length;Li--;)typeof(Ze=An.shift())=="string"?Tn.push(Ze):Array.isArray(Xe)&&(Ze.length===1||Ze[1]===void 0&&Ze[2]===void 0)?Tn.push(Ze[0]):Tn.push([Ze[0],Ze[1],Ze[2]]);return Tn}function Ws(Xe,Ze){var An;if(typeof Xe=="string")An=Ze(Xe)[0];else if(Array.isArray(Xe)){for(var Tn,Li,Qs=Xe.concat(),ts=[],$a=Qs.length;$a--;)typeof(Tn=Qs.shift())=="string"?ts.push(Ze(Tn)[0]):Array.isArray(Tn)&&typeof Tn[0]=="string"&&(Li=Ze(Tn[0],Tn[1],Tn[2]),ts.push([Li[0],Li[1],Li[2]]));An=ts}return An}var Wo=!1,$s=!0;if(typeof S=="string")Wo=!0;else if(Array.isArray(S)){var Gs=S.concat();qt=[];for(var $o,Hn=Gs.length;Hn--;)(typeof($o=Gs.shift())!="string"||Array.isArray($o)&&typeof $o[0]!="string")&&($s=!1);Wo=$s}if(Wo===!1)throw new Error('Type of text must be string or Array. "'+S+'" is not recognized.');typeof S=="string"&&(S=S.match(/[\r?\n]/)?S.split(/\r\n|\r|\n/g):[S]);var Go=lt/kn.internal.scaleFactor,Ko=Go*(Sr-1);switch(ct.baseline){case"bottom":ot-=Ko;break;case"top":ot+=Go-Ko;break;case"hanging":ot+=Go-2*Ko;break;case"middle":ot+=Go/2-Ko}if((ve=ct.maxWidth||0)>0&&(typeof S=="string"?S=kn.splitTextToSize(S,ve):Object.prototype.toString.call(S)==="[object Array]"&&(S=S.reduce(function(Xe,Ze){return Xe.concat(kn.splitTextToSize(Ze,ve))},[]))),Et={text:S,x:$,y:ot,options:ct,mutex:{pdfEscape:se,activeFontKey:zt,fonts:Me,activeFontSize:lt}},Ne.publish("preProcessText",Et),S=Et.text,Jt=(ct=Et.options).angle,!(pn instanceof ee)&&Jt&&typeof Jt=="number"){Jt*=Math.PI/180,ct.rotationDirection===0&&(Jt=-Jt),y===g.ADVANCED&&(Jt=-Jt);var Yo=Math.cos(Jt),Ks=Math.sin(Jt);pn=new ee(Yo,Ks,-Ks,Yo,0,0)}else Jt&&Jt instanceof ee&&(pn=Jt);y!==g.ADVANCED||pn||(pn=sn),(ye=ct.charSpace||zo)!==void 0&&(Mn+=P(L(ye))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(un=ct.horizontalScale)!==void 0&&(Mn+=P(100*un)+` Tz
`),ct.lang;var hr=-1,cu=ct.renderingMode!==void 0?ct.renderingMode:ct.stroke,Ys=kn.internal.getCurrentPageInfo().pageContext;switch(cu){case 0:case!1:case"fill":hr=0;break;case 1:case!0:case"stroke":hr=1;break;case 2:case"fillThenStroke":hr=2;break;case 3:case"invisible":hr=3;break;case 4:case"fillAndAddForClipping":hr=4;break;case 5:case"strokeAndAddPathForClipping":hr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":hr=6;break;case 7:case"addToPathForClipping":hr=7}var za=Ys.usedRenderingMode!==void 0?Ys.usedRenderingMode:-1;hr!==-1?Mn+=hr+` Tr
`:za!==-1&&(Mn+=`0 Tr
`),hr!==-1&&(Ys.usedRenderingMode=hr),re=ct.align||"left";var Tr,Jo=lt*Sr,Ha=kn.internal.pageSize.getWidth(),Va=Me[zt];ye=ct.charSpace||zo,ve=ct.maxWidth||0,Te=Object.assign({autoencode:!0,noBOM:!0},ct.flags);var Ui=[],bo=function(Xe){return kn.getStringUnitWidth(Xe,{font:Va,charSpace:ye,fontSize:lt,doKerning:!1})*lt/li};if(Object.prototype.toString.call(S)==="[object Array]"){var dr;qt=Vs(S),re!=="left"&&(Tr=qt.map(bo));var sr,zi=0;if(re==="right"){$-=Tr[0],S=[],Hn=qt.length;for(var Si=0;Si<Hn;Si++)Si===0?(sr=ai($),dr=Ai(ot)):(sr=L(zi-Tr[Si]),dr=-Jo),S.push([qt[Si],sr,dr]),zi=Tr[Si]}else if(re==="center"){$-=Tr[0]/2,S=[],Hn=qt.length;for(var xi=0;xi<Hn;xi++)xi===0?(sr=ai($),dr=Ai(ot)):(sr=L((zi-Tr[xi])/2),dr=-Jo),S.push([qt[xi],sr,dr]),zi=Tr[xi]}else if(re==="left"){S=[],Hn=qt.length;for(var Xo=0;Xo<Hn;Xo++)S.push(qt[Xo])}else if(re==="justify"&&Va.encoding==="Identity-H"){S=[],Hn=qt.length,ve=ve!==0?ve:Ha;for(var Ni=0,_n=0;_n<Hn;_n++)if(dr=_n===0?Ai(ot):-Jo,sr=_n===0?ai($):Ni,_n<Hn-1){var Js=L((ve-Tr[_n])/(qt[_n].split(" ").length-1)),ar=qt[_n].split(" ");S.push([ar[0]+" ",sr,dr]),Ni=0;for(var Ir=1;Ir<ar.length;Ir++){var Zo=(bo(ar[Ir-1]+" "+ar[Ir])-bo(ar[Ir]))*li+Js;Ir==ar.length-1?S.push([ar[Ir],Zo,0]):S.push([ar[Ir]+" ",Zo,0]),Ni-=Zo}}else S.push([qt[_n],sr,dr]);S.push(["",Ni,0])}else{if(re!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(S=[],Hn=qt.length,ve=ve!==0?ve:Ha,_n=0;_n<Hn;_n++)dr=_n===0?Ai(ot):-Jo,sr=_n===0?ai($):0,_n<Hn-1?Ui.push(P(L((ve-Tr[_n])/(qt[_n].split(" ").length-1)))):Ui.push(0),S.push([qt[_n],sr,dr])}}var Wa=typeof ct.R2L=="boolean"?ct.R2L:Ct;Wa===!0&&(S=Ws(S,function(Xe,Ze,An){return[Xe.split("").reverse().join(""),Ze,An]})),Et={text:S,x:$,y:ot,options:ct,mutex:{pdfEscape:se,activeFontKey:zt,fonts:Me,activeFontSize:lt}},Ne.publish("postProcessText",Et),S=Et.text,Kr=Et.mutex.isHex||!1;var Xs=Me[zt].encoding;Xs!=="WinAnsiEncoding"&&Xs!=="StandardEncoding"||(S=Ws(S,function(Xe,Ze,An){return[Ua(Xe),Ze,An]})),qt=Vs(S),S=[];for(var wo,_o,Hi,Ao=0,Qo=1,So=Array.isArray(qt[0])?Qo:Ao,Vi="",Zs=function(Xe,Ze,An){var Tn="";return An instanceof ee?(An=typeof ct.angle=="number"?Je(An,new ee(1,0,0,1,Xe,Ze)):Je(new ee(1,0,0,1,Xe,Ze),An),y===g.ADVANCED&&(An=Je(new ee(1,0,0,-1,0,0),An)),Tn=An.join(" ")+` Tm
`):Tn=P(Xe)+" "+P(Ze)+` Td
`,Tn},jr=0;jr<qt.length;jr++){switch(Vi="",So){case Qo:Hi=(Kr?"<":"(")+qt[jr][0]+(Kr?">":")"),wo=parseFloat(qt[jr][1]),_o=parseFloat(qt[jr][2]);break;case Ao:Hi=(Kr?"<":"(")+qt[jr]+(Kr?">":")"),wo=ai($),_o=Ai(ot)}Ui!==void 0&&Ui[jr]!==void 0&&(Vi=Ui[jr]+` Tw
`),jr===0?S.push(Vi+Zs(wo,_o,pn)+Hi):So===Ao?S.push(Vi+Hi):So===Qo&&S.push(Vi+Zs(wo,_o,pn)+Hi)}S=So===Ao?S.join(` Tj
T* `):S.join(` Tj
`),S+=` Tj
`;var Mr=`BT
/`;return Mr+=zt+" "+lt+` Tf
`,Mr+=P(lt*Sr)+` TL
`,Mr+=mo+`
`,Mr+=Mn,Mr+=S,it(Mr+="ET"),f[zt]=!0,kn};var eu=a.__private__.clip=a.clip=function(S){return it(S==="evenodd"?"W*":"W"),this};a.clipEvenOdd=function(){return eu("evenodd")},a.__private__.discardPath=a.discardPath=function(){return it("n"),this};var si=a.__private__.isValidStyle=function(S){var $=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(S)!==-1&&($=!0),$};a.__private__.setDefaultPathOperation=a.setDefaultPathOperation=function(S){return si(S)&&(d=S),this};var Ia=a.__private__.getStyle=a.getStyle=function(S){var $=d;switch(S){case"D":case"S":$="S";break;case"F":$="f";break;case"FD":case"DF":$="B";break;case"f":case"f*":case"B":case"B*":$=S}return $},ja=a.close=function(){return it("h"),this};a.stroke=function(){return it("S"),this},a.fill=function(S){return Bo("f",S),this},a.fillEvenOdd=function(S){return Bo("f*",S),this},a.fillStroke=function(S){return Bo("B",S),this},a.fillStrokeEvenOdd=function(S){return Bo("B*",S),this};var Bo=function(S,$){He($)==="object"?ru($,S):it(S)},js=function(S){S===null||y===g.ADVANCED&&S===void 0||(S=Ia(S),it(S))};function nu(S,$,ot,ct,_t){var Et=new fs($||this.boundingBox,ot||this.xStep,ct||this.yStep,this.gState,_t||this.matrix);Et.stream=this.stream;var qt=S+"$$"+this.cloneIndex+++"$$";return ln(qt,Et),Et}var ru=function(S,$){var ot=nr[S.key],ct=Ae[ot];if(ct instanceof Lo)it("q"),it(iu($)),ct.gState&&a.setGState(ct.gState),it(S.matrix.toString()+" cm"),it("/"+ot+" sh"),it("Q");else if(ct instanceof fs){var _t=new ee(1,0,0,-1,0,Bi());S.matrix&&(_t=_t.multiply(S.matrix||sn),ot=nu.call(ct,S.key,S.boundingBox,S.xStep,S.yStep,_t).id),it("q"),it("/Pattern cs"),it("/"+ot+" scn"),ct.gState&&a.setGState(ct.gState),it($),it("Q")}},iu=function(S){switch(S){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ms=a.moveTo=function(S,$){return it(P(L(S))+" "+P(j($))+" m"),this},go=a.lineTo=function(S,$){return it(P(L(S))+" "+P(j($))+" l"),this},qi=a.curveTo=function(S,$,ot,ct,_t,Et){return it([P(L(S)),P(j($)),P(L(ot)),P(j(ct)),P(L(_t)),P(j(Et)),"c"].join(" ")),this};a.__private__.line=a.line=function(S,$,ot,ct,_t){if(isNaN(S)||isNaN($)||isNaN(ot)||isNaN(ct)||!si(_t))throw new Error("Invalid arguments passed to jsPDF.line");return y===g.COMPAT?this.lines([[ot-S,ct-$]],S,$,[1,1],_t||"S"):this.lines([[ot-S,ct-$]],S,$,[1,1]).stroke()},a.__private__.lines=a.lines=function(S,$,ot,ct,_t,Et){var qt,Jt,re,ye,ve,Te,un,pn,kn,Jn,Mn,Kr;if(typeof S=="number"&&(Kr=ot,ot=$,$=S,S=Kr),ct=ct||[1,1],Et=Et||!1,isNaN($)||isNaN(ot)||!Array.isArray(S)||!Array.isArray(ct)||!si(_t)||typeof Et!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ms($,ot),qt=ct[0],Jt=ct[1],ye=S.length,Jn=$,Mn=ot,re=0;re<ye;re++)(ve=S[re]).length===2?(Jn=ve[0]*qt+Jn,Mn=ve[1]*Jt+Mn,go(Jn,Mn)):(Te=ve[0]*qt+Jn,un=ve[1]*Jt+Mn,pn=ve[2]*qt+Jn,kn=ve[3]*Jt+Mn,Jn=ve[4]*qt+Jn,Mn=ve[5]*Jt+Mn,qi(Te,un,pn,kn,Jn,Mn));return Et&&ja(),js(_t),this},a.path=function(S){for(var $=0;$<S.length;$++){var ot=S[$],ct=ot.c;switch(ot.op){case"m":Ms(ct[0],ct[1]);break;case"l":go(ct[0],ct[1]);break;case"c":qi.apply(this,ct);break;case"h":ja()}}return this},a.__private__.rect=a.rect=function(S,$,ot,ct,_t){if(isNaN(S)||isNaN($)||isNaN(ot)||isNaN(ct)||!si(_t))throw new Error("Invalid arguments passed to jsPDF.rect");return y===g.COMPAT&&(ct=-ct),it([P(L(S)),P(j($)),P(L(ot)),P(L(ct)),"re"].join(" ")),js(_t),this},a.__private__.triangle=a.triangle=function(S,$,ot,ct,_t,Et,qt){if(isNaN(S)||isNaN($)||isNaN(ot)||isNaN(ct)||isNaN(_t)||isNaN(Et)||!si(qt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ot-S,ct-$],[_t-ot,Et-ct],[S-_t,$-Et]],S,$,[1,1],qt,!0),this},a.__private__.roundedRect=a.roundedRect=function(S,$,ot,ct,_t,Et,qt){if(isNaN(S)||isNaN($)||isNaN(ot)||isNaN(ct)||isNaN(_t)||isNaN(Et)||!si(qt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Jt=4/3*(Math.SQRT2-1);return _t=Math.min(_t,.5*ot),Et=Math.min(Et,.5*ct),this.lines([[ot-2*_t,0],[_t*Jt,0,_t,Et-Et*Jt,_t,Et],[0,ct-2*Et],[0,Et*Jt,-_t*Jt,Et,-_t,Et],[2*_t-ot,0],[-_t*Jt,0,-_t,-Et*Jt,-_t,-Et],[0,2*Et-ct],[0,-Et*Jt,_t*Jt,-Et,_t,-Et]],S+_t,$,[1,1],qt,!0),this},a.__private__.ellipse=a.ellipse=function(S,$,ot,ct,_t){if(isNaN(S)||isNaN($)||isNaN(ot)||isNaN(ct)||!si(_t))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Et=4/3*(Math.SQRT2-1)*ot,qt=4/3*(Math.SQRT2-1)*ct;return Ms(S+ot,$),qi(S+ot,$-qt,S+Et,$-ct,S,$-ct),qi(S-Et,$-ct,S-ot,$-qt,S-ot,$),qi(S-ot,$+qt,S-Et,$+ct,S,$+ct),qi(S+Et,$+ct,S+ot,$+qt,S+ot,$),js(_t),this},a.__private__.circle=a.circle=function(S,$,ot,ct){if(isNaN(S)||isNaN($)||isNaN(ot)||!si(ct))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(S,$,ot,ot,ct)},a.setFont=function(S,$,ot){return ot&&($=I($,ot)),zt=br(S,$,{disableWarning:!1}),this};var ou=a.__private__.getFont=a.getFont=function(){return Me[br.apply(a,arguments)]};a.__private__.getFontList=a.getFontList=function(){var S,$,ot={};for(S in Ve)if(Ve.hasOwnProperty(S))for($ in ot[S]=[],Ve[S])Ve[S].hasOwnProperty($)&&ot[S].push($);return ot},a.addFont=function(S,$,ot,ct,_t){var Et=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Et.indexOf(arguments[3])!==-1?_t=arguments[3]:arguments[3]&&Et.indexOf(arguments[3])==-1&&(ot=I(ot,ct)),_t=_t||"Identity-H",ie.call(this,S,$,ot,_t)};var vo,Ds=n.lineWidth||.200025,Uo=a.__private__.getLineWidth=a.getLineWidth=function(){return Ds},Ma=a.__private__.setLineWidth=a.setLineWidth=function(S){return Ds=S,it(P(L(S))+" w"),this};a.__private__.setLineDash=ae.API.setLineDash=ae.API.setLineDashPattern=function(S,$){if(S=S||[],$=$||0,isNaN($)||!Array.isArray(S))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return S=S.map(function(ot){return P(L(ot))}).join(" "),$=P(L($)),it("["+S+"] "+$+" d"),this};var Da=a.__private__.getLineHeight=a.getLineHeight=function(){return lt*vo};a.__private__.getLineHeight=a.getLineHeight=function(){return lt*vo};var Ra=a.__private__.setLineHeightFactor=a.setLineHeightFactor=function(S){return typeof(S=S||1.15)=="number"&&(vo=S),this},qa=a.__private__.getLineHeightFactor=a.getLineHeightFactor=function(){return vo};Ra(n.lineHeight);var ai=a.__private__.getHorizontalCoordinate=function(S){return L(S)},Ai=a.__private__.getVerticalCoordinate=function(S){return y===g.ADVANCED?S:ne[R].mediaBox.topRightY-ne[R].mediaBox.bottomLeftY-L(S)},su=a.__private__.getHorizontalCoordinateString=a.getHorizontalCoordinateString=function(S){return P(ai(S))},Fi=a.__private__.getVerticalCoordinateString=a.getVerticalCoordinateString=function(S){return P(Ai(S))},Gr=n.strokeColor||"0 G";a.__private__.getStrokeColor=a.getDrawColor=function(){return hn(Gr)},a.__private__.setStrokeColor=a.setDrawColor=function(S,$,ot,ct){return Gr=Bn({ch1:S,ch2:$,ch3:ot,ch4:ct,pdfColorType:"draw",precision:2}),it(Gr),this};var Rs=n.fillColor||"0 g";a.__private__.getFillColor=a.getFillColor=function(){return hn(Rs)},a.__private__.setFillColor=a.setFillColor=function(S,$,ot,ct){return Rs=Bn({ch1:S,ch2:$,ch3:ot,ch4:ct,pdfColorType:"fill",precision:2}),it(Rs),this};var mo=n.textColor||"0 g",au=a.__private__.getTextColor=a.getTextColor=function(){return hn(mo)};a.__private__.setTextColor=a.setTextColor=function(S,$,ot,ct){return mo=Bn({ch1:S,ch2:$,ch3:ot,ch4:ct,pdfColorType:"text",precision:3}),this};var zo=n.charSpace,lu=a.__private__.getCharSpace=a.getCharSpace=function(){return parseFloat(zo||0)};a.__private__.setCharSpace=a.setCharSpace=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return zo=S,this};var qs=0;a.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},a.__private__.setLineCap=a.setLineCap=function(S){var $=a.CapJoinStyles[S];if($===void 0)throw new Error("Line cap style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return qs=$,it($+" J"),this};var Fs=0;a.__private__.setLineJoin=a.setLineJoin=function(S){var $=a.CapJoinStyles[S];if($===void 0)throw new Error("Line join style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Fs=$,it($+" j"),this},a.__private__.setLineMiterLimit=a.__private__.setMiterLimit=a.setLineMiterLimit=a.setMiterLimit=function(S){if(S=S||0,isNaN(S))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return it(P(L(S))+" M"),this},a.GState=Cl,a.setGState=function(S){(S=typeof S=="string"?Ce[tn[S]]:Fa(null,S)).equals(an)||(it("/"+S.id+" gs"),an=S)};var Fa=function(S,$){if(!S||!tn[S]){var ot=!1;for(var ct in Ce)if(Ce.hasOwnProperty(ct)&&Ce[ct].equals($)){ot=!0;break}if(ot)$=Ce[ct];else{var _t="GS"+(Object.keys(Ce).length+1).toString(10);Ce[_t]=$,$.id=_t}return S&&(tn[S]=$.id),Ne.publish("addGState",$),$}};a.addGState=function(S,$){return Fa(S,$),this},a.saveGraphicsState=function(){return it("q"),Gn.push({key:zt,size:lt,color:mo}),this},a.restoreGraphicsState=function(){it("Q");var S=Gn.pop();return zt=S.key,lt=S.size,mo=S.color,an=null,this},a.setCurrentTransformationMatrix=function(S){return it(S.toString()+" cm"),this},a.comment=function(S){return it("#"+S),this};var Ho=function(S,$){var ot=S||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ot},set:function(Et){isNaN(Et)||(ot=parseFloat(Et))}});var ct=$||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ct},set:function(Et){isNaN(Et)||(ct=parseFloat(Et))}});var _t="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return _t},set:function(Et){_t=Et.toString()}}),this},Bs=function(S,$,ot,ct){Ho.call(this,S,$),this.type="rect";var _t=ot||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return _t},set:function(qt){isNaN(qt)||(_t=parseFloat(qt))}});var Et=ct||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Et},set:function(qt){isNaN(qt)||(Et=parseFloat(qt))}}),this},Us=function(){this.page=Fe,this.currentPage=R,this.pages=ut.slice(0),this.pagesContext=ne.slice(0),this.x=on,this.y=Le,this.matrix=$n,this.width=yo(R),this.height=Bi(R),this.outputDestination=At,this.id="",this.objectNumber=-1};Us.prototype.restore=function(){Fe=this.page,R=this.currentPage,ne=this.pagesContext,ut=this.pages,on=this.x,Le=this.y,$n=this.matrix,zs(R,this.width),Hs(R,this.height),At=this.outputDestination};var Ba=function(S,$,ot,ct,_t){Yn.push(new Us),Fe=R=0,ut=[],on=S,Le=$,$n=_t,zn([ot,ct])},uu=function(S){if(Kn[S])Yn.pop().restore();else{var $=new Us,ot="Xo"+(Object.keys(fn).length+1).toString(10);$.id=ot,Kn[S]=ot,fn[ot]=$,Ne.publish("addFormObject",$),Yn.pop().restore()}};for(var Vo in a.beginFormObject=function(S,$,ot,ct,_t){return Ba(S,$,ot,ct,_t),this},a.endFormObject=function(S){return uu(S),this},a.doFormObject=function(S,$){var ot=fn[Kn[S]];return it("q"),it($.toString()+" cm"),it("/"+ot.id+" Do"),it("Q"),this},a.getFormObject=function(S){var $=fn[Kn[S]];return{x:$.x,y:$.y,width:$.width,height:$.height,matrix:$.matrix}},a.save=function(S,$){return S=S||"generated.pdf",($=$||{}).returnPromise=$.returnPromise||!1,$.returnPromise===!1?(No(Wr(Ar()),S),typeof No.unload=="function"&&le.setTimeout&&setTimeout(No.unload,911),this):new Promise(function(ot,ct){try{var _t=No(Wr(Ar()),S);typeof No.unload=="function"&&le.setTimeout&&setTimeout(No.unload,911),ot(_t)}catch(Et){ct(Et.message)}})},ae.API)ae.API.hasOwnProperty(Vo)&&(Vo==="events"&&ae.API.events.length?function(S,$){var ot,ct,_t;for(_t=$.length-1;_t!==-1;_t--)ot=$[_t][0],ct=$[_t][1],S.subscribe.apply(S,[ot].concat(typeof ct=="function"?[ct]:ct))}(Ne,ae.API.events):a[Vo]=ae.API[Vo]);var yo=a.getPageWidth=function(S){return(ne[S=S||R].mediaBox.topRightX-ne[S].mediaBox.bottomLeftX)/Ut},zs=a.setPageWidth=function(S,$){ne[S].mediaBox.topRightX=$*Ut+ne[S].mediaBox.bottomLeftX},Bi=a.getPageHeight=function(S){return(ne[S=S||R].mediaBox.topRightY-ne[S].mediaBox.bottomLeftY)/Ut},Hs=a.setPageHeight=function(S,$){ne[S].mediaBox.topRightY=$*Ut+ne[S].mediaBox.bottomLeftY};return a.internal={pdfEscape:se,getStyle:Ia,getFont:ou,getFontSize:pt,getCharSpace:lu,getTextColor:au,getLineHeight:Da,getLineHeightFactor:qa,getLineWidth:Uo,write:Wt,getHorizontalCoordinate:ai,getVerticalCoordinate:Ai,getCoordinateString:su,getVerticalCoordinateString:Fi,collections:{},newObject:De,newAdditionalObject:mr,newObjectDeferred:$e,newObjectDeferredBegin:en,getFilters:bn,putStream:Un,events:Ne,scaleFactor:Ut,pageSize:{getWidth:function(){return yo(R)},setWidth:function(S){zs(R,S)},getHeight:function(){return Bi(R)},setHeight:function(S){Hs(R,S)}},encryptionOptions:p,encryption:wn,getEncryptor:Ri,output:$r,getNumberOfPages:or,pages:ut,out:it,f2:D,f3:N,getPageInfo:Ta,getPageInfoByObjId:de,getCurrentPageInfo:tu,getPDFVersion:_,Point:Ho,Rectangle:Bs,Matrix:ee,hasHotfix:po},Object.defineProperty(a.internal.pageSize,"width",{get:function(){return yo(R)},set:function(S){zs(R,S)},enumerable:!0,configurable:!0}),Object.defineProperty(a.internal.pageSize,"height",{get:function(){return Bi(R)},set:function(S){Hs(R,S)},enumerable:!0,configurable:!0}),Pe.call(a,at),zt="F1",we(i,e),Ne.publish("initialized"),a}as.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},as.prototype.toHexString=function(n){return n.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},as.prototype.hexToBytes=function(n){for(var t=[],e=0;e<n.length;e+=2)t.push(String.fromCharCode(parseInt(n.substr(e,2),16)));return t.join("")},as.prototype.processOwnerPassword=function(n,t){return ic(rc(t).substr(0,5),n)},as.prototype.encryptor=function(n,t){var e=rc(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return ic(e,r)}},Cl.prototype.equals=function(n){var t,e="id,objectNumber,equals";if(!n||He(n)!==He(this))return!1;var r=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!n.hasOwnProperty(t)||this[t]!==n[t])return!1;r++}for(t in n)n.hasOwnProperty(t)&&e.indexOf(t)<0&&r--;return r===0},ae.API={events:[]},ae.version="2.5.2";var vn=ae.API,Lc=1,Do=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},os=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},me=function(n){return n.toFixed(2)},Qi=function(n){return n.toFixed(5)};vn.__acroform__={};var vr=function(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n},If=function(n){return n*Lc},hi=function(n){var t=new $h,e=te.internal.getHeight(n)||0,r=te.internal.getWidth(n)||0;return t.BBox=[0,0,Number(me(r)),Number(me(e))],t},S0=vn.__acroform__.setBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<t},x0=vn.__acroform__.clearBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<t)},N0=vn.__acroform__.getBit=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<t?1:0},xn=vn.__acroform__.getBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return N0(n,t-1)},Nn=vn.__acroform__.setBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return S0(n,t-1)},Ln=vn.__acroform__.clearBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return x0(n,t-1)},L0=vn.__acroform__.calculateCoordinates=function(n,t){var e=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=n[0],o=n[1],s=n[2],l=n[3],u={};return u.lowerLeft_X=e(i)||0,u.lowerLeft_Y=r(o+l)||0,u.upperRight_X=e(i+s)||0,u.upperRight_Y=r(o)||0,[Number(me(u.lowerLeft_X)),Number(me(u.lowerLeft_Y)),Number(me(u.upperRight_X)),Number(me(u.upperRight_Y))]},k0=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var t=[],e=n._V||n.DV,r=oc(n,e),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(n.scope.__private__.encodeColorString(n.color)),t.push("/"+i+" "+me(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var o=hi(n);return o.scope=n.scope,o.stream=t.join(`
`),o}},oc=function(n,t){var e=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=n.multiline?i.map(function(N){return N.split(`
`)}):i.map(function(N){return[N]});var o=e,s=te.internal.getHeight(n)||0;s=s<0?-s:s;var l=te.internal.getWidth(n)||0;l=l<0?-l:l;var u=function(N,L,C){if(N+1<i.length){var j=L+" "+i[N+1][0];return dl(j,n,C).width<=l-4}return!1};o++;t:for(;o>0;){t="",o--;var d,p,h=dl("3",n,o).height,f=n.multiline?s-o:(s-h)/2,a=f+=2,m=0,_=0,A=0;if(o<=0){t=`(...) Tj
`,t+="% Width of Text: "+dl(t,n,o=12).width+", FieldWidth:"+l+`
`;break}for(var v="",g=0,y=0;y<i.length;y++)if(i.hasOwnProperty(y)){var b=!1;if(i[y].length!==1&&A!==i[y].length-1){if((h+2)*(g+2)+2>s)continue t;v+=i[y][A],b=!0,_=y,y--}else{v=(v+=i[y][A]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var x=parseInt(y),I=u(x,v,o),P=y>=i.length-1;if(I&&!P){v+=" ",A=0;continue}if(I||P){if(P)_=x;else if(n.multiline&&(h+2)*(g+2)+2>s)continue t}else{if(!n.multiline||(h+2)*(g+2)+2>s)continue t;_=x}}for(var E="",B=m;B<=_;B++){var D=i[B];if(n.multiline){if(B===_){E+=D[A]+" ",A=(A+1)%D.length;continue}if(B===m){E+=D[D.length-1]+" ";continue}}E+=D[0]+" "}switch(E=E.substr(E.length-1)==" "?E.substr(0,E.length-1):E,p=dl(E,n,o).width,n.textAlign){case"right":d=l-p-2;break;case"center":d=(l-p)/2;break;case"left":default:d=2}t+=me(d)+" "+me(a)+` Td
`,t+="("+Do(E)+`) Tj
`,t+=-me(d)+` 0 Td
`,a=-(o+2),p=0,m=b?_:_+1,g++,v=""}break}return r.text=t,r.fontSize=o,r},dl=function(n,t,e){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:i}},O0={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},E0=function(n,t){var e={type:"reference",object:n};t.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===e.type&&r.object===e.object})===void 0&&t.internal.getPageInfo(n.page).pageContext.annotations.push(e)},P0=function(n,t){for(var e in n)if(n.hasOwnProperty(e)){var r=e,i=n[e];t.internal.newObjectDeferredBegin(i.objId,!0),He(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete n[r]}},C0=function(n,t){if(t.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(ii.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(O0)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Lc=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new Gh,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var o=r[i];o.objId=void 0,o.hasAnnotation&&E0(o,e)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(e){(function(r,i){var o=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var l=r[s],u=[],d=l.Rect;if(l.Rect&&(l.Rect=L0(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=te.createDefaultAppearanceStream(l),He(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(u=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var p=k0(l);u.push({key:"AP",value:"<</N "+p+">>"}),i.internal.acroformPlugin.xForms.push(p)}if(l.appearanceStreamContent){var h="";for(var f in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(f)){var a=l.appearanceStreamContent[f];if(h+="/"+f+" ",h+="<<",Object.keys(a).length>=1||Array.isArray(a)){for(var s in a)if(a.hasOwnProperty(s)){var m=a[s];typeof m=="function"&&(m=m.call(i,l)),h+="/"+s+" "+m+" ",i.internal.acroformPlugin.xForms.indexOf(m)>=0||i.internal.acroformPlugin.xForms.push(m)}}else typeof(m=a)=="function"&&(m=m.call(i,l)),h+="/"+s+" "+m,i.internal.acroformPlugin.xForms.indexOf(m)>=0||i.internal.acroformPlugin.xForms.push(m);h+=">>"}u.push({key:"AP",value:`<<
`+h+">>"})}i.internal.putStream({additionalKeyValues:u,objectId:l.objId}),i.internal.out("endobj")}o&&P0(i.internal.acroformPlugin.xForms,i)})(e,n)}),n.internal.acroformPlugin.isInitialized=!0}},Wh=vn.__acroform__.arrayToPdfArray=function(n,t,e){var r=function(s){return s};if(Array.isArray(n)){for(var i="[",o=0;o<n.length;o++)switch(o!==0&&(i+=" "),He(n[o])){case"boolean":case"number":case"object":i+=n[o].toString();break;case"string":n[o].substr(0,1)!=="/"?(t!==void 0&&e&&(r=e.internal.getEncryptor(t)),i+="("+Do(r(n[o].toString()))+")"):i+=n[o].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},ju=function(n,t,e){var r=function(i){return i};return t!==void 0&&e&&(r=e.internal.getEncryptor(t)),(n=n||"").toString(),n="("+Do(r(n))+")"},di=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};di.prototype.toString=function(){return this.objId+" 0 R"},di.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},di.prototype.getKeyValueListForStream=function(){var n=[],t=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var r=t[e],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:Wh(i,this.objId,this.scope)}):i instanceof di?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var $h=function(){di.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){n=e.trim()},get:function(){return n||null}})};vr($h,di);var Gh=function(){di.call(this);var n,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var e=function(r){return r};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+Do(e(n))+")"}},set:function(e){n=e}})};vr(Gh,di);var ii=function n(){di.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');t=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!xn(t,3)},set:function(v){v?this.F=Nn(t,3):this.F=Ln(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');e=v}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(v){r=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(v){r[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(v){r[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(v){r[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(v){r[3]=v}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Tl)return;o="FieldObject"+n.FieldNum++}var v=function(g){return g};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+Do(v(o))+")"},set:function(v){o=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(v){o=v}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(v){s=v}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(v){u=v}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/Lc:d},set:function(v){d=v}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(v){p=v}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof Tl||this instanceof Eo))return ju(h,this.objId,this.scope)},set:function(v){v=v.toString(),h=v}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Fn?f:ju(f,this.objId,this.scope)},set:function(v){v=v.toString(),f=this instanceof Fn?v:v.substr(0,1)==="("?os(v.substr(1,v.length-2)):os(v)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Fn?os(f.substr(1,f.length-1)):f},set:function(v){v=v.toString(),f=this instanceof Fn?"/"+v:v}});var a=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(a)return a},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(a)return this instanceof Fn?a:ju(a,this.objId,this.scope)},set:function(v){v=v.toString(),a=this instanceof Fn?v:v.substr(0,1)==="("?os(v.substr(1,v.length-2)):os(v)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Fn?os(a.substr(1,a.length-1)):a},set:function(v){v=v.toString(),a=this instanceof Fn?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,_=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return _},set:function(v){v=!!v,_=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(v){m=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,1)},set:function(v){v?this.Ff=Nn(this.Ff,1):this.Ff=Ln(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,2)},set:function(v){v?this.Ff=Nn(this.Ff,2):this.Ff=Ln(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,3)},set:function(v){v?this.Ff=Nn(this.Ff,3):this.Ff=Ln(this.Ff,3)}});var A=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(A!==null)return A},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');A=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(A){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:A=2;break;case"center":case 1:A=1;break;case"left":case 0:default:A=0}}})};vr(ii,di);var ds=function(){ii.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){n=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Wh(t,this.objId,this.scope)},set:function(e){var r,i;i=[],typeof(r=e)=="string"&&(i=function(o,s,l){l||(l=1);for(var u,d=[];u=s.exec(o);)d.push(u[l]);return d}(r,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,r){for(r=r||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,18)},set:function(e){e?this.Ff=Nn(this.Ff,18):this.Ff=Ln(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=Nn(this.Ff,19):this.Ff=Ln(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,20)},set:function(e){e?(this.Ff=Nn(this.Ff,20),t.sort()):this.Ff=Ln(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,22)},set:function(e){e?this.Ff=Nn(this.Ff,22):this.Ff=Ln(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,23)},set:function(e){e?this.Ff=Nn(this.Ff,23):this.Ff=Ln(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,27)},set:function(e){e?this.Ff=Nn(this.Ff,27):this.Ff=Ln(this.Ff,27)}}),this.hasAppearanceStream=!1};vr(ds,ii);var ps=function(){ds.call(this),this.fontName="helvetica",this.combo=!1};vr(ps,ds);var gs=function(){ps.call(this),this.combo=!0};vr(gs,ps);var _l=function(){gs.call(this),this.edit=!0};vr(_l,gs);var Fn=function(){ii.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,15)},set:function(e){e?this.Ff=Nn(this.Ff,15):this.Ff=Ln(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,16)},set:function(e){e?this.Ff=Nn(this.Ff,16):this.Ff=Ln(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,17)},set:function(e){e?this.Ff=Nn(this.Ff,17):this.Ff=Ln(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,26)},set:function(e){e?this.Ff=Nn(this.Ff,26):this.Ff=Ln(this.Ff,26)}});var n,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(o){return o};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,i=[];for(r in i.push("<<"),t)i.push("/"+r+" ("+Do(e(t[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(e){He(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}})};vr(Fn,ii);var Al=function(){Fn.call(this),this.pushButton=!0};vr(Al,Fn);var vs=function(){Fn.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t!==void 0?t:[]}})};vr(vs,Fn);var Tl=function(){var n,t;ii.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var e,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var o,s=[];for(o in s.push("<<"),r)s.push("/"+o+" ("+Do(i(r[o]))+")");return s.push(">>"),s.join(`
`)},set:function(i){He(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(i){e="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=te.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};vr(Tl,ii),vs.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=n.createAppearanceStream(e.optionName),e.caption=n.getCA()}},vs.prototype.createOption=function(n){var t=new Tl;return t.Parent=this,t.optionName=n,this.Kids.push(t),T0.call(this.scope,t),t};var Sl=function(){Fn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=te.CheckBox.createAppearanceStream()};vr(Sl,Fn);var Eo=function(){ii.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,13)},set:function(t){t?this.Ff=Nn(this.Ff,13):this.Ff=Ln(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,21)},set:function(t){t?this.Ff=Nn(this.Ff,21):this.Ff=Ln(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,23)},set:function(t){t?this.Ff=Nn(this.Ff,23):this.Ff=Ln(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,24)},set:function(t){t?this.Ff=Nn(this.Ff,24):this.Ff=Ln(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,25)},set:function(t){t?this.Ff=Nn(this.Ff,25):this.Ff=Ln(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,26)},set:function(t){t?this.Ff=Nn(this.Ff,26):this.Ff=Ln(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){Number.isInteger(t)&&(n=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};vr(Eo,ii);var xl=function(){Eo.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!xn(this.Ff,14)},set:function(n){n?this.Ff=Nn(this.Ff,14):this.Ff=Ln(this.Ff,14)}}),this.password=!0};vr(xl,Eo);var te={CheckBox:{createAppearanceStream:function(){return{N:{On:te.CheckBox.YesNormal},D:{On:te.CheckBox.YesPushDown,Off:te.CheckBox.OffPushDown}}},YesPushDown:function(n){var t=hi(n);t.scope=n.scope;var e=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),o=oc(n,n.caption);return e.push("0.749023 g"),e.push("0 0 "+me(te.internal.getWidth(n))+" "+me(te.internal.getHeight(n))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+r+" "+me(o.fontSize)+" Tf "+i),e.push("BT"),e.push(o.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(n){var t=hi(n);t.scope=n.scope;var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],o=te.internal.getHeight(n),s=te.internal.getWidth(n),l=oc(n,n.caption);return i.push("1 g"),i.push("0 0 "+me(s)+" "+me(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+me(s-1)+" "+me(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+e+" "+me(l.fontSize)+" Tf "+r),i.push(l.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(n){var t=hi(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+me(te.internal.getWidth(n))+" "+me(te.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(n){var t={D:{Off:te.RadioButton.Circle.OffPushDown},N:{}};return t.N[n]=te.RadioButton.Circle.YesNormal,t.D[n]=te.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(n){var t=hi(n);t.scope=n.scope;var e=[],r=te.internal.getWidth(n)<=te.internal.getHeight(n)?te.internal.getWidth(n)/4:te.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=te.internal.Bezier_C,o=Number((r*i).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+Qi(te.internal.getWidth(n)/2)+" "+Qi(te.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),e.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),e.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),e.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=hi(n);t.scope=n.scope;var e=[],r=te.internal.getWidth(n)<=te.internal.getHeight(n)?te.internal.getWidth(n)/4:te.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*te.internal.Bezier_C).toFixed(5)),s=Number((r*te.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Qi(te.internal.getWidth(n)/2)+" "+Qi(te.internal.getHeight(n)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),e.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),e.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),e.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+Qi(te.internal.getWidth(n)/2)+" "+Qi(te.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),e.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),e.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),e.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(n){var t=hi(n);t.scope=n.scope;var e=[],r=te.internal.getWidth(n)<=te.internal.getHeight(n)?te.internal.getWidth(n)/4:te.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*te.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Qi(te.internal.getWidth(n)/2)+" "+Qi(te.internal.getHeight(n)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),e.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),e.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),e.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(n){var t={D:{Off:te.RadioButton.Cross.OffPushDown},N:{}};return t.N[n]=te.RadioButton.Cross.YesNormal,t.D[n]=te.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(n){var t=hi(n);t.scope=n.scope;var e=[],r=te.internal.calculateCross(n);return e.push("q"),e.push("1 1 "+me(te.internal.getWidth(n)-2)+" "+me(te.internal.getHeight(n)-2)+" re"),e.push("W"),e.push("n"),e.push(me(r.x1.x)+" "+me(r.x1.y)+" m"),e.push(me(r.x2.x)+" "+me(r.x2.y)+" l"),e.push(me(r.x4.x)+" "+me(r.x4.y)+" m"),e.push(me(r.x3.x)+" "+me(r.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=hi(n);t.scope=n.scope;var e=te.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+me(te.internal.getWidth(n))+" "+me(te.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+me(te.internal.getWidth(n)-2)+" "+me(te.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(me(e.x1.x)+" "+me(e.x1.y)+" m"),r.push(me(e.x2.x)+" "+me(e.x2.y)+" l"),r.push(me(e.x4.x)+" "+me(e.x4.y)+" m"),r.push(me(e.x3.x)+" "+me(e.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(n){var t=hi(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+me(te.internal.getWidth(n))+" "+me(te.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(n){var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,e=n.scope.__private__.encodeColorString(n.color);return"/"+t+" "+n.fontSize+" Tf "+e}};te.internal={Bezier_C:.551915024494,calculateCross:function(n){var t=te.internal.getWidth(n),e=te.internal.getHeight(n),r=Math.min(t,e);return{x1:{x:(t-r)/2,y:(e-r)/2+r},x2:{x:(t-r)/2+r,y:(e-r)/2},x3:{x:(t-r)/2,y:(e-r)/2},x4:{x:(t-r)/2+r,y:(e-r)/2+r}}}},te.internal.getWidth=function(n){var t=0;return He(n)==="object"&&(t=If(n.Rect[2])),t},te.internal.getHeight=function(n){var t=0;return He(n)==="object"&&(t=If(n.Rect[3])),t};var T0=vn.addField=function(n){if(C0(this,n),!(n instanceof ii))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=n).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};vn.AcroFormChoiceField=ds,vn.AcroFormListBox=ps,vn.AcroFormComboBox=gs,vn.AcroFormEditBox=_l,vn.AcroFormButton=Fn,vn.AcroFormPushButton=Al,vn.AcroFormRadioButton=vs,vn.AcroFormCheckBox=Sl,vn.AcroFormTextField=Eo,vn.AcroFormPasswordField=xl,vn.AcroFormAppearance=te,vn.AcroForm={ChoiceField:ds,ListBox:ps,ComboBox:gs,EditBox:_l,Button:Fn,PushButton:Al,RadioButton:vs,CheckBox:Sl,TextField:Eo,PasswordField:xl,Appearance:te},ae.AcroForm={ChoiceField:ds,ListBox:ps,ComboBox:gs,EditBox:_l,Button:Fn,PushButton:Al,RadioButton:vs,CheckBox:Sl,TextField:Eo,PasswordField:xl,Appearance:te};function Kh(n){return n.reduce(function(t,e,r){return t[e]=r,t},{})}(function(n){n.__addimage__={};var t="UNKNOWN",e={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(N,L){var C,j,U,G,Z,nt=t;if((L=L||t)==="RGBA"||N.data!==void 0&&N.data instanceof Uint8ClampedArray&&"height"in N&&"width"in N)return"RGBA";if(I(N))for(Z in e)for(U=e[Z],C=0;C<U.length;C+=1){for(G=!0,j=0;j<U[C].length;j+=1)if(U[C][j]!==void 0&&U[C][j]!==N[j]){G=!1;break}if(G===!0){nt=Z;break}}else for(Z in e)for(U=e[Z],C=0;C<U.length;C+=1){for(G=!0,j=0;j<U[C].length;j+=1)if(U[C][j]!==void 0&&U[C][j]!==N.charCodeAt(j)){G=!1;break}if(G===!0){nt=Z;break}}return nt===t&&L!==t&&(nt=L),nt},i=function N(L){for(var C=this.internal.write,j=this.internal.putStream,U=(0,this.internal.getFilters)();U.indexOf("FlateEncode")!==-1;)U.splice(U.indexOf("FlateEncode"),1);L.objectId=this.internal.newObject();var G=[];if(G.push({key:"Type",value:"/XObject"}),G.push({key:"Subtype",value:"/Image"}),G.push({key:"Width",value:L.width}),G.push({key:"Height",value:L.height}),L.colorSpace===A.INDEXED?G.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(L.palette.length/3-1)+" "+("sMask"in L&&L.sMask!==void 0?L.objectId+2:L.objectId+1)+" 0 R]"}):(G.push({key:"ColorSpace",value:"/"+L.colorSpace}),L.colorSpace===A.DEVICE_CMYK&&G.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),G.push({key:"BitsPerComponent",value:L.bitsPerComponent}),"decodeParameters"in L&&L.decodeParameters!==void 0&&G.push({key:"DecodeParms",value:"<<"+L.decodeParameters+">>"}),"transparency"in L&&Array.isArray(L.transparency)){for(var Z="",nt=0,tt=L.transparency.length;nt<tt;nt++)Z+=L.transparency[nt]+" "+L.transparency[nt]+" ";G.push({key:"Mask",value:"["+Z+"]"})}L.sMask!==void 0&&G.push({key:"SMask",value:L.objectId+1+" 0 R"});var K=L.filter!==void 0?["/"+L.filter]:void 0;if(j({data:L.data,additionalKeyValues:G,alreadyAppliedFilters:K,objectId:L.objectId}),C("endobj"),"sMask"in L&&L.sMask!==void 0){var z="/Predictor "+L.predictor+" /Colors 1 /BitsPerComponent "+L.bitsPerComponent+" /Columns "+L.width,O={width:L.width,height:L.height,colorSpace:"DeviceGray",bitsPerComponent:L.bitsPerComponent,decodeParameters:z,data:L.sMask};"filter"in L&&(O.filter=L.filter),N.call(this,O)}if(L.colorSpace===A.INDEXED){var R=this.internal.newObject();j({data:E(new Uint8Array(L.palette)),objectId:R}),C("endobj")}},o=function(){var N=this.internal.collections.addImage_images;for(var L in N)i.call(this,N[L])},s=function(){var N,L=this.internal.collections.addImage_images,C=this.internal.write;for(var j in L)C("/I"+(N=L[j]).index,N.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",s))},u=function(){var N=this.internal.collections.addImage_images;return l.call(this),N},d=function(){return Object.keys(this.internal.collections.addImage_images).length},p=function(N){return typeof n["process"+N.toUpperCase()]=="function"},h=function(N){return He(N)==="object"&&N.nodeType===1},f=function(N,L){if(N.nodeName==="IMG"&&N.hasAttribute("src")){var C=""+N.getAttribute("src");if(C.indexOf("data:image/")===0)return la(unescape(C).split("base64,").pop());var j=n.loadFile(C,!0);if(j!==void 0)return j}if(N.nodeName==="CANVAS"){if(N.width===0||N.height===0)throw new Error("Given canvas must have data. Canvas width: "+N.width+", height: "+N.height);var U;switch(L){case"PNG":U="image/png";break;case"WEBP":U="image/webp";break;case"JPEG":case"JPG":default:U="image/jpeg"}return la(N.toDataURL(U,1).split("base64,").pop())}},a=function(N){var L=this.internal.collections.addImage_images;if(L){for(var C in L)if(N===L[C].alias)return L[C]}},m=function(N,L,C){return N||L||(N=-96,L=-96),N<0&&(N=-1*C.width*72/N/this.internal.scaleFactor),L<0&&(L=-1*C.height*72/L/this.internal.scaleFactor),N===0&&(N=L*C.width/C.height),L===0&&(L=N*C.height/C.width),[N,L]},_=function(N,L,C,j,U,G){var Z=m.call(this,C,j,U),nt=this.internal.getCoordinateString,tt=this.internal.getVerticalCoordinateString,K=u.call(this);if(C=Z[0],j=Z[1],K[U.index]=U,G){G*=Math.PI/180;var z=Math.cos(G),O=Math.sin(G),R=function(M){return M.toFixed(4)},V=[R(z),R(O),R(-1*O),R(z),0,0,"cm"]}this.internal.write("q"),G?(this.internal.write([1,"0","0",1,nt(N),tt(L+j),"cm"].join(" ")),this.internal.write(V.join(" ")),this.internal.write([nt(C),"0","0",nt(j),"0","0","cm"].join(" "))):this.internal.write([nt(C),"0","0",nt(j),nt(N),tt(L+j),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+U.index+" Do"),this.internal.write("Q")},A=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},g=n.__addimage__.sHashCode=function(N){var L,C,j=0;if(typeof N=="string")for(C=N.length,L=0;L<C;L++)j=(j<<5)-j+N.charCodeAt(L),j|=0;else if(I(N))for(C=N.byteLength/2,L=0;L<C;L++)j=(j<<5)-j+N[L],j|=0;return j},y=n.__addimage__.validateStringAsBase64=function(N){(N=N||"").toString().trim();var L=!0;return N.length===0&&(L=!1),N.length%4!=0&&(L=!1),/^[A-Za-z0-9+/]+$/.test(N.substr(0,N.length-2))===!1&&(L=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(N.substr(-2))===!1&&(L=!1),L},b=n.__addimage__.extractImageFromDataUrl=function(N){var L=(N=N||"").split("base64,"),C=null;if(L.length===2){var j=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(L[0]);Array.isArray(j)&&(C={mimeType:j[1],charset:j[2],data:L[1]})}return C},x=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(N){return x()&&N instanceof ArrayBuffer};var I=n.__addimage__.isArrayBufferView=function(N){return x()&&typeof Uint32Array<"u"&&(N instanceof Int8Array||N instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&N instanceof Uint8ClampedArray||N instanceof Int16Array||N instanceof Uint16Array||N instanceof Int32Array||N instanceof Uint32Array||N instanceof Float32Array||N instanceof Float64Array)},P=n.__addimage__.binaryStringToUint8Array=function(N){for(var L=N.length,C=new Uint8Array(L),j=0;j<L;j++)C[j]=N.charCodeAt(j);return C},E=n.__addimage__.arrayBufferToBinaryString=function(N){for(var L="",C=I(N)?N:new Uint8Array(N),j=0;j<C.length;j+=8192)L+=String.fromCharCode.apply(null,C.subarray(j,j+8192));return L};n.addImage=function(){var N,L,C,j,U,G,Z,nt,tt;if(typeof arguments[1]=="number"?(L=t,C=arguments[1],j=arguments[2],U=arguments[3],G=arguments[4],Z=arguments[5],nt=arguments[6],tt=arguments[7]):(L=arguments[1],C=arguments[2],j=arguments[3],U=arguments[4],G=arguments[5],Z=arguments[6],nt=arguments[7],tt=arguments[8]),He(N=arguments[0])==="object"&&!h(N)&&"imageData"in N){var K=N;N=K.imageData,L=K.format||L||t,C=K.x||C||0,j=K.y||j||0,U=K.w||K.width||U,G=K.h||K.height||G,Z=K.alias||Z,nt=K.compression||nt,tt=K.rotation||K.angle||tt}var z=this.internal.getFilters();if(nt===void 0&&z.indexOf("FlateEncode")!==-1&&(nt="SLOW"),isNaN(C)||isNaN(j))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var O=B.call(this,N,L,Z,nt);return _.call(this,C,j,U,G,O,tt),this};var B=function(N,L,C,j){var U,G,Z;if(typeof N=="string"&&r(N)===t){N=unescape(N);var nt=D(N,!1);(nt!==""||(nt=n.loadFile(N,!0))!==void 0)&&(N=nt)}if(h(N)&&(N=f(N,L)),L=r(N,L),!p(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(((Z=C)==null||Z.length===0)&&(C=function(tt){return typeof tt=="string"||I(tt)?g(tt):I(tt.data)?g(tt.data):null}(N)),(U=a.call(this,C))||(x()&&(N instanceof Uint8Array||L==="RGBA"||(G=N,N=P(N))),U=this["process"+L.toUpperCase()](N,d.call(this),C,function(tt){return tt&&typeof tt=="string"&&(tt=tt.toUpperCase()),tt in n.image_compression?tt:v.NONE}(j),G)),!U)throw new Error("An unknown error occurred whilst processing the image.");return U},D=n.__addimage__.convertBase64ToBinaryString=function(N,L){var C;L=typeof L!="boolean"||L;var j,U="";if(typeof N=="string"){j=(C=b(N))!==null?C.data:N;try{U=la(j)}catch(G){if(L)throw y(j)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+G.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return U};n.getImageProperties=function(N){var L,C,j="";if(h(N)&&(N=f(N)),typeof N=="string"&&r(N)===t&&((j=D(N,!1))===""&&(j=n.loadFile(N)||""),N=j),C=r(N),!p(C))throw new Error("addImage does not support files of type '"+C+"', please ensure that a plugin for '"+C+"' support is added.");if(!x()||N instanceof Uint8Array||(N=P(N)),!(L=this["process"+C.toUpperCase()](N)))throw new Error("An unknown error occurred whilst processing the image");return L.fileType=C,L}})(ae.API),function(n){var t=function(e){if(e!==void 0&&e!="")return!0};ae.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(e){for(var r,i,o,s=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(e.objId),d=e.pageContext.annotations,p=!1,h=0;h<d.length&&!p;h++)switch((r=d[h]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var f=0;f<d.length;f++){r=d[f];var a=this.internal.pdfEscape,m=this.internal.getEncryptor(e.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var _=this.internal.newAdditionalObject(),A=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(_.objId),g=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+l(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y)+"] ")+"/Contents ("+a(v(r.contents))+")",o+=" /Popup "+A.objId+" 0 R",o+=" /P "+u.objId+" 0 R",o+=" /T ("+a(v(g))+") >>",_.content=o;var y=_.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+l(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+l(r.bounds.y)+"] ")+" /Parent "+y,r.open&&(o+=" /Open true"),o+=" >>",A.content=o,this.internal.write(_.objId,"0 R",A.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+l(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y+r.bounds.h)+"] ";var b=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+a(m(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+b+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var x=this.annotations._nameMap[r.options.name];r.options.pageNumber=x.page,r.options.top=x.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+a(m(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var I=l(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+I+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(e){var r=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":r.pageContext.annotations.push(e)}},n.link=function(e,r,i,o,s){var l=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:u(e),y:d(r),w:u(e+i),h:d(r+o)},options:s,type:"link"})},n.textWithLink=function(e,r,i,o){var s,l,u=this.getTextWidth(e),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){l=o.maxWidth;var p=this.splitTextToSize(e,l).length;s=Math.ceil(d*p)}else l=u,s=d;return this.text(e,r,i,o),i+=.2*d,o.align==="center"&&(r-=u/2),o.align==="right"&&(r-=u),this.link(r,i-d,l,s,o),u},n.getTextWidth=function(e){var r=this.internal.getFontSize();return this.getStringUnitWidth(e)*r/this.internal.scaleFactor}}(ae.API),function(n){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(_){return t[_.charCodeAt(0)]!==void 0},s=n.__arabicParser__.isArabicLetter=function(_){return typeof _=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(_)},l=n.__arabicParser__.isArabicEndLetter=function(_){return s(_)&&o(_)&&t[_.charCodeAt(0)].length<=2},u=n.__arabicParser__.isArabicAlfLetter=function(_){return s(_)&&i.indexOf(_.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(_){return s(_)&&o(_)&&t[_.charCodeAt(0)].length>=1};var d=n.__arabicParser__.arabicLetterHasFinalForm=function(_){return s(_)&&o(_)&&t[_.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(_){return s(_)&&o(_)&&t[_.charCodeAt(0)].length>=3};var p=n.__arabicParser__.arabicLetterHasMedialForm=function(_){return s(_)&&o(_)&&t[_.charCodeAt(0)].length==4},h=n.__arabicParser__.resolveLigatures=function(_){var A=0,v=e,g="",y=0;for(A=0;A<_.length;A+=1)v[_.charCodeAt(A)]!==void 0?(y++,typeof(v=v[_.charCodeAt(A)])=="number"&&(g+=String.fromCharCode(v),v=e,y=0),A===_.length-1&&(v=e,g+=_.charAt(A-(y-1)),A-=y-1,y=0)):(v=e,g+=_.charAt(A-y),A-=y,y=0);return g};n.__arabicParser__.isArabicDiacritic=function(_){return _!==void 0&&r[_.charCodeAt(0)]!==void 0};var f=n.__arabicParser__.getCorrectForm=function(_,A,v){return s(_)?o(_)===!1?-1:!d(_)||!s(A)&&!s(v)||!s(v)&&l(A)||l(_)&&!s(A)||l(_)&&u(A)||l(_)&&l(A)?0:p(_)&&s(A)&&!l(A)&&s(v)&&d(v)?3:l(_)||!s(v)?1:2:-1},a=function(_){var A=0,v=0,g=0,y="",b="",x="",I=(_=_||"").split("\\s+"),P=[];for(A=0;A<I.length;A+=1){for(P.push(""),v=0;v<I[A].length;v+=1)y=I[A][v],b=I[A][v-1],x=I[A][v+1],s(y)?(g=f(y,b,x),P[A]+=g!==-1?String.fromCharCode(t[y.charCodeAt(0)][g]):y):P[A]+=y;P[A]=h(P[A])}return P.join(" ")},m=n.__arabicParser__.processArabic=n.processArabic=function(){var _,A=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(A)){var g=0;for(v=[],g=0;g<A.length;g+=1)Array.isArray(A[g])?v.push([a(A[g][0]),A[g][1],A[g][2]]):v.push([a(A[g])]);_=v}else _=a(A);return typeof arguments[0]=="string"?_:(arguments[0].text=_,arguments[0])};n.events.push(["preProcessText",m])}(ae.API),ae.API.autoPrint=function(n){var t;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(n){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(l){e=l}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(l){r=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(l){o=l}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(l){s=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,r){var i;if((e=e||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(ae.API),function(n){var t={left:0,top:0,bottom:0,right:0},e=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(_){u=_}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(_){d=_}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(_){p=_}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(_){h=_}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(_){f=_}});var a=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return a},set:function(_){a=_}});var m=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return m},set:function(_){m=_}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(u){return r.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},n.getTextDimensions=function(u,d){r.call(this);var p=(d=d||{}).fontSize||this.getFontSize(),h=d.font||this.getFont(),f=d.scaleFactor||this.internal.scaleFactor,a=0,m=0,_=0,A=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var v=d.maxWidth;v>0?typeof u=="string"?u=this.splitTextToSize(u,v):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(y,b){return y.concat(A.splitTextToSize(b,v))},[])):u=Array.isArray(u)?u:[u];for(var g=0;g<u.length;g++)a<(_=this.getStringUnitWidth(u[g],{font:h})*p)&&(a=_);return a!==0&&(m=u.length),{w:a/=f,h:Math.max((m*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/f,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var u=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new o(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=n.cell=function(){var u;u=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var d=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,h=this.internal.__cell__.margins||t,f=this.internal.__cell__.tableHeaderRow,a=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===u.lineNumber?(u.x=(d.x||0)+(d.width||0),u.y=d.y||0):d.y+d.height+u.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=h.top,a&&f&&(this.printHeaderRow(u.lineNumber,!0),u.y+=f[0].height)):u.y=d.y+d.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,e===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-p,u.y+p,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+p,{align:"center",baseline:"top",maxWidth:u.width-p-p}):this.text(u.text,u.x+p,u.y+p,{align:"left",baseline:"top",maxWidth:u.width-p-p})),this.internal.__cell__.lastCell=u,this};n.table=function(u,d,p,h,f){if(r.call(this),!p)throw new Error("No data for PDF table.");var a,m,_,A,v=[],g=[],y=[],b={},x={},I=[],P=[],E=(f=f||{}).autoSize||!1,B=f.printHeaders!==!1,D=f.css&&f.css["font-size"]!==void 0?16*f.css["font-size"]:f.fontSize||12,N=f.margins||Object.assign({width:this.getPageWidth()},t),L=typeof f.padding=="number"?f.padding:3,C=f.headerBackgroundColor||"#c8c8c8",j=f.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=B,this.internal.__cell__.margins=N,this.internal.__cell__.table_font_size=D,this.internal.__cell__.padding=L,this.internal.__cell__.headerBackgroundColor=C,this.internal.__cell__.headerTextColor=j,this.setFontSize(D),h==null)g=v=Object.keys(p[0]),y=v.map(function(){return"left"});else if(Array.isArray(h)&&He(h[0])==="object")for(v=h.map(function(K){return K.name}),g=h.map(function(K){return K.prompt||K.name||""}),y=h.map(function(K){return K.align||"left"}),a=0;a<h.length;a+=1)x[h[a].name]=h[a].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(g=v=h,y=v.map(function(){return"left"}));if(E||Array.isArray(h)&&typeof h[0]=="string")for(a=0;a<v.length;a+=1){for(b[A=v[a]]=p.map(function(K){return K[A]}),this.setFont(void 0,"bold"),I.push(this.getTextDimensions(g[a],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),m=b[A],this.setFont(void 0,"normal"),_=0;_<m.length;_+=1)I.push(this.getTextDimensions(m[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);x[A]=Math.max.apply(null,I)+L+L,I=[]}if(B){var U={};for(a=0;a<v.length;a+=1)U[v[a]]={},U[v[a]].text=g[a],U[v[a]].align=y[a];var G=l.call(this,U,x);P=v.map(function(K){return new o(u,d,x[K],G,U[K].text,void 0,U[K].align)}),this.setTableHeaderRow(P),this.printHeaderRow(1,!1)}var Z=h.reduce(function(K,z){return K[z.name]=z.align,K},{});for(a=0;a<p.length;a+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:a,data:p[a]},this);var nt=l.call(this,p[a],x);for(_=0;_<v.length;_+=1){var tt=p[a][v[_]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:a,col:_,data:tt},this),s.call(this,new o(u,d,x[v[_]],nt,tt,a+2,Z[v[_]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=d,this};var l=function(u,d){var p=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(u).map(function(a){var m=u[a];return this.splitTextToSize(m.hasOwnProperty("text")?m.text:m,d[a]-p-p)},this).map(function(a){return this.getLineHeightFactor()*a.length*h/f+p+p},this).reduce(function(a,m){return Math.max(a,m)},0)};n.setTableHeaderRow=function(u){r.call(this),this.internal.__cell__.tableHeaderRow=u},n.printHeaderRow=function(u,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],a=0;a<this.internal.__cell__.tableHeaderRow.length;a+=1){p=this.internal.__cell__.tableHeaderRow[a].clone(),d&&(p.y=this.internal.__cell__.margins.top||0,f.push(p)),p.lineNumber=u;var m=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,p),this.setTextColor(m)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),e=!1}}(ae.API);var Yh={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Jh=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],sc=Kh(Jh),Xh=[100,200,300,400,500,600,700,800,900],I0=Kh(Xh);function ac(n){var t=n.family.replace(/"|'/g,"").toLowerCase(),e=function(o){return Yh[o=o||"normal"]?o:"normal"}(n.style),r=function(o){if(!o)return 400;if(typeof o=="number")return o>=100&&o<=900&&o%100==0?o:400;if(/^\d00$/.test(o))return parseInt(o);switch(o){case"bold":return 700;case"normal":default:return 400}}(n.weight),i=function(o){return typeof sc[o=o||"normal"]=="number"?o:"normal"}(n.stretch);return{family:t,style:e,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:t,style:[i,e,r].join(" ")}}}function jf(n,t,e,r){var i;for(i=e;i>=0&&i<t.length;i+=r)if(n[t[i]])return n[t[i]];for(i=e;i>=0&&i<t.length;i-=r)if(n[t[i]])return n[t[i]]}var j0={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Mf={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Df(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function M0(n,t,e){for(var r=(e=e||{}).defaultFontFamily||"times",i=Object.assign({},j0,e.genericFontFamilies||{}),o=null,s=null,l=0;l<t.length;++l)if(i[(o=ac(t[l])).family]&&(o.family=i[o.family]),n.hasOwnProperty(o.family)){s=n[o.family];break}if(!(s=s||n[r]))throw new Error("Could not find a font-family for the rule '"+Df(o)+"' and default family '"+r+"'.");if(s=function(u,d){if(d[u])return d[u];var p=sc[u],h=p<=sc.normal?-1:1,f=jf(d,Jh,p,h);if(!f)throw new Error("Could not find a matching font-stretch value for "+u);return f}(o.stretch,s),s=function(u,d){if(d[u])return d[u];for(var p=Yh[u],h=0;h<p.length;++h)if(d[p[h]])return d[p[h]];throw new Error("Could not find a matching font-style for "+u)}(o.style,s),!(s=function(u,d){if(d[u])return d[u];if(u===400&&d[500])return d[500];if(u===500&&d[400])return d[400];var p=I0[u],h=jf(d,Xh,p,u<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+u);return h}(o.weight,s)))throw new Error("Failed to resolve a font for the rule '"+Df(o)+"'.");return s}function Rf(n){return n.trimLeft()}function D0(n,t){for(var e=0;e<n.length;){if(n.charAt(e)===t)return[n.substring(0,e),n.substring(e+1)];e+=1}return null}function R0(n){var t=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],n.substring(t[0].length)]}var pl,qf,Ff,Mu=["times"];(function(n){var t,e,r,i,o,s,l,u,d,p=function(O){return O=O||{},this.isStrokeTransparent=O.isStrokeTransparent||!1,this.strokeOpacity=O.strokeOpacity||1,this.strokeStyle=O.strokeStyle||"#000000",this.fillStyle=O.fillStyle||"#000000",this.isFillTransparent=O.isFillTransparent||!1,this.fillOpacity=O.fillOpacity||1,this.font=O.font||"10px sans-serif",this.textBaseline=O.textBaseline||"alphabetic",this.textAlign=O.textAlign||"left",this.lineWidth=O.lineWidth||1,this.lineJoin=O.lineJoin||"miter",this.lineCap=O.lineCap||"butt",this.path=O.path||[],this.transform=O.transform!==void 0?O.transform.clone():new u,this.globalCompositeOperation=O.globalCompositeOperation||"normal",this.globalAlpha=O.globalAlpha||1,this.clip_path=O.clip_path||[],this.currentPoint=O.currentPoint||new s,this.miterLimit=O.miterLimit||10,this.lastPoint=O.lastPoint||new s,this.lineDashOffset=O.lineDashOffset||0,this.lineDash=O.lineDash||[],this.margin=O.margin||[0,0,0,0],this.prevPageLastElemOffset=O.prevPageLastElemOffset||0,this.ignoreClearRect=typeof O.ignoreClearRect!="boolean"||O.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new h(this),t=this.internal.f2,e=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,s=this.internal.Point,l=this.internal.Rectangle,u=this.internal.Matrix,d=new p}]);var h=function(O){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var R=O;Object.defineProperty(this,"pdf",{get:function(){return R}});var V=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return V},set:function(bt){V=!!bt}});var M=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return M},set:function(bt){M=!!bt}});var T=0;Object.defineProperty(this,"posX",{get:function(){return T},set:function(bt){isNaN(bt)||(T=bt)}});var F=0;Object.defineProperty(this,"posY",{get:function(){return F},set:function(bt){isNaN(bt)||(F=bt)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(bt){var it;typeof bt=="number"?it=[bt,bt,bt,bt]:((it=new Array(4))[0]=bt[0],it[1]=bt.length>=2?bt[1]:it[0],it[2]=bt.length>=3?bt[2]:it[0],it[3]=bt.length>=4?bt[3]:it[1]),d.margin=it}});var H=!1;Object.defineProperty(this,"autoPaging",{get:function(){return H},set:function(bt){H=bt}});var X=0;Object.defineProperty(this,"lastBreak",{get:function(){return X},set:function(bt){X=bt}});var st=[];Object.defineProperty(this,"pageBreaks",{get:function(){return st},set:function(bt){st=bt}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(bt){bt instanceof p&&(d=bt)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(bt){d.path=bt}});var ut=[];Object.defineProperty(this,"ctxStack",{get:function(){return ut},set:function(bt){ut=bt}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(bt){var it;it=f(bt),this.ctx.fillStyle=it.style,this.ctx.isFillTransparent=it.a===0,this.ctx.fillOpacity=it.a,this.pdf.setFillColor(it.r,it.g,it.b,{a:it.a}),this.pdf.setTextColor(it.r,it.g,it.b,{a:it.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(bt){var it=f(bt);this.ctx.strokeStyle=it.style,this.ctx.isStrokeTransparent=it.a===0,this.ctx.strokeOpacity=it.a,it.a===0?this.pdf.setDrawColor(255,255,255):(it.a,this.pdf.setDrawColor(it.r,it.g,it.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(bt){["butt","round","square"].indexOf(bt)!==-1&&(this.ctx.lineCap=bt,this.pdf.setLineCap(bt))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(bt){isNaN(bt)||(this.ctx.lineWidth=bt,this.pdf.setLineWidth(bt))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(bt){["bevel","round","miter"].indexOf(bt)!==-1&&(this.ctx.lineJoin=bt,this.pdf.setLineJoin(bt))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(bt){isNaN(bt)||(this.ctx.miterLimit=bt,this.pdf.setMiterLimit(bt))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(bt){this.ctx.textBaseline=bt}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(bt){["right","end","center","left","start"].indexOf(bt)!==-1&&(this.ctx.textAlign=bt)}});var Nt=null;function At(bt,it){if(Nt===null){var Wt=function(dt){var at=[];return Object.keys(dt).forEach(function(lt){dt[lt].forEach(function(yt){var pt=null;switch(yt){case"bold":pt={family:lt,weight:"bold"};break;case"italic":pt={family:lt,style:"italic"};break;case"bolditalic":pt={family:lt,weight:"bold",style:"italic"};break;case"":case"normal":pt={family:lt}}pt!==null&&(pt.ref={name:lt,style:yt},at.push(pt))})}),at}(bt.getFontList());Nt=function(dt){for(var at={},lt=0;lt<dt.length;++lt){var yt=ac(dt[lt]),pt=yt.family,Ct=yt.stretch,Tt=yt.style,Rt=yt.weight;at[pt]=at[pt]||{},at[pt][Ct]=at[pt][Ct]||{},at[pt][Ct][Tt]=at[pt][Ct][Tt]||{},at[pt][Ct][Tt][Rt]=yt}return at}(Wt.concat(it))}return Nt}var Pt=null;Object.defineProperty(this,"fontFaces",{get:function(){return Pt},set:function(bt){Nt=null,Pt=bt}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(bt){var it;if(this.ctx.font=bt,(it=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(bt))!==null){var Wt=it[1],dt=(it[2],it[3]),at=it[4],lt=(it[5],it[6]),yt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(at)[2];at=Math.floor(yt==="px"?parseFloat(at)*this.pdf.internal.scaleFactor:yt==="em"?parseFloat(at)*this.pdf.getFontSize():parseFloat(at)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(at);var pt=function(Xt){var zt,Ut,on=[],Le=Xt.trim();if(Le==="")return Mu;if(Le in Mf)return[Mf[Le]];for(;Le!=="";){switch(Ut=null,zt=(Le=Rf(Le)).charAt(0)){case'"':case"'":Ut=D0(Le.substring(1),zt);break;default:Ut=R0(Le)}if(Ut===null||(on.push(Ut[0]),(Le=Rf(Ut[1]))!==""&&Le.charAt(0)!==","))return Mu;Le=Le.replace(/^,/,"")}return on}(lt);if(this.fontFaces){var Ct=M0(At(this.pdf,this.fontFaces),pt.map(function(Xt){return{family:Xt,stretch:"normal",weight:dt,style:Wt}}));this.pdf.setFont(Ct.ref.name,Ct.ref.style)}else{var Tt="";(dt==="bold"||parseInt(dt,10)>=700||Wt==="bold")&&(Tt="bold"),Wt==="italic"&&(Tt+="italic"),Tt.length===0&&(Tt="normal");for(var Rt="",Ht={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Yt=0;Yt<pt.length;Yt++){if(this.pdf.internal.getFont(pt[Yt],Tt,{noFallback:!0,disableWarning:!0})!==void 0){Rt=pt[Yt];break}if(Tt==="bolditalic"&&this.pdf.internal.getFont(pt[Yt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Rt=pt[Yt],Tt="bold";else if(this.pdf.internal.getFont(pt[Yt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Rt=pt[Yt],Tt="normal";break}}if(Rt===""){for(var Vt=0;Vt<pt.length;Vt++)if(Ht[pt[Vt]]){Rt=Ht[pt[Vt]];break}}Rt=Rt===""?"Times":Rt,this.pdf.setFont(Rt,Tt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(bt){this.ctx.globalCompositeOperation=bt}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(bt){this.ctx.globalAlpha=bt}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(bt){this.ctx.lineDashOffset=bt,z.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(bt){this.ctx.lineDash=bt,z.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(bt){this.ctx.ignoreClearRect=!!bt}})};h.prototype.setLineDash=function(O){this.lineDash=O},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){b.call(this,"fill",!1)},h.prototype.stroke=function(){b.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(O,R){if(isNaN(O)||isNaN(R))throw Ye.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var V=this.ctx.transform.applyToPoint(new s(O,R));this.path.push({type:"mt",x:V.x,y:V.y}),this.ctx.lastPoint=new s(O,R)},h.prototype.closePath=function(){var O=new s(0,0),R=0;for(R=this.path.length-1;R!==-1;R--)if(this.path[R].type==="begin"&&He(this.path[R+1])==="object"&&typeof this.path[R+1].x=="number"){O=new s(this.path[R+1].x,this.path[R+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(O.x,O.y)},h.prototype.lineTo=function(O,R){if(isNaN(O)||isNaN(R))throw Ye.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var V=this.ctx.transform.applyToPoint(new s(O,R));this.path.push({type:"lt",x:V.x,y:V.y}),this.ctx.lastPoint=new s(V.x,V.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),b.call(this,null,!0)},h.prototype.quadraticCurveTo=function(O,R,V,M){if(isNaN(V)||isNaN(M)||isNaN(O)||isNaN(R))throw Ye.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var T=this.ctx.transform.applyToPoint(new s(V,M)),F=this.ctx.transform.applyToPoint(new s(O,R));this.path.push({type:"qct",x1:F.x,y1:F.y,x:T.x,y:T.y}),this.ctx.lastPoint=new s(T.x,T.y)},h.prototype.bezierCurveTo=function(O,R,V,M,T,F){if(isNaN(T)||isNaN(F)||isNaN(O)||isNaN(R)||isNaN(V)||isNaN(M))throw Ye.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var H=this.ctx.transform.applyToPoint(new s(T,F)),X=this.ctx.transform.applyToPoint(new s(O,R)),st=this.ctx.transform.applyToPoint(new s(V,M));this.path.push({type:"bct",x1:X.x,y1:X.y,x2:st.x,y2:st.y,x:H.x,y:H.y}),this.ctx.lastPoint=new s(H.x,H.y)},h.prototype.arc=function(O,R,V,M,T,F){if(isNaN(O)||isNaN(R)||isNaN(V)||isNaN(M)||isNaN(T))throw Ye.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(F=!!F,!this.ctx.transform.isIdentity){var H=this.ctx.transform.applyToPoint(new s(O,R));O=H.x,R=H.y;var X=this.ctx.transform.applyToPoint(new s(0,V)),st=this.ctx.transform.applyToPoint(new s(0,0));V=Math.sqrt(Math.pow(X.x-st.x,2)+Math.pow(X.y-st.y,2))}Math.abs(T-M)>=2*Math.PI&&(M=0,T=2*Math.PI),this.path.push({type:"arc",x:O,y:R,radius:V,startAngle:M,endAngle:T,counterclockwise:F})},h.prototype.arcTo=function(O,R,V,M,T){throw new Error("arcTo not implemented.")},h.prototype.rect=function(O,R,V,M){if(isNaN(O)||isNaN(R)||isNaN(V)||isNaN(M))throw Ye.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(O,R),this.lineTo(O+V,R),this.lineTo(O+V,R+M),this.lineTo(O,R+M),this.lineTo(O,R),this.lineTo(O+V,R),this.lineTo(O,R)},h.prototype.fillRect=function(O,R,V,M){if(isNaN(O)||isNaN(R)||isNaN(V)||isNaN(M))throw Ye.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!a.call(this)){var T={};this.lineCap!=="butt"&&(T.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(T.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(O,R,V,M),this.fill(),T.hasOwnProperty("lineCap")&&(this.lineCap=T.lineCap),T.hasOwnProperty("lineJoin")&&(this.lineJoin=T.lineJoin)}},h.prototype.strokeRect=function(O,R,V,M){if(isNaN(O)||isNaN(R)||isNaN(V)||isNaN(M))throw Ye.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(O,R,V,M),this.stroke())},h.prototype.clearRect=function(O,R,V,M){if(isNaN(O)||isNaN(R)||isNaN(V)||isNaN(M))throw Ye.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(O,R,V,M))},h.prototype.save=function(O){O=typeof O!="boolean"||O;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("q");if(this.pdf.setPage(R),O){this.ctx.fontSize=this.pdf.internal.getFontSize();var M=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=M}},h.prototype.restore=function(O){O=typeof O!="boolean"||O;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("Q");this.pdf.setPage(R),O&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(O){var R,V,M,T;if(O.isCanvasGradient===!0&&(O=O.getColor()),!O)return{r:0,g:0,b:0,a:0,style:O};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(O))R=0,V=0,M=0,T=0;else{var F=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(O);if(F!==null)R=parseInt(F[1]),V=parseInt(F[2]),M=parseInt(F[3]),T=1;else if((F=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(O))!==null)R=parseInt(F[1]),V=parseInt(F[2]),M=parseInt(F[3]),T=parseFloat(F[4]);else{if(T=1,typeof O=="string"&&O.charAt(0)!=="#"){var H=new zh(O);O=H.ok?H.toHex():"#000000"}O.length===4?(R=O.substring(1,2),R+=R,V=O.substring(2,3),V+=V,M=O.substring(3,4),M+=M):(R=O.substring(1,3),V=O.substring(3,5),M=O.substring(5,7)),R=parseInt(R,16),V=parseInt(V,16),M=parseInt(M,16)}}return{r:R,g:V,b:M,a:T,style:O}},a=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},m=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(O,R,V,M){if(isNaN(R)||isNaN(V)||typeof O!="string")throw Ye.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(M=isNaN(M)?void 0:M,!a.call(this)){var T=nt(this.ctx.transform.rotation),F=this.ctx.transform.scaleX;L.call(this,{text:O,x:R,y:V,scale:F,angle:T,align:this.textAlign,maxWidth:M})}},h.prototype.strokeText=function(O,R,V,M){if(isNaN(R)||isNaN(V)||typeof O!="string")throw Ye.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){M=isNaN(M)?void 0:M;var T=nt(this.ctx.transform.rotation),F=this.ctx.transform.scaleX;L.call(this,{text:O,x:R,y:V,scale:F,renderingMode:"stroke",angle:T,align:this.textAlign,maxWidth:M})}},h.prototype.measureText=function(O){if(typeof O!="string")throw Ye.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var R=this.pdf,V=this.pdf.internal.scaleFactor,M=R.internal.getFontSize(),T=R.getStringUnitWidth(O)*M/R.internal.scaleFactor,F=function(H){var X=(H=H||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return X}}),this};return new F({width:T*=Math.round(96*V/72*1e4)/1e4})},h.prototype.scale=function(O,R){if(isNaN(O)||isNaN(R))throw Ye.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var V=new u(O,0,0,R,0,0);this.ctx.transform=this.ctx.transform.multiply(V)},h.prototype.rotate=function(O){if(isNaN(O))throw Ye.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var R=new u(Math.cos(O),Math.sin(O),-Math.sin(O),Math.cos(O),0,0);this.ctx.transform=this.ctx.transform.multiply(R)},h.prototype.translate=function(O,R){if(isNaN(O)||isNaN(R))throw Ye.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var V=new u(1,0,0,1,O,R);this.ctx.transform=this.ctx.transform.multiply(V)},h.prototype.transform=function(O,R,V,M,T,F){if(isNaN(O)||isNaN(R)||isNaN(V)||isNaN(M)||isNaN(T)||isNaN(F))throw Ye.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var H=new u(O,R,V,M,T,F);this.ctx.transform=this.ctx.transform.multiply(H)},h.prototype.setTransform=function(O,R,V,M,T,F){O=isNaN(O)?1:O,R=isNaN(R)?0:R,V=isNaN(V)?0:V,M=isNaN(M)?1:M,T=isNaN(T)?0:T,F=isNaN(F)?0:F,this.ctx.transform=new u(O,R,V,M,T,F)};var _=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(O,R,V,M,T,F,H,X,st){var ut=this.pdf.getImageProperties(O),Nt=1,At=1,Pt=1,bt=1;M!==void 0&&X!==void 0&&(Pt=X/M,bt=st/T,Nt=ut.width/M*X/M,At=ut.height/T*st/T),F===void 0&&(F=R,H=V,R=0,V=0),M!==void 0&&X===void 0&&(X=M,st=T),M===void 0&&X===void 0&&(X=ut.width,st=ut.height);for(var it,Wt=this.ctx.transform.decompose(),dt=nt(Wt.rotate.shx),at=new u,lt=(at=(at=(at=at.multiply(Wt.translate)).multiply(Wt.skew)).multiply(Wt.scale)).applyToRectangle(new l(F-R*Pt,H-V*bt,M*Nt,T*At)),yt=A.call(this,lt),pt=[],Ct=0;Ct<yt.length;Ct+=1)pt.indexOf(yt[Ct])===-1&&pt.push(yt[Ct]);if(y(pt),this.autoPaging)for(var Tt=pt[0],Rt=pt[pt.length-1],Ht=Tt;Ht<Rt+1;Ht++){this.pdf.setPage(Ht);var Yt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Vt=Ht===1?this.posY+this.margin[0]:this.margin[0],Xt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],zt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ut=Ht===1?0:Xt+(Ht-2)*zt;if(this.ctx.clip_path.length!==0){var on=this.path;it=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=g(it,this.posX+this.margin[3],-Ut+Vt+this.ctx.prevPageLastElemOffset),x.call(this,"fill",!0),this.path=on}var Le=JSON.parse(JSON.stringify(lt));Le=g([Le],this.posX+this.margin[3],-Ut+Vt+this.ctx.prevPageLastElemOffset)[0];var $n=(Ht>Tt||Ht<Rt)&&_.call(this);$n&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Yt,zt,null).clip().discardPath()),this.pdf.addImage(O,"JPEG",Le.x,Le.y,Le.w,Le.h,null,null,dt),$n&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(O,"JPEG",lt.x,lt.y,lt.w,lt.h,null,null,dt)};var A=function(O,R,V){var M=[];R=R||this.pdf.internal.pageSize.width,V=V||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var T=this.posY+this.ctx.prevPageLastElemOffset;switch(O.type){default:case"mt":case"lt":M.push(Math.floor((O.y+T)/V)+1);break;case"arc":M.push(Math.floor((O.y+T-O.radius)/V)+1),M.push(Math.floor((O.y+T+O.radius)/V)+1);break;case"qct":var F=tt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x,O.y);M.push(Math.floor((F.y+T)/V)+1),M.push(Math.floor((F.y+F.h+T)/V)+1);break;case"bct":var H=K(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x2,O.y2,O.x,O.y);M.push(Math.floor((H.y+T)/V)+1),M.push(Math.floor((H.y+H.h+T)/V)+1);break;case"rect":M.push(Math.floor((O.y+T)/V)+1),M.push(Math.floor((O.y+O.h+T)/V)+1)}for(var X=0;X<M.length;X+=1)for(;this.pdf.internal.getNumberOfPages()<M[X];)v.call(this);return M},v=function(){var O=this.fillStyle,R=this.strokeStyle,V=this.font,M=this.lineCap,T=this.lineWidth,F=this.lineJoin;this.pdf.addPage(),this.fillStyle=O,this.strokeStyle=R,this.font=V,this.lineCap=M,this.lineWidth=T,this.lineJoin=F},g=function(O,R,V){for(var M=0;M<O.length;M++)switch(O[M].type){case"bct":O[M].x2+=R,O[M].y2+=V;case"qct":O[M].x1+=R,O[M].y1+=V;case"mt":case"lt":case"arc":default:O[M].x+=R,O[M].y+=V}return O},y=function(O){return O.sort(function(R,V){return R-V})},b=function(O,R){for(var V,M,T=this.fillStyle,F=this.strokeStyle,H=this.lineCap,X=this.lineWidth,st=Math.abs(X*this.ctx.transform.scaleX),ut=this.lineJoin,Nt=JSON.parse(JSON.stringify(this.path)),At=JSON.parse(JSON.stringify(this.path)),Pt=[],bt=0;bt<At.length;bt++)if(At[bt].x!==void 0)for(var it=A.call(this,At[bt]),Wt=0;Wt<it.length;Wt+=1)Pt.indexOf(it[Wt])===-1&&Pt.push(it[Wt]);for(var dt=0;dt<Pt.length;dt++)for(;this.pdf.internal.getNumberOfPages()<Pt[dt];)v.call(this);if(y(Pt),this.autoPaging)for(var at=Pt[0],lt=Pt[Pt.length-1],yt=at;yt<lt+1;yt++){this.pdf.setPage(yt),this.fillStyle=T,this.strokeStyle=F,this.lineCap=H,this.lineWidth=st,this.lineJoin=ut;var pt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ct=yt===1?this.posY+this.margin[0]:this.margin[0],Tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Rt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ht=yt===1?0:Tt+(yt-2)*Rt;if(this.ctx.clip_path.length!==0){var Yt=this.path;V=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=g(V,this.posX+this.margin[3],-Ht+Ct+this.ctx.prevPageLastElemOffset),x.call(this,O,!0),this.path=Yt}if(M=JSON.parse(JSON.stringify(Nt)),this.path=g(M,this.posX+this.margin[3],-Ht+Ct+this.ctx.prevPageLastElemOffset),R===!1||yt===0){var Vt=(yt>at||yt<lt)&&_.call(this);Vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],pt,Rt,null).clip().discardPath()),x.call(this,O,R),Vt&&this.pdf.restoreGraphicsState()}this.lineWidth=X}else this.lineWidth=st,x.call(this,O,R),this.lineWidth=X;this.path=Nt},x=function(O,R){if((O!=="stroke"||R||!m.call(this))&&(O==="stroke"||R||!a.call(this))){for(var V,M,T=[],F=this.path,H=0;H<F.length;H++){var X=F[H];switch(X.type){case"begin":T.push({begin:!0});break;case"close":T.push({close:!0});break;case"mt":T.push({start:X,deltas:[],abs:[]});break;case"lt":var st=T.length;if(F[H-1]&&!isNaN(F[H-1].x)&&(V=[X.x-F[H-1].x,X.y-F[H-1].y],st>0)){for(;st>=0;st--)if(T[st-1].close!==!0&&T[st-1].begin!==!0){T[st-1].deltas.push(V),T[st-1].abs.push(X);break}}break;case"bct":V=[X.x1-F[H-1].x,X.y1-F[H-1].y,X.x2-F[H-1].x,X.y2-F[H-1].y,X.x-F[H-1].x,X.y-F[H-1].y],T[T.length-1].deltas.push(V);break;case"qct":var ut=F[H-1].x+2/3*(X.x1-F[H-1].x),Nt=F[H-1].y+2/3*(X.y1-F[H-1].y),At=X.x+2/3*(X.x1-X.x),Pt=X.y+2/3*(X.y1-X.y),bt=X.x,it=X.y;V=[ut-F[H-1].x,Nt-F[H-1].y,At-F[H-1].x,Pt-F[H-1].y,bt-F[H-1].x,it-F[H-1].y],T[T.length-1].deltas.push(V);break;case"arc":T.push({deltas:[],abs:[],arc:!0}),Array.isArray(T[T.length-1].abs)&&T[T.length-1].abs.push(X)}}M=R?null:O==="stroke"?"stroke":"fill";for(var Wt=!1,dt=0;dt<T.length;dt++)if(T[dt].arc)for(var at=T[dt].abs,lt=0;lt<at.length;lt++){var yt=at[lt];yt.type==="arc"?E.call(this,yt.x,yt.y,yt.radius,yt.startAngle,yt.endAngle,yt.counterclockwise,void 0,R,!Wt):C.call(this,yt.x,yt.y),Wt=!0}else if(T[dt].close===!0)this.pdf.internal.out("h"),Wt=!1;else if(T[dt].begin!==!0){var pt=T[dt].start.x,Ct=T[dt].start.y;j.call(this,T[dt].deltas,pt,Ct),Wt=!0}M&&B.call(this,M),R&&D.call(this)}},I=function(O){var R=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,V=R*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return O-V;case"top":return O+R-V;case"hanging":return O+R-2*V;case"middle":return O+R/2-V;case"ideographic":return O;case"alphabetic":default:return O}},P=function(O){return O+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var O=function(){};return O.colorStops=[],O.addColorStop=function(R,V){this.colorStops.push([R,V])},O.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},O.isCanvasGradient=!0,O},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var E=function(O,R,V,M,T,F,H,X,st){for(var ut=G.call(this,V,M,T,F),Nt=0;Nt<ut.length;Nt++){var At=ut[Nt];Nt===0&&(st?N.call(this,At.x1+O,At.y1+R):C.call(this,At.x1+O,At.y1+R)),U.call(this,O,R,At.x2,At.y2,At.x3,At.y3,At.x4,At.y4)}X?D.call(this):B.call(this,H)},B=function(O){switch(O){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},D=function(){this.pdf.clip(),this.pdf.discardPath()},N=function(O,R){this.pdf.internal.out(e(O)+" "+r(R)+" m")},L=function(O){var R;switch(O.align){case"right":case"end":R="right";break;case"center":R="center";break;case"left":case"start":default:R="left"}var V=this.pdf.getTextDimensions(O.text),M=I.call(this,O.y),T=P.call(this,M)-V.h,F=this.ctx.transform.applyToPoint(new s(O.x,M)),H=this.ctx.transform.decompose(),X=new u;X=(X=(X=X.multiply(H.translate)).multiply(H.skew)).multiply(H.scale);for(var st,ut,Nt,At=this.ctx.transform.applyToRectangle(new l(O.x,M,V.w,V.h)),Pt=X.applyToRectangle(new l(O.x,T,V.w,V.h)),bt=A.call(this,Pt),it=[],Wt=0;Wt<bt.length;Wt+=1)it.indexOf(bt[Wt])===-1&&it.push(bt[Wt]);if(y(it),this.autoPaging)for(var dt=it[0],at=it[it.length-1],lt=dt;lt<at+1;lt++){this.pdf.setPage(lt);var yt=lt===1?this.posY+this.margin[0]:this.margin[0],pt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ct=this.pdf.internal.pageSize.height-this.margin[2],Tt=Ct-this.margin[0],Rt=this.pdf.internal.pageSize.width-this.margin[1],Ht=Rt-this.margin[3],Yt=lt===1?0:pt+(lt-2)*Tt;if(this.ctx.clip_path.length!==0){var Vt=this.path;st=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=g(st,this.posX+this.margin[3],-1*Yt+yt),x.call(this,"fill",!0),this.path=Vt}var Xt=g([JSON.parse(JSON.stringify(Pt))],this.posX+this.margin[3],-Yt+yt+this.ctx.prevPageLastElemOffset)[0];O.scale>=.01&&(ut=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ut*O.scale),Nt=this.lineWidth,this.lineWidth=Nt*O.scale);var zt=this.autoPaging!=="text";if(zt||Xt.y+Xt.h<=Ct){if(zt||Xt.y>=yt&&Xt.x<=Rt){var Ut=zt?O.text:this.pdf.splitTextToSize(O.text,O.maxWidth||Rt-Xt.x)[0],on=g([JSON.parse(JSON.stringify(At))],this.posX+this.margin[3],-Yt+yt+this.ctx.prevPageLastElemOffset)[0],Le=zt&&(lt>dt||lt<at)&&_.call(this);Le&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ht,Tt,null).clip().discardPath()),this.pdf.text(Ut,on.x,on.y,{angle:O.angle,align:R,renderingMode:O.renderingMode}),Le&&this.pdf.restoreGraphicsState()}}else Xt.y<Ct&&(this.ctx.prevPageLastElemOffset+=Ct-Xt.y);O.scale>=.01&&(this.pdf.setFontSize(ut),this.lineWidth=Nt)}else O.scale>=.01&&(ut=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ut*O.scale),Nt=this.lineWidth,this.lineWidth=Nt*O.scale),this.pdf.text(O.text,F.x+this.posX,F.y+this.posY,{angle:O.angle,align:R,renderingMode:O.renderingMode,maxWidth:O.maxWidth}),O.scale>=.01&&(this.pdf.setFontSize(ut),this.lineWidth=Nt)},C=function(O,R,V,M){V=V||0,M=M||0,this.pdf.internal.out(e(O+V)+" "+r(R+M)+" l")},j=function(O,R,V){return this.pdf.lines(O,R,V,null,null)},U=function(O,R,V,M,T,F,H,X){this.pdf.internal.out([t(i(V+O)),t(o(M+R)),t(i(T+O)),t(o(F+R)),t(i(H+O)),t(o(X+R)),"c"].join(" "))},G=function(O,R,V,M){for(var T=2*Math.PI,F=Math.PI/2;R>V;)R-=T;var H=Math.abs(V-R);H<T&&M&&(H=T-H);for(var X=[],st=M?-1:1,ut=R;H>1e-5;){var Nt=ut+st*Math.min(H,F);X.push(Z.call(this,O,ut,Nt)),H-=Math.abs(Nt-ut),ut=Nt}return X},Z=function(O,R,V){var M=(V-R)/2,T=O*Math.cos(M),F=O*Math.sin(M),H=T,X=-F,st=H*H+X*X,ut=st+H*T+X*F,Nt=4/3*(Math.sqrt(2*st*ut)-ut)/(H*F-X*T),At=H-Nt*X,Pt=X+Nt*H,bt=At,it=-Pt,Wt=M+R,dt=Math.cos(Wt),at=Math.sin(Wt);return{x1:O*Math.cos(R),y1:O*Math.sin(R),x2:At*dt-Pt*at,y2:At*at+Pt*dt,x3:bt*dt-it*at,y3:bt*at+it*dt,x4:O*Math.cos(V),y4:O*Math.sin(V)}},nt=function(O){return 180*O/Math.PI},tt=function(O,R,V,M,T,F){var H=O+.5*(V-O),X=R+.5*(M-R),st=T+.5*(V-T),ut=F+.5*(M-F),Nt=Math.min(O,T,H,st),At=Math.max(O,T,H,st),Pt=Math.min(R,F,X,ut),bt=Math.max(R,F,X,ut);return new l(Nt,Pt,At-Nt,bt-Pt)},K=function(O,R,V,M,T,F,H,X){var st,ut,Nt,At,Pt,bt,it,Wt,dt,at,lt,yt,pt,Ct,Tt=V-O,Rt=M-R,Ht=T-V,Yt=F-M,Vt=H-T,Xt=X-F;for(ut=0;ut<41;ut++)dt=(it=(Nt=O+(st=ut/40)*Tt)+st*((Pt=V+st*Ht)-Nt))+st*(Pt+st*(T+st*Vt-Pt)-it),at=(Wt=(At=R+st*Rt)+st*((bt=M+st*Yt)-At))+st*(bt+st*(F+st*Xt-bt)-Wt),ut==0?(lt=dt,yt=at,pt=dt,Ct=at):(lt=Math.min(lt,dt),yt=Math.min(yt,at),pt=Math.max(pt,dt),Ct=Math.max(Ct,at));return new l(Math.round(lt),Math.round(yt),Math.round(pt-lt),Math.round(Ct-yt))},z=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var O,R,V=(O=this.ctx.lineDash,R=this.ctx.lineDashOffset,JSON.stringify({lineDash:O,lineDashOffset:R}));this.prevLineDash!==V&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=V)}}})(ae.API),function(n){var t=function(o){var s,l,u,d,p,h,f,a,m,_;for(l=[],u=0,d=(o+=s="\0\0\0\0".slice(o.length%4||4)).length;d>u;u+=4)(p=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(h=(p=((p=((p=((p=(p-(_=p%85))/85)-(m=p%85))/85)-(a=p%85))/85)-(f=p%85))/85)%85,l.push(h+33,f+33,a+33,m+33,_+33)):l.push(122);return function(A,v){for(var g=v;g>0;g--)A.pop()}(l,s.length),String.fromCharCode.apply(String,l)+"~>"},e=function(o){var s,l,u,d,p,h=String,f="length",a=255,m="charCodeAt",_="slice",A="replace";for(o[_](-2),o=o[_](0,-2)[A](/\s/g,"")[A]("z","!!!!!"),u=[],d=0,p=(o+=s="uuuuu"[_](o[f]%5||5))[f];p>d;d+=5)l=52200625*(o[m](d)-33)+614125*(o[m](d+1)-33)+7225*(o[m](d+2)-33)+85*(o[m](d+3)-33)+(o[m](d+4)-33),u.push(a&l>>24,a&l>>16,a&l>>8,a&l);return function(v,g){for(var y=g;y>0;y--)v.pop()}(u,s[f]),h.fromCharCode.apply(h,u)},r=function(o){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),s.test(o)===!1)return"";for(var l="",u=0;u<o.length;u+=2)l+=String.fromCharCode("0x"+(o[u]+o[u+1]));return l},i=function(o){for(var s=new Uint8Array(o.length),l=o.length;l--;)s[l]=o.charCodeAt(l);return o=(s=ec(s)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};n.processDataByFilters=function(o,s){var l=0,u=o||"",d=[];for(typeof(s=s||[])=="string"&&(s=[s]),l=0;l<s.length;l+=1)switch(s[l]){case"ASCII85Decode":case"/ASCII85Decode":u=e(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=r(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=u.split("").map(function(p){return("0"+p.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[l]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}}(ae.API),function(n){n.loadFile=function(t,e,r){return function(i,o,s){o=o!==!1,s=typeof s=="function"?s:function(){};var l=void 0;try{l=function(u,d,p){var h=new XMLHttpRequest,f=0,a=function(m){var _=m.length,A=[],v=String.fromCharCode;for(f=0;f<_;f+=1)A.push(v(255&m.charCodeAt(f)));return A.join("")};if(h.open("GET",u,!d),h.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(h.onload=function(){h.status===200?p(a(this.responseText)):p(void 0)}),h.send(null),d&&h.status===200)return a(h.responseText)}(i,o,s)}catch{}return l}(t,e,r)},n.loadImageFile=n.loadFile}(ae.API),function(n){function t(){return(le.html2canvas?Promise.resolve(le.html2canvas):Ju(()=>import("./html2canvas.esm-e0a7d97b.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function e(){return(le.DOMPurify?Promise.resolve(le.DOMPurify):Ju(()=>import("./purify.es-dceb4668.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var r=function(s){var l=He(s);return l==="undefined"?"undefined":l==="string"||s instanceof String?"string":l==="number"||s instanceof Number?"number":l==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(s,l){var u=document.createElement(s);for(var d in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[d]=l.style[d];return u},o=function s(l){var u=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),d=s.convert(Promise.resolve(),u);return d=(d=d.setProgress(1,s,1,[s])).set(l)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(s,l){return s.__proto__=l||o.prototype,s},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(s,l){return this.then(function(){switch(l=l||function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(e).then(function(u){return this.set({src:i("div",{innerHTML:s,dompurify:u})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},o.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function u(d,p){for(var h=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),f=d.firstChild;f;f=f.nextSibling)p!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||h.appendChild(u(f,p));return d.nodeType===1&&(d.nodeName==="CANVAS"?(h.width=d.width,h.height=d.height,h.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(h.value=d.value),h.addEventListener("load",function(){h.scrollTop=d.scrollTop,h.scrollLeft=d.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(l){var u=this.opt.jsPDF,d=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var f=0;f<d.length;++f){var a=d[f],m=a.src.find(function(_){return _.format==="truetype"});m&&u.addFont(m.url,a.ref.name,a.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,u.context2d.save(!0),l(this.prop.container,h)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(s,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(s,l):this.outputPdf(s,l)},o.prototype.outputPdf=function(s,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,l)})},o.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},o.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(s){if(r(s)!=="object")return this;var l=Object.keys(s||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=s[u]};switch(u){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[u]=s[u]}}},this);return this.then(function(){return this.thenList(l)})},o.prototype.get=function(s,l){return this.then(function(){var u=s in o.template.prop?this.prop[s]:this.opt[s];return l?l(u):u})},o.prototype.setMargin=function(s){return this.then(function(){switch(r(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},o.prototype.setPageSize=function(s){function l(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(s=s||ae.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:l(s.inner.width,s.k),height:l(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},o.prototype.setProgress=function(s,l,u,d){return s!=null&&(this.progress.val=s),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(s,l,u,d){return this.setProgress(s?this.progress.val+s:null,l||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},o.prototype.then=function(s,l){var u=this;return this.thenCore(s,l,function(d,p){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(h){return u.updateProgress(null,d),h}).then(d,p).then(function(h){return u.updateProgress(1),h})})},o.prototype.thenCore=function(s,l,u){u=u||Promise.prototype.then,s&&(s=s.bind(this)),l&&(l=l.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:o.convert(Object.assign({},this),Promise.prototype),p=u.call(d,s,l);return o.convert(p,this.__proto__)},o.prototype.thenExternal=function(s,l){return Promise.prototype.then.call(this,s,l)},o.prototype.thenList=function(s){var l=this;return s.forEach(function(u){l=l.thenCore(u)}),l},o.prototype.catch=function(s){s&&(s=s.bind(this));var l=Promise.prototype.catch.call(this,s);return o.convert(l,this)},o.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},o.prototype.error=function(s){return this.then(function(){throw new Error(s)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,ae.getPageSize=function(s,l,u){if(He(s)==="object"){var d=s;s=d.orientation,l=d.unit||l,u=d.format||u}l=l||"mm",u=u||"a4",s=(""+(s||"P")).toLowerCase();var p,h=(""+u).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+l}var a,m=0,_=0;if(f.hasOwnProperty(h))m=f[h][1]/p,_=f[h][0]/p;else try{m=u[1],_=u[0]}catch{throw new Error("Invalid format: "+u)}if(s==="p"||s==="portrait")s="p",_>m&&(a=_,_=m,m=a);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",m>_&&(a=_,_=m,m=a)}return{width:_,height:m,unit:l,k:p,orientation:s}},n.html=function(s,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(ac):null;var u=new o(l);return l.worker?u:u.from(s).doCallback()}}(ae.API),ae.API.addJS=function(n){return Ff=n,this.internal.events.subscribe("postPutResources",function(){pl=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(pl+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),qf=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ff+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){pl!==void 0&&qf!==void 0&&this.internal.out("/Names <</JavaScript "+pl+" 0 R>>")}),this},function(n){var t;n.events.push(["postPutResources",function(){var e=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=e.outline.render().split(/\r\n/),o=0;o<i.length;o++){var s=i[o],l=r.exec(s);if(l!=null){var u=l[1];e.internal.newObjectDeferredBegin(u,!1)}e.internal.write(s)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,p=[];for(o=0;o<d;o++){var h=e.internal.newObject();p.push(h);var f=e.internal.getPageInfo(o+1);e.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var a=e.internal.newObject();for(e.internal.write("<< /Names [ "),o=0;o<p.length;o++)e.internal.write("(page_"+(o+1)+")"+p[o]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+a+" 0 R"),e.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),n.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(r,i,o){var s={title:i,options:o,children:[]};return r==null&&(r=this.root),r.children.push(s),s},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(r){r.id=e.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},e.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},e.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var s=r.children[o];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var l=this.count=this.count_r({count:0},s);if(l>0&&this.line("/Count "+l),s.options&&s.options.pageNumber){var u=e.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},e.outline.line=function(r){this.ctx.val+=r+`\r
`},e.outline.makeRef=function(r){return r.id+" 0 R"},e.outline.makeString=function(r){return"("+e.internal.pdfEscape(r)+")"},e.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(r,i){for(var o=0;o<i.children.length;o++)r.count++,this.count_r(r,i.children[o]);return r.count}}])}(ae.API),function(n){var t=[192,193,194,195,196,197,198,199];n.processJPEG=function(e,r,i,o,s,l){var u,d=this.decode.DCT_DECODE,p=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=s||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(u=function(h){for(var f,a=256*h.charCodeAt(4)+h.charCodeAt(5),m=h.length,_={width:0,height:0,numcomponents:1},A=4;A<m;A+=2){if(A+=a,t.indexOf(h.charCodeAt(A+1))!==-1){f=256*h.charCodeAt(A+5)+h.charCodeAt(A+6),_={width:256*h.charCodeAt(A+7)+h.charCodeAt(A+8),height:f,numcomponents:h.charCodeAt(A+9)};break}a=256*h.charCodeAt(A+2)+h.charCodeAt(A+3)}return _}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}p={data:e,width:u.width,height:u.height,colorSpace:l,bitsPerComponent:8,filter:d,index:r,alias:i}}return p}}(ae.API);var ss,gl,Bf,Uf,zf,q0=function(){var n,t,e;function r(o){var s,l,u,d,p,h,f,a,m,_,A,v,g,y;for(this.data=o,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(s=this.readUInt32(),m=(function(){var b,x;for(x=[],b=0;b<4;++b)x.push(String.fromCharCode(this.data[this.pos++]));return x}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},p=this.readUInt16(),d=this.readUInt16()||100,h.delay=1e3*p/d,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(m==="fdAT"&&(this.pos+=4,s-=4),o=(h!=null?h.data:void 0)||this.imgData,v=0;0<=s?v<s:v>s;0<=s?++v:--v)o.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(u=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>u)throw new Error("More transparent colors than palette size");if((_=u-this.transparency.indexed.length)>0)for(g=0;0<=_?g<_:g>_;0<=_?++g:--g)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":f=(A=this.read(s)).indexOf(0),a=String.fromCharCode.apply(String,A.slice(0,f)),this.text[a]=String.fromCharCode.apply(String,A.slice(f+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(y=this.colorType)===4||y===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(o){var s,l;for(l=[],s=0;0<=o?s<o:s>o;0<=o?++s:--s)l.push(this.data[this.pos++]);return l},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(o){var s=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*s),u=0,d=this;if(o==null&&(o=this.imgData),o.length===0)return new Uint8Array(0);function p(h,f,a,m){var _,A,v,g,y,b,x,I,P,E,B,D,N,L,C,j,U,G,Z,nt,tt,K=Math.ceil((d.width-h)/a),z=Math.ceil((d.height-f)/m),O=d.width==K&&d.height==z;for(L=s*K,D=O?l:new Uint8Array(L*z),b=o.length,N=0,A=0;N<z&&u<b;){switch(o[u++]){case 0:for(g=U=0;U<L;g=U+=1)D[A++]=o[u++];break;case 1:for(g=G=0;G<L;g=G+=1)_=o[u++],y=g<s?0:D[A-s],D[A++]=(_+y)%256;break;case 2:for(g=Z=0;Z<L;g=Z+=1)_=o[u++],v=(g-g%s)/s,C=N&&D[(N-1)*L+v*s+g%s],D[A++]=(C+_)%256;break;case 3:for(g=nt=0;nt<L;g=nt+=1)_=o[u++],v=(g-g%s)/s,y=g<s?0:D[A-s],C=N&&D[(N-1)*L+v*s+g%s],D[A++]=(_+Math.floor((y+C)/2))%256;break;case 4:for(g=tt=0;tt<L;g=tt+=1)_=o[u++],v=(g-g%s)/s,y=g<s?0:D[A-s],N===0?C=j=0:(C=D[(N-1)*L+v*s+g%s],j=v&&D[(N-1)*L+(v-1)*s+g%s]),x=y+C-j,I=Math.abs(x-y),E=Math.abs(x-C),B=Math.abs(x-j),P=I<=E&&I<=B?y:E<=B?C:j,D[A++]=(_+P)%256;break;default:throw new Error("Invalid filter algorithm: "+o[u-1])}if(!O){var R=((f+N*m)*d.width+h)*s,V=N*L;for(g=0;g<K;g+=1){for(var M=0;M<s;M+=1)l[R++]=D[V++];R+=(a-1)*s}}N++}}return o=v0(o),d.interlaceMethod==1?(p(0,0,8,8),p(4,0,8,8),p(0,4,4,8),p(2,0,4,4),p(0,2,2,4),p(1,0,2,2),p(0,1,1,2)):p(0,0,1,1),l},r.prototype.decodePalette=function(){var o,s,l,u,d,p,h,f,a;for(l=this.palette,p=this.transparency.indexed||[],d=new Uint8Array((p.length||0)+l.length),u=0,o=0,s=h=0,f=l.length;h<f;s=h+=3)d[u++]=l[s],d[u++]=l[s+1],d[u++]=l[s+2],d[u++]=(a=p[o++])!=null?a:255;return d},r.prototype.copyToImageData=function(o,s){var l,u,d,p,h,f,a,m,_,A,v;if(u=this.colors,_=null,l=this.hasAlphaChannel,this.palette.length&&(_=(v=this._decodedPalette)!=null?v:this._decodedPalette=this.decodePalette(),u=4,l=!0),m=(d=o.data||o).length,h=_||s,p=f=0,u===1)for(;p<m;)a=_?4*s[p/4]:f,A=h[a++],d[p++]=A,d[p++]=A,d[p++]=A,d[p++]=l?h[a++]:255,f=a;else for(;p<m;)a=_?4*s[p/4]:f,d[p++]=h[a++],d[p++]=h[a++],d[p++]=h[a++],d[p++]=l?h[a++]:255,f=a},r.prototype.decode=function(){var o;return o=new Uint8Array(this.width*this.height*4),this.copyToImageData(o,this.decodePixels()),o};var i=function(){if(Object.prototype.toString.call(le)==="[object Window]"){try{t=le.document.createElement("canvas"),e=t.getContext("2d")}catch{return!1}return!0}return!1};return i(),n=function(o){var s;if(i()===!0)return e.width=o.width,e.height=o.height,e.clearRect(0,0,o.width,o.height),e.putImageData(o,0,0),(s=new Image).src=t.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(o){var s,l,u,d,p,h,f,a;if(this.animation){for(a=[],l=p=0,h=(f=this.animation.frames).length;p<h;l=++p)s=f[l],u=o.createImageData(s.width,s.height),d=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(u,d),s.imageData=u,a.push(s.image=n(u));return a}},r.prototype.renderFrame=function(o,s){var l,u,d;return l=(u=this.animation.frames)[s],d=u[s-1],s===0&&o.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?o.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&o.putImageData(d.imageData,d.xOffset,d.yOffset),l.blendOp===0&&o.clearRect(l.xOffset,l.yOffset,l.width,l.height),o.drawImage(l.image,l.xOffset,l.yOffset)},r.prototype.animate=function(o){var s,l,u,d,p,h,f=this;return l=0,h=this.animation,d=h.numFrames,u=h.frames,p=h.numPlays,(s=function(){var a,m;if(a=l++%d,m=u[a],f.renderFrame(o,a),d>1&&l/d<p)return f.animation._timeout=setTimeout(s,m.delay)})()},r.prototype.stopAnimation=function(){var o;return clearTimeout((o=this.animation)!=null?o._timeout:void 0)},r.prototype.render=function(o){var s,l;return o._png&&o._png.stopAnimation(),o._png=this,o.width=this.width,o.height=this.height,s=o.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(l=s.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),s.putImageData(l,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function F0(n){var t=0;if(n[t++]!==71||n[t++]!==73||n[t++]!==70||n[t++]!==56||(n[t++]+1&253)!=56||n[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=n[t++]|n[t++]<<8,r=n[t++]|n[t++]<<8,i=n[t++],o=i>>7,s=1<<(7&i)+1;n[t++],n[t++];var l=null,u=null;o&&(l=t,u=s,t+=3*s);var d=!0,p=[],h=0,f=null,a=0,m=null;for(this.width=e,this.height=r;d&&t<n.length;)switch(n[t++]){case 33:switch(n[t++]){case 255:if(n[t]!==11||n[t+1]==78&&n[t+2]==69&&n[t+3]==84&&n[t+4]==83&&n[t+5]==67&&n[t+6]==65&&n[t+7]==80&&n[t+8]==69&&n[t+9]==50&&n[t+10]==46&&n[t+11]==48&&n[t+12]==3&&n[t+13]==1&&n[t+16]==0)t+=14,m=n[t++]|n[t++]<<8,t++;else for(t+=12;;){if(!((N=n[t++])>=0))throw Error("Invalid block size");if(N===0)break;t+=N}break;case 249:if(n[t++]!==4||n[t+4]!==0)throw new Error("Invalid graphics extension block.");var _=n[t++];h=n[t++]|n[t++]<<8,f=n[t++],!(1&_)&&(f=null),a=_>>2&7,t++;break;case 254:for(;;){if(!((N=n[t++])>=0))throw Error("Invalid block size");if(N===0)break;t+=N}break;default:throw new Error("Unknown graphic control label: 0x"+n[t-1].toString(16))}break;case 44:var A=n[t++]|n[t++]<<8,v=n[t++]|n[t++]<<8,g=n[t++]|n[t++]<<8,y=n[t++]|n[t++]<<8,b=n[t++],x=b>>6&1,I=1<<(7&b)+1,P=l,E=u,B=!1;b>>7&&(B=!0,P=t,E=I,t+=3*I);var D=t;for(t++;;){var N;if(!((N=n[t++])>=0))throw Error("Invalid block size");if(N===0)break;t+=N}p.push({x:A,y:v,width:g,height:y,has_local_palette:B,palette_offset:P,palette_size:E,data_offset:D,data_length:t-D,transparent_index:f,interlaced:!!x,delay:h,disposal:a});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+n[t-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return m},this.frameInfo=function(L){if(L<0||L>=p.length)throw new Error("Frame index out of range.");return p[L]},this.decodeAndBlitFrameBGRA=function(L,C){var j=this.frameInfo(L),U=j.width*j.height,G=new Uint8Array(U);Hf(n,j.data_offset,G,U);var Z=j.palette_offset,nt=j.transparent_index;nt===null&&(nt=256);var tt=j.width,K=e-tt,z=tt,O=4*(j.y*e+j.x),R=4*((j.y+j.height)*e+j.x),V=O,M=4*K;j.interlaced===!0&&(M+=4*e*7);for(var T=8,F=0,H=G.length;F<H;++F){var X=G[F];if(z===0&&(z=tt,(V+=M)>=R&&(M=4*K+4*e*(T-1),V=O+(tt+K)*(T<<1),T>>=1)),X===nt)V+=4;else{var st=n[Z+3*X],ut=n[Z+3*X+1],Nt=n[Z+3*X+2];C[V++]=Nt,C[V++]=ut,C[V++]=st,C[V++]=255}--z}},this.decodeAndBlitFrameRGBA=function(L,C){var j=this.frameInfo(L),U=j.width*j.height,G=new Uint8Array(U);Hf(n,j.data_offset,G,U);var Z=j.palette_offset,nt=j.transparent_index;nt===null&&(nt=256);var tt=j.width,K=e-tt,z=tt,O=4*(j.y*e+j.x),R=4*((j.y+j.height)*e+j.x),V=O,M=4*K;j.interlaced===!0&&(M+=4*e*7);for(var T=8,F=0,H=G.length;F<H;++F){var X=G[F];if(z===0&&(z=tt,(V+=M)>=R&&(M=4*K+4*e*(T-1),V=O+(tt+K)*(T<<1),T>>=1)),X===nt)V+=4;else{var st=n[Z+3*X],ut=n[Z+3*X+1],Nt=n[Z+3*X+2];C[V++]=st,C[V++]=ut,C[V++]=Nt,C[V++]=255}--z}}}function Hf(n,t,e,r){for(var i=n[t++],o=1<<i,s=o+1,l=s+1,u=i+1,d=(1<<u)-1,p=0,h=0,f=0,a=n[t++],m=new Int32Array(4096),_=null;;){for(;p<16&&a!==0;)h|=n[t++]<<p,p+=8,a===1?a=n[t++]:--a;if(p<u)break;var A=h&d;if(h>>=u,p-=u,A!==o){if(A===s)break;for(var v=A<l?A:_,g=0,y=v;y>o;)y=m[y]>>8,++g;var b=y;if(f+g+(v!==A?1:0)>r)return void Ye.log("Warning, gif stream longer than expected.");e[f++]=b;var x=f+=g;for(v!==A&&(e[f++]=b),y=v;g--;)y=m[y],e[--x]=255&y,y>>=8;_!==null&&l<4096&&(m[l++]=_<<8|b,l>=d+1&&u<12&&(++u,d=d<<1|1)),_=A}else l=s+1,d=(1<<(u=i+1))-1,_=null}return f!==r&&Ye.log("Warning, gif stream shorter than expected."),e}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Du(n){var t,e,r,i,o,s=Math.floor,l=new Array(64),u=new Array(64),d=new Array(64),p=new Array(64),h=new Array(65535),f=new Array(65535),a=new Array(64),m=new Array(64),_=[],A=0,v=7,g=new Array(64),y=new Array(64),b=new Array(64),x=new Array(256),I=new Array(2048),P=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],E=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],N=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],L=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],j=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],U=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function G(O,R){for(var V=0,M=0,T=new Array,F=1;F<=16;F++){for(var H=1;H<=O[F];H++)T[R[M]]=[],T[R[M]][0]=V,T[R[M]][1]=F,M++,V++;V*=2}return T}function Z(O){for(var R=O[0],V=O[1]-1;V>=0;)R&1<<V&&(A|=1<<v),V--,--v<0&&(A==255?(nt(255),nt(0)):nt(A),v=7,A=0)}function nt(O){_.push(O)}function tt(O){nt(O>>8&255),nt(255&O)}function K(O,R,V,M,T){for(var F,H=T[0],X=T[240],st=function(at,lt){var yt,pt,Ct,Tt,Rt,Ht,Yt,Vt,Xt,zt,Ut=0;for(Xt=0;Xt<8;++Xt){yt=at[Ut],pt=at[Ut+1],Ct=at[Ut+2],Tt=at[Ut+3],Rt=at[Ut+4],Ht=at[Ut+5],Yt=at[Ut+6];var on=yt+(Vt=at[Ut+7]),Le=yt-Vt,$n=pt+Yt,Me=pt-Yt,Ve=Ct+Ht,Gn=Ct-Ht,Ae=Tt+Rt,nr=Tt-Rt,Ce=on+Ae,tn=on-Ae,an=$n+Ve,Fe=$n-Ve;at[Ut]=Ce+an,at[Ut+4]=Ce-an;var ne=.707106781*(Fe+tn);at[Ut+2]=tn+ne,at[Ut+6]=tn-ne;var Ne=.382683433*((Ce=nr+Gn)-(Fe=Me+Le)),rr=.5411961*Ce+Ne,fn=1.306562965*Fe+Ne,Kn=.707106781*(an=Gn+Me),Yn=Le+Kn,ee=Le-Kn;at[Ut+5]=ee+rr,at[Ut+3]=ee-rr,at[Ut+1]=Yn+fn,at[Ut+7]=Yn-fn,Ut+=8}for(Ut=0,Xt=0;Xt<8;++Xt){yt=at[Ut],pt=at[Ut+8],Ct=at[Ut+16],Tt=at[Ut+24],Rt=at[Ut+32],Ht=at[Ut+40],Yt=at[Ut+48];var Je=yt+(Vt=at[Ut+56]),sn=yt-Vt,ln=pt+Yt,De=pt-Yt,$e=Ct+Ht,en=Ct-Ht,mr=Tt+Rt,cr=Tt-Rt,yn=Je+mr,hn=Je-mr,Bn=ln+$e,bn=ln-$e;at[Ut]=yn+Bn,at[Ut+32]=yn-Bn;var Un=.707106781*(bn+hn);at[Ut+16]=hn+Un,at[Ut+48]=hn-Un;var Cn=.382683433*((yn=cr+en)-(bn=De+sn)),jn=.5411961*yn+Cn,Vr=1.306562965*bn+Cn,wt=.707106781*(Bn=en+De),kt=sn+wt,Ft=sn-wt;at[Ut+40]=Ft+jn,at[Ut+24]=Ft-jn,at[Ut+8]=kt+Vr,at[Ut+56]=kt-Vr,Ut++}for(Xt=0;Xt<64;++Xt)zt=at[Xt]*lt[Xt],a[Xt]=zt>0?zt+.5|0:zt-.5|0;return a}(O,R),ut=0;ut<64;++ut)m[P[ut]]=st[ut];var Nt=m[0]-V;V=m[0],Nt==0?Z(M[0]):(Z(M[f[F=32767+Nt]]),Z(h[F]));for(var At=63;At>0&&m[At]==0;)At--;if(At==0)return Z(H),V;for(var Pt,bt=1;bt<=At;){for(var it=bt;m[bt]==0&&bt<=At;)++bt;var Wt=bt-it;if(Wt>=16){Pt=Wt>>4;for(var dt=1;dt<=Pt;++dt)Z(X);Wt&=15}F=32767+m[bt],Z(T[(Wt<<4)+f[F]]),Z(h[F]),bt++}return At!=63&&Z(H),V}function z(O){O=Math.min(Math.max(O,1),100),o!=O&&(function(R){for(var V=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],M=0;M<64;M++){var T=s((V[M]*R+50)/100);T=Math.min(Math.max(T,1),255),l[P[M]]=T}for(var F=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],H=0;H<64;H++){var X=s((F[H]*R+50)/100);X=Math.min(Math.max(X,1),255),u[P[H]]=X}for(var st=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ut=0,Nt=0;Nt<8;Nt++)for(var At=0;At<8;At++)d[ut]=1/(l[P[ut]]*st[Nt]*st[At]*8),p[ut]=1/(u[P[ut]]*st[Nt]*st[At]*8),ut++}(O<50?Math.floor(5e3/O):Math.floor(200-2*O)),o=O)}this.encode=function(O,R){R&&z(R),_=new Array,A=0,v=7,tt(65496),tt(65504),tt(16),nt(74),nt(70),nt(73),nt(70),nt(0),nt(1),nt(1),nt(0),tt(1),tt(1),nt(0),nt(0),function(){tt(65499),tt(132),nt(0);for(var pt=0;pt<64;pt++)nt(l[pt]);nt(1);for(var Ct=0;Ct<64;Ct++)nt(u[Ct])}(),function(pt,Ct){tt(65472),tt(17),nt(8),tt(Ct),tt(pt),nt(3),nt(1),nt(17),nt(0),nt(2),nt(17),nt(1),nt(3),nt(17),nt(1)}(O.width,O.height),function(){tt(65476),tt(418),nt(0);for(var pt=0;pt<16;pt++)nt(E[pt+1]);for(var Ct=0;Ct<=11;Ct++)nt(B[Ct]);nt(16);for(var Tt=0;Tt<16;Tt++)nt(D[Tt+1]);for(var Rt=0;Rt<=161;Rt++)nt(N[Rt]);nt(1);for(var Ht=0;Ht<16;Ht++)nt(L[Ht+1]);for(var Yt=0;Yt<=11;Yt++)nt(C[Yt]);nt(17);for(var Vt=0;Vt<16;Vt++)nt(j[Vt+1]);for(var Xt=0;Xt<=161;Xt++)nt(U[Xt])}(),tt(65498),tt(12),nt(3),nt(1),nt(0),nt(2),nt(17),nt(3),nt(17),nt(0),nt(63),nt(0);var V=0,M=0,T=0;A=0,v=7,this.encode.displayName="_encode_";for(var F,H,X,st,ut,Nt,At,Pt,bt,it=O.data,Wt=O.width,dt=O.height,at=4*Wt,lt=0;lt<dt;){for(F=0;F<at;){for(ut=at*lt+F,At=-1,Pt=0,bt=0;bt<64;bt++)Nt=ut+(Pt=bt>>3)*at+(At=4*(7&bt)),lt+Pt>=dt&&(Nt-=at*(lt+1+Pt-dt)),F+At>=at&&(Nt-=F+At-at+4),H=it[Nt++],X=it[Nt++],st=it[Nt++],g[bt]=(I[H]+I[X+256>>0]+I[st+512>>0]>>16)-128,y[bt]=(I[H+768>>0]+I[X+1024>>0]+I[st+1280>>0]>>16)-128,b[bt]=(I[H+1280>>0]+I[X+1536>>0]+I[st+1792>>0]>>16)-128;V=K(g,d,V,t,r),M=K(y,p,M,e,i),T=K(b,p,T,e,i),F+=32}lt+=8}if(v>=0){var yt=[];yt[1]=v+1,yt[0]=(1<<v+1)-1,Z(yt)}return tt(65497),new Uint8Array(_)},n=n||50,function(){for(var O=String.fromCharCode,R=0;R<256;R++)x[R]=O(R)}(),t=G(E,B),e=G(L,C),r=G(D,N),i=G(j,U),function(){for(var O=1,R=2,V=1;V<=15;V++){for(var M=O;M<R;M++)f[32767+M]=V,h[32767+M]=[],h[32767+M][1]=V,h[32767+M][0]=M;for(var T=-(R-1);T<=-O;T++)f[32767+T]=V,h[32767+T]=[],h[32767+T][1]=V,h[32767+T][0]=R-1+T;O<<=1,R<<=1}}(),function(){for(var O=0;O<256;O++)I[O]=19595*O,I[O+256>>0]=38470*O,I[O+512>>0]=7471*O+32768,I[O+768>>0]=-11059*O,I[O+1024>>0]=-21709*O,I[O+1280>>0]=32768*O+8421375,I[O+1536>>0]=-27439*O,I[O+1792>>0]=-5329*O}(),z(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Zr(n,t){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Vf(n){function t(E){if(!E)throw Error("assert :P")}function e(E,B,D){for(var N=0;4>N;N++)if(E[B+N]!=D.charCodeAt(N))return!0;return!1}function r(E,B,D,N,L){for(var C=0;C<L;C++)E[B+C]=D[N+C]}function i(E,B,D,N){for(var L=0;L<N;L++)E[B+L]=D}function o(E){return new Int32Array(E)}function s(E,B){for(var D=[],N=0;N<E;N++)D.push(new B);return D}function l(E,B){var D=[];return function N(L,C,j){for(var U=j[C],G=0;G<U&&(L.push(j.length>C+1?[]:new B),!(j.length<C+1));G++)N(L[G],C+1,j)}(D,0,E),D}var u=function(){var E=this;function B(c,w){for(var k=1<<w-1>>>0;c&k;)k>>>=1;return k?(c&k-1)+k:c}function D(c,w,k,q,W){t(!(q%k));do c[w+(q-=k)]=W;while(0<q)}function N(c,w,k,q,W){if(t(2328>=W),512>=W)var Y=o(512);else if((Y=o(W))==null)return 0;return function(J,Q,et,rt,ft,St){var xt,mt,Mt=Q,Ot=1<<et,ht=o(16),vt=o(16);for(t(ft!=0),t(rt!=null),t(J!=null),t(0<et),mt=0;mt<ft;++mt){if(15<rt[mt])return 0;++ht[rt[mt]]}if(ht[0]==ft)return 0;for(vt[1]=0,xt=1;15>xt;++xt){if(ht[xt]>1<<xt)return 0;vt[xt+1]=vt[xt]+ht[xt]}for(mt=0;mt<ft;++mt)xt=rt[mt],0<rt[mt]&&(St[vt[xt]++]=mt);if(vt[15]==1)return(rt=new L).g=0,rt.value=St[0],D(J,Mt,1,Ot,rt),Ot;var It,Dt=-1,jt=Ot-1,Zt=0,$t=1,oe=1,Kt=1<<et;for(mt=0,xt=1,ft=2;xt<=et;++xt,ft<<=1){if($t+=oe<<=1,0>(oe-=ht[xt]))return 0;for(;0<ht[xt];--ht[xt])(rt=new L).g=xt,rt.value=St[mt++],D(J,Mt+Zt,ft,Kt,rt),Zt=B(Zt,xt)}for(xt=et+1,ft=2;15>=xt;++xt,ft<<=1){if($t+=oe<<=1,0>(oe-=ht[xt]))return 0;for(;0<ht[xt];--ht[xt]){if(rt=new L,(Zt&jt)!=Dt){for(Mt+=Kt,It=1<<(Dt=xt)-et;15>Dt&&!(0>=(It-=ht[Dt]));)++Dt,It<<=1;Ot+=Kt=1<<(It=Dt-et),J[Q+(Dt=Zt&jt)].g=It+et,J[Q+Dt].value=Mt-Q-Dt}rt.g=xt-et,rt.value=St[mt++],D(J,Mt+(Zt>>et),ft,Kt,rt),Zt=B(Zt,xt)}}return $t!=2*vt[15]-1?0:Ot}(c,w,k,q,W,Y)}function L(){this.value=this.g=0}function C(){this.value=this.g=0}function j(){this.G=s(5,L),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Hn,C)}function U(c,w,k,q){t(c!=null),t(w!=null),t(2147483648>q),c.Ca=254,c.I=0,c.b=-8,c.Ka=0,c.oa=w,c.pa=k,c.Jd=w,c.Yc=k+q,c.Zc=4<=q?k+q-4+1:k,F(c)}function G(c,w){for(var k=0;0<w--;)k|=X(c,128)<<w;return k}function Z(c,w){var k=G(c,w);return H(c)?-k:k}function nt(c,w,k,q){var W,Y=0;for(t(c!=null),t(w!=null),t(4294967288>q),c.Sb=q,c.Ra=0,c.u=0,c.h=0,4<q&&(q=4),W=0;W<q;++W)Y+=w[k+W]<<8*W;c.Ra=Y,c.bb=q,c.oa=w,c.pa=k}function tt(c){for(;8<=c.u&&c.bb<c.Sb;)c.Ra>>>=8,c.Ra+=c.oa[c.pa+c.bb]<<Yo-8>>>0,++c.bb,c.u-=8;V(c)&&(c.h=1,c.u=0)}function K(c,w){if(t(0<=w),!c.h&&w<=Ko){var k=R(c)&Go[w];return c.u+=w,tt(c),k}return c.h=1,c.u=0}function z(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function O(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function R(c){return c.Ra>>>(c.u&Yo-1)>>>0}function V(c){return t(c.bb<=c.Sb),c.h||c.bb==c.Sb&&c.u>Yo}function M(c,w){c.u=w,c.h=V(c)}function T(c){c.u>=Ks&&(t(c.u>=Ks),tt(c))}function F(c){t(c!=null&&c.oa!=null),c.pa<c.Zc?(c.I=(c.oa[c.pa++]|c.I<<8)>>>0,c.b+=8):(t(c!=null&&c.oa!=null),c.pa<c.Yc?(c.b+=8,c.I=c.oa[c.pa++]|c.I<<8):c.Ka?c.b=0:(c.I<<=8,c.b+=8,c.Ka=1))}function H(c){return G(c,1)}function X(c,w){var k=c.Ca;0>c.b&&F(c);var q=c.b,W=k*w>>>8,Y=(c.I>>>q>W)+0;for(Y?(k-=W,c.I-=W+1<<q>>>0):k=W+1,q=k,W=0;256<=q;)W+=8,q>>=8;return q=7^W+hr[q],c.b-=q,c.Ca=(k<<q)-1,Y}function st(c,w,k){c[w+0]=k>>24&255,c[w+1]=k>>16&255,c[w+2]=k>>8&255,c[w+3]=k>>0&255}function ut(c,w){return c[w+0]<<0|c[w+1]<<8}function Nt(c,w){return ut(c,w)|c[w+2]<<16}function At(c,w){return ut(c,w)|ut(c,w+2)<<16}function Pt(c,w){var k=1<<w;return t(c!=null),t(0<w),c.X=o(k),c.X==null?0:(c.Mb=32-w,c.Xa=w,1)}function bt(c,w){t(c!=null),t(w!=null),t(c.Xa==w.Xa),r(w.X,0,c.X,0,1<<w.Xa)}function it(){this.X=[],this.Xa=this.Mb=0}function Wt(c,w,k,q){t(k!=null),t(q!=null);var W=k[0],Y=q[0];return W==0&&(W=(c*Y+w/2)/w),Y==0&&(Y=(w*W+c/2)/c),0>=W||0>=Y?0:(k[0]=W,q[0]=Y,1)}function dt(c,w){return c+(1<<w)-1>>>w}function at(c,w){return((4278255360&c)+(4278255360&w)>>>0&4278255360)+((16711935&c)+(16711935&w)>>>0&16711935)>>>0}function lt(c,w){E[w]=function(k,q,W,Y,J,Q,et){var rt;for(rt=0;rt<J;++rt){var ft=E[c](Q[et+rt-1],W,Y+rt);Q[et+rt]=at(k[q+rt],ft)}}}function yt(){this.ud=this.hd=this.jd=0}function pt(c,w){return((4278124286&(c^w))>>>1)+(c&w)>>>0}function Ct(c){return 0<=c&&256>c?c:0>c?0:255<c?255:void 0}function Tt(c,w){return Ct(c+(c-w+.5>>1))}function Rt(c,w,k){return Math.abs(w-k)-Math.abs(c-k)}function Ht(c,w,k,q,W,Y,J){for(q=Y[J-1],k=0;k<W;++k)Y[J+k]=q=at(c[w+k],q)}function Yt(c,w,k,q,W){var Y;for(Y=0;Y<k;++Y){var J=c[w+Y],Q=J>>8&255,et=16711935&(et=(et=16711935&J)+((Q<<16)+Q));q[W+Y]=(4278255360&J)+et>>>0}}function Vt(c,w){w.jd=c>>0&255,w.hd=c>>8&255,w.ud=c>>16&255}function Xt(c,w,k,q,W,Y){var J;for(J=0;J<q;++J){var Q=w[k+J],et=Q>>>8,rt=Q,ft=255&(ft=(ft=Q>>>16)+((c.jd<<24>>24)*(et<<24>>24)>>>5));rt=255&(rt=(rt=rt+((c.hd<<24>>24)*(et<<24>>24)>>>5))+((c.ud<<24>>24)*(ft<<24>>24)>>>5)),W[Y+J]=(4278255360&Q)+(ft<<16)+rt}}function zt(c,w,k,q,W){E[w]=function(Y,J,Q,et,rt,ft,St,xt,mt){for(et=St;et<xt;++et)for(St=0;St<mt;++St)rt[ft++]=W(Q[q(Y[J++])])},E[c]=function(Y,J,Q,et,rt,ft,St){var xt=8>>Y.b,mt=Y.Ea,Mt=Y.K[0],Ot=Y.w;if(8>xt)for(Y=(1<<Y.b)-1,Ot=(1<<xt)-1;J<Q;++J){var ht,vt=0;for(ht=0;ht<mt;++ht)ht&Y||(vt=q(et[rt++])),ft[St++]=W(Mt[vt&Ot]),vt>>=xt}else E["VP8LMapColor"+k](et,rt,Mt,Ot,ft,St,J,Q,mt)}}function Ut(c,w,k,q,W){for(k=w+k;w<k;){var Y=c[w++];q[W++]=Y>>16&255,q[W++]=Y>>8&255,q[W++]=Y>>0&255}}function on(c,w,k,q,W){for(k=w+k;w<k;){var Y=c[w++];q[W++]=Y>>16&255,q[W++]=Y>>8&255,q[W++]=Y>>0&255,q[W++]=Y>>24&255}}function Le(c,w,k,q,W){for(k=w+k;w<k;){var Y=(J=c[w++])>>16&240|J>>12&15,J=J>>0&240|J>>28&15;q[W++]=Y,q[W++]=J}}function $n(c,w,k,q,W){for(k=w+k;w<k;){var Y=(J=c[w++])>>16&248|J>>13&7,J=J>>5&224|J>>3&31;q[W++]=Y,q[W++]=J}}function Me(c,w,k,q,W){for(k=w+k;w<k;){var Y=c[w++];q[W++]=Y>>0&255,q[W++]=Y>>8&255,q[W++]=Y>>16&255}}function Ve(c,w,k,q,W,Y){if(Y==0)for(k=w+k;w<k;)st(q,((Y=c[w++])[0]>>24|Y[1]>>8&65280|Y[2]<<8&16711680|Y[3]<<24)>>>0),W+=32;else r(q,W,c,w,k)}function Gn(c,w){E[w][0]=E[c+"0"],E[w][1]=E[c+"1"],E[w][2]=E[c+"2"],E[w][3]=E[c+"3"],E[w][4]=E[c+"4"],E[w][5]=E[c+"5"],E[w][6]=E[c+"6"],E[w][7]=E[c+"7"],E[w][8]=E[c+"8"],E[w][9]=E[c+"9"],E[w][10]=E[c+"10"],E[w][11]=E[c+"11"],E[w][12]=E[c+"12"],E[w][13]=E[c+"13"],E[w][14]=E[c+"0"],E[w][15]=E[c+"0"]}function Ae(c){return c==du||c==pu||c==Za||c==gu}function nr(){this.eb=[],this.size=this.A=this.fb=0}function Ce(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function tn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new nr,this.f.kb=new Ce,this.sd=null}function an(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Fe(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ne(c){return alert("todo:WebPSamplerProcessPlane"),c.T}function Ne(c,w){var k=c.T,q=w.ba.f.RGBA,W=q.eb,Y=q.fb+c.ka*q.A,J=Rr[w.ba.S],Q=c.y,et=c.O,rt=c.f,ft=c.N,St=c.ea,xt=c.W,mt=w.cc,Mt=w.dc,Ot=w.Mc,ht=w.Nc,vt=c.ka,It=c.ka+c.T,Dt=c.U,jt=Dt+1>>1;for(vt==0?J(Q,et,null,null,rt,ft,St,xt,rt,ft,St,xt,W,Y,null,null,Dt):(J(w.ec,w.fc,Q,et,mt,Mt,Ot,ht,rt,ft,St,xt,W,Y-q.A,W,Y,Dt),++k);vt+2<It;vt+=2)mt=rt,Mt=ft,Ot=St,ht=xt,ft+=c.Rc,xt+=c.Rc,Y+=2*q.A,J(Q,(et+=2*c.fa)-c.fa,Q,et,mt,Mt,Ot,ht,rt,ft,St,xt,W,Y-q.A,W,Y,Dt);return et+=c.fa,c.j+It<c.o?(r(w.ec,w.fc,Q,et,Dt),r(w.cc,w.dc,rt,ft,jt),r(w.Mc,w.Nc,St,xt,jt),k--):1&It||J(Q,et,null,null,rt,ft,St,xt,rt,ft,St,xt,W,Y+q.A,null,null,Dt),k}function rr(c,w,k){var q=c.F,W=[c.J];if(q!=null){var Y=c.U,J=w.ba.S,Q=J==Xa||J==Za;w=w.ba.f.RGBA;var et=[0],rt=c.ka;et[0]=c.T,c.Kb&&(rt==0?--et[0]:(--rt,W[0]-=c.width),c.j+c.ka+c.T==c.o&&(et[0]=c.o-c.j-rt));var ft=w.eb;rt=w.fb+rt*w.A,c=Ze(q,W[0],c.width,Y,et,ft,rt+(Q?0:3),w.A),t(k==et),c&&Ae(J)&&Mr(ft,rt,Q,Y,et,w.A)}return 0}function fn(c){var w=c.ma,k=w.ba.S,q=11>k,W=k==Ya||k==Ja||k==Xa||k==hu||k==12||Ae(k);if(w.memory=null,w.Ib=null,w.Jb=null,w.Nd=null,!$s(w.Oa,c,W?11:12))return 0;if(W&&Ae(k)&&qt(),c.da)alert("todo:use_scaling");else{if(q){if(w.Ib=ne,c.Kb){if(k=c.U+1>>1,w.memory=o(c.U+2*k),w.memory==null)return 0;w.ec=w.memory,w.fc=0,w.cc=w.ec,w.dc=w.fc+c.U,w.Mc=w.cc,w.Nc=w.dc+k,w.Ib=Ne,qt()}}else alert("todo:EmitYUV");W&&(w.Jb=rr,q&&_t())}if(q&&!of){for(c=0;256>c;++c)jp[c]=89858*(c-128)+tl>>Qa,Rp[c]=-22014*(c-128)+tl,Dp[c]=-45773*(c-128),Mp[c]=113618*(c-128)+tl>>Qa;for(c=ea;c<yu;++c)w=76283*(c-16)+tl>>Qa,qp[c-ea]=Sr(w,255),Fp[c-ea]=Sr(w+8>>4,15);of=1}return 1}function Kn(c){var w=c.ma,k=c.U,q=c.T;return t(!(1&c.ka)),0>=k||0>=q?0:(k=w.Ib(c,w),w.Jb!=null&&w.Jb(c,w,k),w.Dc+=k,1)}function Yn(c){c.ma.memory=null}function ee(c,w,k,q){return K(c,8)!=47?0:(w[0]=K(c,14)+1,k[0]=K(c,14)+1,q[0]=K(c,1),K(c,3)!=0?0:!c.h)}function Je(c,w){if(4>c)return c+1;var k=c-2>>1;return(2+(1&c)<<k)+K(w,k)+1}function sn(c,w){return 120<w?w-120:1<=(k=((k=wp[w-1])>>4)*c+(8-(15&k)))?k:1;var k}function ln(c,w,k){var q=R(k),W=c[w+=255&q].g-8;return 0<W&&(M(k,k.u+8),q=R(k),w+=c[w].value,w+=q&(1<<W)-1),M(k,k.u+c[w].g),c[w].value}function De(c,w,k){return k.g+=c.g,k.value+=c.value<<w>>>0,t(8>=k.g),c.g}function $e(c,w,k){var q=c.xc;return t((w=q==0?0:c.vc[c.md*(k>>q)+(w>>q)])<c.Wb),c.Ya[w]}function en(c,w,k,q){var W=c.ab,Y=c.c*w,J=c.C;w=J+w;var Q=k,et=q;for(q=c.Ta,k=c.Ua;0<W--;){var rt=c.gc[W],ft=J,St=w,xt=Q,mt=et,Mt=(et=q,Q=k,rt.Ea);switch(t(ft<St),t(St<=rt.nc),rt.hc){case 2:za(xt,mt,(St-ft)*Mt,et,Q);break;case 0:var Ot=ft,ht=St,vt=et,It=Q,Dt=(Kt=rt).Ea;Ot==0&&(cu(xt,mt,null,null,1,vt,It),Ht(xt,mt+1,0,0,Dt-1,vt,It+1),mt+=Dt,It+=Dt,++Ot);for(var jt=1<<Kt.b,Zt=jt-1,$t=dt(Dt,Kt.b),oe=Kt.K,Kt=Kt.w+(Ot>>Kt.b)*$t;Ot<ht;){var Re=oe,Be=Kt,je=1;for(Ys(xt,mt,vt,It-Dt,1,vt,It);je<Dt;){var Oe=(je&~Zt)+jt;Oe>Dt&&(Oe=Dt),(0,Ui[Re[Be++]>>8&15])(xt,mt+ +je,vt,It+je-Dt,Oe-je,vt,It+je),je=Oe}mt+=Dt,It+=Dt,++Ot&Zt||(Kt+=$t)}St!=rt.nc&&r(et,Q-Mt,et,Q+(St-ft-1)*Mt,Mt);break;case 1:for(Mt=xt,ht=mt,Dt=(xt=rt.Ea)-(It=xt&~(vt=(mt=1<<rt.b)-1)),Ot=dt(xt,rt.b),jt=rt.K,rt=rt.w+(ft>>rt.b)*Ot;ft<St;){for(Zt=jt,$t=rt,oe=new yt,Kt=ht+It,Re=ht+xt;ht<Kt;)Vt(Zt[$t++],oe),bo(oe,Mt,ht,mt,et,Q),ht+=mt,Q+=mt;ht<Re&&(Vt(Zt[$t++],oe),bo(oe,Mt,ht,Dt,et,Q),ht+=Dt,Q+=Dt),++ft&vt||(rt+=Ot)}break;case 3:if(xt==et&&mt==Q&&0<rt.b){for(ht=et,xt=Mt=Q+(St-ft)*Mt-(It=(St-ft)*dt(rt.Ea,rt.b)),mt=et,vt=Q,Ot=[],It=(Dt=It)-1;0<=It;--It)Ot[It]=mt[vt+It];for(It=Dt-1;0<=It;--It)ht[xt+It]=Ot[It];Tr(rt,ft,St,et,Mt,et,Q)}else Tr(rt,ft,St,xt,mt,et,Q)}Q=q,et=k}et!=k&&r(q,k,Q,et,Y)}function mr(c,w){var k=c.V,q=c.Ba+c.c*c.C,W=w-c.C;if(t(w<=c.l.o),t(16>=W),0<W){var Y=c.l,J=c.Ta,Q=c.Ua,et=Y.width;if(en(c,W,k,q),W=Q=[Q],t((k=c.C)<(q=w)),t(Y.v<Y.va),q>Y.o&&(q=Y.o),k<Y.j){var rt=Y.j-k;k=Y.j,W[0]+=rt*et}if(k>=q?k=0:(W[0]+=4*Y.v,Y.ka=k-Y.j,Y.U=Y.va-Y.v,Y.T=q-k,k=1),k){if(Q=Q[0],11>(k=c.ca).S){var ft=k.f.RGBA,St=(q=k.S,W=Y.U,Y=Y.T,rt=ft.eb,ft.A),xt=Y;for(ft=ft.fb+c.Ma*ft.A;0<xt--;){var mt=J,Mt=Q,Ot=W,ht=rt,vt=ft;switch(q){case Ka:dr(mt,Mt,Ot,ht,vt);break;case Ya:sr(mt,Mt,Ot,ht,vt);break;case du:sr(mt,Mt,Ot,ht,vt),Mr(ht,vt,0,Ot,1,0);break;case Kc:xi(mt,Mt,Ot,ht,vt);break;case Ja:Ve(mt,Mt,Ot,ht,vt,1);break;case pu:Ve(mt,Mt,Ot,ht,vt,1),Mr(ht,vt,0,Ot,1,0);break;case Xa:Ve(mt,Mt,Ot,ht,vt,0);break;case Za:Ve(mt,Mt,Ot,ht,vt,0),Mr(ht,vt,1,Ot,1,0);break;case hu:zi(mt,Mt,Ot,ht,vt);break;case gu:zi(mt,Mt,Ot,ht,vt),Xe(ht,vt,Ot,1,0);break;case Yc:Si(mt,Mt,Ot,ht,vt);break;default:t(0)}Q+=et,ft+=St}c.Ma+=Y}else alert("todo:EmitRescaledRowsYUVA");t(c.Ma<=k.height)}}c.C=w,t(c.C<=c.i)}function cr(c){var w;if(0<c.ua)return 0;for(w=0;w<c.Wb;++w){var k=c.Ya[w].G,q=c.Ya[w].H;if(0<k[1][q[1]+0].g||0<k[2][q[2]+0].g||0<k[3][q[3]+0].g)return 0}return 1}function yn(c,w,k,q,W,Y){if(c.Z!=0){var J=c.qd,Q=c.rd;for(t($i[c.Z]!=null);w<k;++w)$i[c.Z](J,Q,q,W,q,W,Y),J=q,Q=W,W+=Y;c.qd=J,c.rd=Q}}function hn(c,w){var k=c.l.ma,q=k.Z==0||k.Z==1?c.l.j:c.C;if(q=c.C<q?q:c.C,t(w<=c.l.o),w>q){var W=c.l.width,Y=k.ca,J=k.tb+W*q,Q=c.V,et=c.Ba+c.c*q,rt=c.gc;t(c.ab==1),t(rt[0].hc==3),Ha(rt[0],q,w,Q,et,Y,J),yn(k,q,w,Y,J,W)}c.C=c.Ma=w}function Bn(c,w,k,q,W,Y,J){var Q=c.$/q,et=c.$%q,rt=c.m,ft=c.s,St=k+c.$,xt=St;W=k+q*W;var mt=k+q*Y,Mt=280+ft.ua,Ot=c.Pb?Q:16777216,ht=0<ft.ua?ft.Wa:null,vt=ft.wc,It=St<mt?$e(ft,et,Q):null;t(c.C<Y),t(mt<=W);var Dt=!1;t:for(;;){for(;Dt||St<mt;){var jt=0;if(Q>=Ot){var Zt=St-k;t((Ot=c).Pb),Ot.wd=Ot.m,Ot.xd=Zt,0<Ot.s.ua&&bt(Ot.s.Wa,Ot.s.vb),Ot=Q+Ap}if(et&vt||(It=$e(ft,et,Q)),t(It!=null),It.Qb&&(w[St]=It.qb,Dt=!0),!Dt)if(T(rt),It.jc){jt=rt,Zt=w;var $t=St,oe=It.pd[R(jt)&Hn-1];t(It.jc),256>oe.g?(M(jt,jt.u+oe.g),Zt[$t]=oe.value,jt=0):(M(jt,jt.u+oe.g-256),t(256<=oe.value),jt=oe.value),jt==0&&(Dt=!0)}else jt=ln(It.G[0],It.H[0],rt);if(rt.h)break;if(Dt||256>jt){if(!Dt)if(It.nd)w[St]=(It.qb|jt<<8)>>>0;else{if(T(rt),Dt=ln(It.G[1],It.H[1],rt),T(rt),Zt=ln(It.G[2],It.H[2],rt),$t=ln(It.G[3],It.H[3],rt),rt.h)break;w[St]=($t<<24|Dt<<16|jt<<8|Zt)>>>0}if(Dt=!1,++St,++et>=q&&(et=0,++Q,J!=null&&Q<=Y&&!(Q%16)&&J(c,Q),ht!=null))for(;xt<St;)jt=w[xt++],ht.X[(506832829*jt&4294967295)>>>ht.Mb]=jt}else if(280>jt){if(jt=Je(jt-256,rt),Zt=ln(It.G[4],It.H[4],rt),T(rt),Zt=sn(q,Zt=Je(Zt,rt)),rt.h)break;if(St-k<Zt||W-St<jt)break t;for($t=0;$t<jt;++$t)w[St+$t]=w[St+$t-Zt];for(St+=jt,et+=jt;et>=q;)et-=q,++Q,J!=null&&Q<=Y&&!(Q%16)&&J(c,Q);if(t(St<=W),et&vt&&(It=$e(ft,et,Q)),ht!=null)for(;xt<St;)jt=w[xt++],ht.X[(506832829*jt&4294967295)>>>ht.Mb]=jt}else{if(!(jt<Mt))break t;for(Dt=jt-280,t(ht!=null);xt<St;)jt=w[xt++],ht.X[(506832829*jt&4294967295)>>>ht.Mb]=jt;jt=St,t(!(Dt>>>(Zt=ht).Xa)),w[jt]=Zt.X[Dt],Dt=!0}Dt||t(rt.h==V(rt))}if(c.Pb&&rt.h&&St<W)t(c.m.h),c.a=5,c.m=c.wd,c.$=c.xd,0<c.s.ua&&bt(c.s.vb,c.s.Wa);else{if(rt.h)break t;J!=null&&J(c,Q>Y?Y:Q),c.a=0,c.$=St-k}return 1}return c.a=3,0}function bn(c){t(c!=null),c.vc=null,c.yc=null,c.Ya=null;var w=c.Wa;w!=null&&(w.X=null),c.vb=null,t(c!=null)}function Un(){var c=new uu;return c==null?null:(c.a=0,c.xb=Zc,Gn("Predictor","VP8LPredictors"),Gn("Predictor","VP8LPredictors_C"),Gn("PredictorAdd","VP8LPredictorsAdd"),Gn("PredictorAdd","VP8LPredictorsAdd_C"),za=Yt,bo=Xt,dr=Ut,sr=on,zi=Le,Si=$n,xi=Me,E.VP8LMapColor32b=Jo,E.VP8LMapColor8b=Va,c)}function Cn(c,w,k,q,W){var Y=1,J=[c],Q=[w],et=q.m,rt=q.s,ft=null,St=0;t:for(;;){if(k)for(;Y&&K(et,1);){var xt=J,mt=Q,Mt=q,Ot=1,ht=Mt.m,vt=Mt.gc[Mt.ab],It=K(ht,2);if(Mt.Oc&1<<It)Y=0;else{switch(Mt.Oc|=1<<It,vt.hc=It,vt.Ea=xt[0],vt.nc=mt[0],vt.K=[null],++Mt.ab,t(4>=Mt.ab),It){case 0:case 1:vt.b=K(ht,3)+2,Ot=Cn(dt(vt.Ea,vt.b),dt(vt.nc,vt.b),0,Mt,vt.K),vt.K=vt.K[0];break;case 3:var Dt,jt=K(ht,8)+1,Zt=16<jt?0:4<jt?1:2<jt?2:3;if(xt[0]=dt(vt.Ea,Zt),vt.b=Zt,Dt=Ot=Cn(jt,1,0,Mt,vt.K)){var $t,oe=jt,Kt=vt,Re=1<<(8>>Kt.b),Be=o(Re);if(Be==null)Dt=0;else{var je=Kt.K[0],Oe=Kt.w;for(Be[0]=Kt.K[0][0],$t=1;$t<1*oe;++$t)Be[$t]=at(je[Oe+$t],Be[$t-1]);for(;$t<4*Re;++$t)Be[$t]=0;Kt.K[0]=null,Kt.K[0]=Be,Dt=1}}Ot=Dt;break;case 2:break;default:t(0)}Y=Ot}}if(J=J[0],Q=Q[0],Y&&K(et,1)&&!(Y=1<=(St=K(et,4))&&11>=St)){q.a=3;break t}var Ke;if(Ke=Y)e:{var We,be,On,pr=q,En=J,gr=Q,Ue=St,Nr=k,Lr=pr.m,Dn=pr.s,Vn=[null],lr=1,qr=0,ui=_p[Ue];n:for(;;){if(Nr&&K(Lr,1)){var Rn=K(Lr,3)+2,Oi=dt(En,Rn),xo=dt(gr,Rn),es=Oi*xo;if(!Cn(Oi,xo,0,pr,Vn))break n;for(Vn=Vn[0],Dn.xc=Rn,We=0;We<es;++We){var Gi=Vn[We]>>8&65535;Vn[We]=Gi,Gi>=lr&&(lr=Gi+1)}}if(Lr.h)break n;for(be=0;5>be;++be){var gn=Jc[be];!be&&0<Ue&&(gn+=1<<Ue),qr<gn&&(qr=gn)}var bu=s(lr*ui,L),lf=lr,uf=s(lf,j);if(uf==null)var nl=null;else t(65536>=lf),nl=uf;var na=o(qr);if(nl==null||na==null||bu==null){pr.a=1;break n}var rl=bu;for(We=On=0;We<lr;++We){var Jr=nl[We],ns=Jr.G,rs=Jr.H,cf=0,il=1,ff=0;for(be=0;5>be;++be){gn=Jc[be],ns[be]=rl,rs[be]=On,!be&&0<Ue&&(gn+=1<<Ue);i:{var ol,wu=gn,sl=pr,ra=na,zp=rl,Hp=On,_u=0,Ki=sl.m,Vp=K(Ki,1);if(i(ra,0,0,wu),Vp){var Wp=K(Ki,1)+1,$p=K(Ki,1),hf=K(Ki,$p==0?1:8);ra[hf]=1,Wp==2&&(ra[hf=K(Ki,8)]=1);var al=1}else{var df=o(19),pf=K(Ki,4)+4;if(19<pf){sl.a=3;var ll=0;break i}for(ol=0;ol<pf;++ol)df[bp[ol]]=K(Ki,3);var Au=void 0,ia=void 0,gf=sl,Gp=df,ul=wu,vf=ra,Su=0,Yi=gf.m,mf=8,yf=s(128,L);r:for(;N(yf,0,7,Gp,19);){if(K(Yi,1)){var Kp=2+2*K(Yi,3);if((Au=2+K(Yi,Kp))>ul)break r}else Au=ul;for(ia=0;ia<ul&&Au--;){T(Yi);var bf=yf[0+(127&R(Yi))];M(Yi,Yi.u+bf.g);var is=bf.value;if(16>is)vf[ia++]=is,is!=0&&(mf=is);else{var Yp=is==16,wf=is-16,Jp=mp[wf],_f=K(Yi,vp[wf])+Jp;if(ia+_f>ul)break r;for(var Xp=Yp?mf:0;0<_f--;)vf[ia++]=Xp}}Su=1;break r}Su||(gf.a=3),al=Su}(al=al&&!Ki.h)&&(_u=N(zp,Hp,8,ra,wu)),al&&_u!=0?ll=_u:(sl.a=3,ll=0)}if(ll==0)break n;if(il&&yp[be]==1&&(il=rl[On].g==0),cf+=rl[On].g,On+=ll,3>=be){var oa,xu=na[0];for(oa=1;oa<gn;++oa)na[oa]>xu&&(xu=na[oa]);ff+=xu}}if(Jr.nd=il,Jr.Qb=0,il&&(Jr.qb=(ns[3][rs[3]+0].value<<24|ns[1][rs[1]+0].value<<16|ns[2][rs[2]+0].value)>>>0,cf==0&&256>ns[0][rs[0]+0].value&&(Jr.Qb=1,Jr.qb+=ns[0][rs[0]+0].value<<8)),Jr.jc=!Jr.Qb&&6>ff,Jr.jc){var cl,Ei=Jr;for(cl=0;cl<Hn;++cl){var Ji=cl,Xi=Ei.pd[Ji],fl=Ei.G[0][Ei.H[0]+Ji];256<=fl.value?(Xi.g=fl.g+256,Xi.value=fl.value):(Xi.g=0,Xi.value=0,Ji>>=De(fl,8,Xi),Ji>>=De(Ei.G[1][Ei.H[1]+Ji],16,Xi),Ji>>=De(Ei.G[2][Ei.H[2]+Ji],0,Xi),De(Ei.G[3][Ei.H[3]+Ji],24,Xi))}}}Dn.vc=Vn,Dn.Wb=lr,Dn.Ya=nl,Dn.yc=bu,Ke=1;break e}Ke=0}if(!(Y=Ke)){q.a=3;break t}if(0<St){if(rt.ua=1<<St,!Pt(rt.Wa,St)){q.a=1,Y=0;break t}}else rt.ua=0;var Nu=q,Af=J,Zp=Q,Lu=Nu.s,ku=Lu.xc;if(Nu.c=Af,Nu.i=Zp,Lu.md=dt(Af,ku),Lu.wc=ku==0?-1:(1<<ku)-1,k){q.xb=Ep;break t}if((ft=o(J*Q))==null){q.a=1,Y=0;break t}Y=(Y=Bn(q,ft,0,J,Q,Q,null))&&!et.h;break t}return Y?(W!=null?W[0]=ft:(t(ft==null),t(k)),q.$=0,k||bn(rt)):bn(rt),Y}function jn(c,w){var k=c.c*c.i,q=k+w+16*w;return t(c.c<=w),c.V=o(q),c.V==null?(c.Ta=null,c.Ua=0,c.a=1,0):(c.Ta=c.V,c.Ua=c.Ba+k+w,1)}function Vr(c,w){var k=c.C,q=w-k,W=c.V,Y=c.Ba+c.c*k;for(t(w<=c.l.o);0<q;){var J=16<q?16:q,Q=c.l.ma,et=c.l.width,rt=et*J,ft=Q.ca,St=Q.tb+et*k,xt=c.Ta,mt=c.Ua;en(c,J,W,Y),An(xt,mt,ft,St,rt),yn(Q,k,k+J,ft,St,et),q-=J,W+=J*c.c,k+=J}t(k==w),c.C=c.Ma=w}function wt(){this.ub=this.yd=this.td=this.Rb=0}function kt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ft(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Qt(){this.Yb=function(){var c=[];return function w(k,q,W){for(var Y=W[q],J=0;J<Y&&(k.push(W.length>q+1?[]:0),!(W.length<q+1));J++)w(k[J],q+1,W)}(c,0,[3,11]),c}()}function Se(){this.jb=o(3),this.Wc=l([4,8],Qt),this.Xc=l([4,17],Qt)}function pe(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function gt(){this.ld=this.La=this.dd=this.tc=0}function Lt(){this.Na=this.la=0}function Bt(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Gt(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function fe(){this.uc=this.M=this.Nb=0,this.wa=Array(new gt),this.Y=0,this.ya=Array(new Gt),this.aa=0,this.l=new ge}function ke(){this.y=o(16),this.f=o(8),this.ea=o(8)}function qe(){this.cb=this.a=0,this.sc="",this.m=new z,this.Od=new wt,this.Kc=new kt,this.ed=new pe,this.Qa=new Ft,this.Ic=this.$c=this.Aa=0,this.D=new fe,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,z),this.ia=0,this.pb=s(4,Bt),this.Pa=new Se,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ke),this.Hd=0,this.rb=Array(new Lt),this.sb=0,this.wa=Array(new gt),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Gt),this.L=this.aa=0,this.gd=l([4,2],gt),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ge(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function nn(){var c=new qe;return c!=null&&(c.a=0,c.sc="OK",c.cb=0,c.Xb=0,ta||(ta=yr)),c}function he(c,w,k){return c.a==0&&(c.a=w,c.sc=k,c.cb=0),0}function ir(c,w,k){return 3<=k&&c[w+0]==157&&c[w+1]==1&&c[w+2]==42}function fr(c,w){if(c==null)return 0;if(c.a=0,c.sc="OK",w==null)return he(c,2,"null VP8Io passed to VP8GetHeaders()");var k=w.data,q=w.w,W=w.ha;if(4>W)return he(c,7,"Truncated header.");var Y=k[q+0]|k[q+1]<<8|k[q+2]<<16,J=c.Od;if(J.Rb=!(1&Y),J.td=Y>>1&7,J.yd=Y>>4&1,J.ub=Y>>5,3<J.td)return he(c,3,"Incorrect keyframe parameters.");if(!J.yd)return he(c,4,"Frame not displayable.");q+=3,W-=3;var Q=c.Kc;if(J.Rb){if(7>W)return he(c,7,"cannot parse picture header");if(!ir(k,q,W))return he(c,3,"Bad code word");Q.c=16383&(k[q+4]<<8|k[q+3]),Q.Td=k[q+4]>>6,Q.i=16383&(k[q+6]<<8|k[q+5]),Q.Ud=k[q+6]>>6,q+=7,W-=7,c.za=Q.c+15>>4,c.Ub=Q.i+15>>4,w.width=Q.c,w.height=Q.i,w.Da=0,w.j=0,w.v=0,w.va=w.width,w.o=w.height,w.da=0,w.ib=w.width,w.hb=w.height,w.U=w.width,w.T=w.height,i((Y=c.Pa).jb,0,255,Y.jb.length),t((Y=c.Qa)!=null),Y.Cb=0,Y.Bb=0,Y.Fb=1,i(Y.Zb,0,0,Y.Zb.length),i(Y.Lb,0,0,Y.Lb)}if(J.ub>W)return he(c,7,"bad partition length");U(Y=c.m,k,q,J.ub),q+=J.ub,W-=J.ub,J.Rb&&(Q.Ld=H(Y),Q.Kd=H(Y)),Q=c.Qa;var et,rt=c.Pa;if(t(Y!=null),t(Q!=null),Q.Cb=H(Y),Q.Cb){if(Q.Bb=H(Y),H(Y)){for(Q.Fb=H(Y),et=0;4>et;++et)Q.Zb[et]=H(Y)?Z(Y,7):0;for(et=0;4>et;++et)Q.Lb[et]=H(Y)?Z(Y,6):0}if(Q.Bb)for(et=0;3>et;++et)rt.jb[et]=H(Y)?G(Y,8):255}else Q.Bb=0;if(Y.Ka)return he(c,3,"cannot parse segment header");if((Q=c.ed).zd=H(Y),Q.Tb=G(Y,6),Q.wb=G(Y,3),Q.Pc=H(Y),Q.Pc&&H(Y)){for(rt=0;4>rt;++rt)H(Y)&&(Q.vd[rt]=Z(Y,6));for(rt=0;4>rt;++rt)H(Y)&&(Q.od[rt]=Z(Y,6))}if(c.L=Q.Tb==0?0:Q.zd?1:2,Y.Ka)return he(c,3,"cannot parse filter header");var ft=W;if(W=et=q,q=et+ft,Q=ft,c.Xb=(1<<G(c.m,2))-1,ft<3*(rt=c.Xb))k=7;else{for(et+=3*rt,Q-=3*rt,ft=0;ft<rt;++ft){var St=k[W+0]|k[W+1]<<8|k[W+2]<<16;St>Q&&(St=Q),U(c.Jc[+ft],k,et,St),et+=St,Q-=St,W+=3}U(c.Jc[+rt],k,et,Q),k=et<q?0:5}if(k!=0)return he(c,k,"cannot parse partitions");for(k=G(et=c.m,7),W=H(et)?Z(et,4):0,q=H(et)?Z(et,4):0,Q=H(et)?Z(et,4):0,rt=H(et)?Z(et,4):0,et=H(et)?Z(et,4):0,ft=c.Qa,St=0;4>St;++St){if(ft.Cb){var xt=ft.Zb[St];ft.Fb||(xt+=k)}else{if(0<St){c.pb[St]=c.pb[0];continue}xt=k}var mt=c.pb[St];mt.Sc[0]=vu[Sr(xt+W,127)],mt.Sc[1]=mu[Sr(xt+0,127)],mt.Eb[0]=2*vu[Sr(xt+q,127)],mt.Eb[1]=101581*mu[Sr(xt+Q,127)]>>16,8>mt.Eb[1]&&(mt.Eb[1]=8),mt.Qc[0]=vu[Sr(xt+rt,117)],mt.Qc[1]=mu[Sr(xt+et,127)],mt.lc=xt+et}if(!J.Rb)return he(c,4,"Not a key frame.");for(H(Y),J=c.Pa,k=0;4>k;++k){for(W=0;8>W;++W)for(q=0;3>q;++q)for(Q=0;11>Q;++Q)rt=X(Y,kp[k][W][q][Q])?G(Y,8):Np[k][W][q][Q],J.Wc[k][W].Yb[q][Q]=rt;for(W=0;17>W;++W)J.Xc[k][W]=J.Wc[k][Op[W]]}return c.kc=H(Y),c.kc&&(c.Bd=G(Y,8)),c.cb=1}function yr(c,w,k,q,W,Y,J){var Q=w[W].Yb[k];for(k=0;16>W;++W){if(!X(c,Q[k+0]))return W;for(;!X(c,Q[k+1]);)if(Q=w[++W].Yb[0],k=0,W==16)return 16;var et=w[W+1].Yb;if(X(c,Q[k+2])){var rt=c,ft=0;if(X(rt,(xt=Q)[(St=k)+3]))if(X(rt,xt[St+6])){for(Q=0,St=2*(ft=X(rt,xt[St+8]))+(xt=X(rt,xt[St+9+ft])),ft=0,xt=Sp[St];xt[Q];++Q)ft+=ft+X(rt,xt[Q]);ft+=3+(8<<St)}else X(rt,xt[St+7])?(ft=7+2*X(rt,165),ft+=X(rt,145)):ft=5+X(rt,159);else ft=X(rt,xt[St+4])?3+X(rt,xt[St+5]):2;Q=et[2]}else ft=1,Q=et[1];et=J+xp[W],0>(rt=c).b&&F(rt);var St,xt=rt.b,mt=(St=rt.Ca>>1)-(rt.I>>xt)>>31;--rt.b,rt.Ca+=mt,rt.Ca|=1,rt.I-=(St+1&mt)<<xt,Y[et]=((ft^mt)-mt)*q[(0<W)+0]}return 16}function ie(c){var w=c.rb[c.sb-1];w.la=0,w.Na=0,i(c.zc,0,0,c.zc.length),c.ja=0}function Pe(c,w){if(c==null)return 0;if(w==null)return he(c,2,"NULL VP8Io parameter in VP8Decode().");if(!c.cb&&!fr(c,w))return 0;if(t(c.cb),w.ac==null||w.ac(w)){w.ob&&(c.L=0);var k=el[c.L];if(c.L==2?(c.yb=0,c.zb=0):(c.yb=w.v-k>>4,c.zb=w.j-k>>4,0>c.yb&&(c.yb=0),0>c.zb&&(c.zb=0)),c.Va=w.o+15+k>>4,c.Hb=w.va+15+k>>4,c.Hb>c.za&&(c.Hb=c.za),c.Va>c.Ub&&(c.Va=c.Ub),0<c.L){var q=c.ed;for(k=0;4>k;++k){var W;if(c.Qa.Cb){var Y=c.Qa.Lb[k];c.Qa.Fb||(Y+=q.Tb)}else Y=q.Tb;for(W=0;1>=W;++W){var J=c.gd[k][W],Q=Y;if(q.Pc&&(Q+=q.vd[0],W&&(Q+=q.od[0])),0<(Q=0>Q?0:63<Q?63:Q)){var et=Q;0<q.wb&&(et=4<q.wb?et>>2:et>>1)>9-q.wb&&(et=9-q.wb),1>et&&(et=1),J.dd=et,J.tc=2*Q+et,J.ld=40<=Q?2:15<=Q?1:0}else J.tc=0;J.La=W}}}k=0}else he(c,6,"Frame setup failed"),k=c.a;if(k=k==0){if(k){c.$c=0,0<c.Aa||(c.Ic=Up);t:{k=c.Ic,q=4*(et=c.za);var rt=32*et,ft=et+1,St=0<c.L?et*(0<c.Aa?2:1):0,xt=(c.Aa==2?2:1)*et;if((J=q+832+(W=3*(16*k+el[c.L])/2*rt)+(Y=c.Fa!=null&&0<c.Fa.length?c.Kc.c*c.Kc.i:0))!=J)k=0;else{if(J>c.Vb){if(c.Vb=0,c.Ec=o(J),c.Fc=0,c.Ec==null){k=he(c,1,"no memory during frame initialization.");break t}c.Vb=J}J=c.Ec,Q=c.Fc,c.Ac=J,c.Bc=Q,Q+=q,c.Gd=s(rt,ke),c.Hd=0,c.rb=s(ft+1,Lt),c.sb=1,c.wa=St?s(St,gt):null,c.Y=0,c.D.Nb=0,c.D.wa=c.wa,c.D.Y=c.Y,0<c.Aa&&(c.D.Y+=et),t(!0),c.oc=J,c.pc=Q,Q+=832,c.ya=s(xt,Gt),c.aa=0,c.D.ya=c.ya,c.D.aa=c.aa,c.Aa==2&&(c.D.aa+=et),c.R=16*et,c.B=8*et,et=(rt=el[c.L])*c.R,rt=rt/2*c.B,c.sa=J,c.ta=Q+et,c.qa=c.sa,c.ra=c.ta+16*k*c.R+rt,c.Ha=c.qa,c.Ia=c.ra+8*k*c.B+rt,c.$c=0,Q+=W,c.mb=Y?J:null,c.nb=Y?Q:null,t(Q+Y<=c.Fc+c.Vb),ie(c),i(c.Ac,c.Bc,0,q),k=1}}if(k){if(w.ka=0,w.y=c.sa,w.O=c.ta,w.f=c.qa,w.N=c.ra,w.ea=c.Ha,w.Vd=c.Ia,w.fa=c.R,w.Rc=c.B,w.F=null,w.J=0,!$a){for(k=-255;255>=k;++k)Tn[255+k]=0>k?-k:k;for(k=-1020;1020>=k;++k)Li[1020+k]=-128>k?-128:127<k?127:k;for(k=-112;112>=k;++k)Qs[112+k]=-16>k?-16:15<k?15:k;for(k=-255;510>=k;++k)ts[255+k]=0>k?0:255<k?255:k;$a=1}Xo=_i,Ni=dn,Js=Ge,ar=or,Ir=br,_n=we,Zo=Rs,Wa=mo,Xs=lu,wo=qs,_o=au,Hi=zo,Ao=Fs,Qo=Fa,So=qa,Vi=ai,Zs=Ai,jr=su,Yr[0]=si,Yr[1]=_r,Yr[2]=tu,Yr[3]=eu,Yr[4]=Ia,Yr[5]=Bo,Yr[6]=ja,Yr[7]=js,Yr[8]=ru,Yr[9]=nu,Wi[0]=po,Wi[1]=Di,Wi[2]=Ar,Wi[3]=Wr,Wi[4]=wn,Wi[5]=Ri,Wi[6]=Ta,ki[0]=qi,ki[1]=Fo,ki[2]=iu,ki[3]=Ms,ki[4]=vo,ki[5]=ou,ki[6]=Ds,k=1}else k=0}k&&(k=function(mt,Mt){for(mt.M=0;mt.M<mt.Va;++mt.M){var Ot,ht=mt.Jc[mt.M&mt.Xb],vt=mt.m,It=mt;for(Ot=0;Ot<It.za;++Ot){var Dt=vt,jt=It,Zt=jt.Ac,$t=jt.Bc+4*Ot,oe=jt.zc,Kt=jt.ya[jt.aa+Ot];if(jt.Qa.Bb?Kt.$b=X(Dt,jt.Pa.jb[0])?2+X(Dt,jt.Pa.jb[2]):X(Dt,jt.Pa.jb[1]):Kt.$b=0,jt.kc&&(Kt.Ad=X(Dt,jt.Bd)),Kt.Za=!X(Dt,145)+0,Kt.Za){var Re=Kt.Ob,Be=0;for(jt=0;4>jt;++jt){var je,Oe=oe[0+jt];for(je=0;4>je;++je){Oe=Lp[Zt[$t+je]][Oe];for(var Ke=Xc[X(Dt,Oe[0])];0<Ke;)Ke=Xc[2*Ke+X(Dt,Oe[Ke])];Oe=-Ke,Zt[$t+je]=Oe}r(Re,Be,Zt,$t,4),Be+=4,oe[0+jt]=Oe}}else Oe=X(Dt,156)?X(Dt,128)?1:3:X(Dt,163)?2:0,Kt.Ob[0]=Oe,i(Zt,$t,Oe,4),i(oe,0,Oe,4);Kt.Dd=X(Dt,142)?X(Dt,114)?X(Dt,183)?1:3:2:0}if(It.m.Ka)return he(mt,7,"Premature end-of-partition0 encountered.");for(;mt.ja<mt.za;++mt.ja){if(It=ht,Dt=(vt=mt).rb[vt.sb-1],Zt=vt.rb[vt.sb+vt.ja],Ot=vt.ya[vt.aa+vt.ja],$t=vt.kc?Ot.Ad:0)Dt.la=Zt.la=0,Ot.Za||(Dt.Na=Zt.Na=0),Ot.Hc=0,Ot.Gc=0,Ot.ia=0;else{var We,be;if(Dt=Zt,Zt=It,$t=vt.Pa.Xc,oe=vt.ya[vt.aa+vt.ja],Kt=vt.pb[oe.$b],jt=oe.ad,Re=0,Be=vt.rb[vt.sb-1],Oe=je=0,i(jt,Re,0,384),oe.Za)var On=0,pr=$t[3];else{Ke=o(16);var En=Dt.Na+Be.Na;if(En=ta(Zt,$t[1],En,Kt.Eb,0,Ke,0),Dt.Na=Be.Na=(0<En)+0,1<En)Xo(Ke,0,jt,Re);else{var gr=Ke[0]+3>>3;for(Ke=0;256>Ke;Ke+=16)jt[Re+Ke]=gr}On=1,pr=$t[0]}var Ue=15&Dt.la,Nr=15&Be.la;for(Ke=0;4>Ke;++Ke){var Lr=1&Nr;for(gr=be=0;4>gr;++gr)Ue=Ue>>1|(Lr=(En=ta(Zt,pr,En=Lr+(1&Ue),Kt.Sc,On,jt,Re))>On)<<7,be=be<<2|(3<En?3:1<En?2:jt[Re+0]!=0),Re+=16;Ue>>=4,Nr=Nr>>1|Lr<<7,je=(je<<8|be)>>>0}for(pr=Ue,On=Nr>>4,We=0;4>We;We+=2){for(be=0,Ue=Dt.la>>4+We,Nr=Be.la>>4+We,Ke=0;2>Ke;++Ke){for(Lr=1&Nr,gr=0;2>gr;++gr)En=Lr+(1&Ue),Ue=Ue>>1|(Lr=0<(En=ta(Zt,$t[2],En,Kt.Qc,0,jt,Re)))<<3,be=be<<2|(3<En?3:1<En?2:jt[Re+0]!=0),Re+=16;Ue>>=2,Nr=Nr>>1|Lr<<5}Oe|=be<<4*We,pr|=Ue<<4<<We,On|=(240&Nr)<<We}Dt.la=pr,Be.la=On,oe.Hc=je,oe.Gc=Oe,oe.ia=43690&Oe?0:Kt.ia,$t=!(je|Oe)}if(0<vt.L&&(vt.wa[vt.Y+vt.ja]=vt.gd[Ot.$b][Ot.Za],vt.wa[vt.Y+vt.ja].La|=!$t),It.Ka)return he(mt,7,"Premature end-of-file encountered.")}if(ie(mt),vt=Mt,It=1,Ot=(ht=mt).D,Dt=0<ht.L&&ht.M>=ht.zb&&ht.M<=ht.Va,ht.Aa==0)t:{if(Ot.M=ht.M,Ot.uc=Dt,Ws(ht,Ot),It=1,Ot=(be=ht.D).Nb,Dt=(Oe=el[ht.L])*ht.R,Zt=Oe/2*ht.B,Ke=16*Ot*ht.R,gr=8*Ot*ht.B,$t=ht.sa,oe=ht.ta-Dt+Ke,Kt=ht.qa,jt=ht.ra-Zt+gr,Re=ht.Ha,Be=ht.Ia-Zt+gr,Nr=(Ue=be.M)==0,je=Ue>=ht.Va-1,ht.Aa==2&&Ws(ht,be),be.uc)for(Lr=(En=ht).D.M,t(En.D.uc),be=En.yb;be<En.Hb;++be){On=be,pr=Lr;var Dn=(Vn=(gn=En).D).Nb;We=gn.R;var Vn=Vn.wa[Vn.Y+On],lr=gn.sa,qr=gn.ta+16*Dn*We+16*On,ui=Vn.dd,Rn=Vn.tc;if(Rn!=0)if(t(3<=Rn),gn.L==1)0<On&&Vi(lr,qr,We,Rn+4),Vn.La&&jr(lr,qr,We,Rn),0<pr&&So(lr,qr,We,Rn+4),Vn.La&&Zs(lr,qr,We,Rn);else{var Oi=gn.B,xo=gn.qa,es=gn.ra+8*Dn*Oi+8*On,Gi=gn.Ha,gn=gn.Ia+8*Dn*Oi+8*On;Dn=Vn.ld,0<On&&(Wa(lr,qr,We,Rn+4,ui,Dn),wo(xo,es,Gi,gn,Oi,Rn+4,ui,Dn)),Vn.La&&(Hi(lr,qr,We,Rn,ui,Dn),Qo(xo,es,Gi,gn,Oi,Rn,ui,Dn)),0<pr&&(Zo(lr,qr,We,Rn+4,ui,Dn),Xs(xo,es,Gi,gn,Oi,Rn+4,ui,Dn)),Vn.La&&(_o(lr,qr,We,Rn,ui,Dn),Ao(xo,es,Gi,gn,Oi,Rn,ui,Dn))}}if(ht.ia&&alert("todo:DitherRow"),vt.put!=null){if(be=16*Ue,Ue=16*(Ue+1),Nr?(vt.y=ht.sa,vt.O=ht.ta+Ke,vt.f=ht.qa,vt.N=ht.ra+gr,vt.ea=ht.Ha,vt.W=ht.Ia+gr):(be-=Oe,vt.y=$t,vt.O=oe,vt.f=Kt,vt.N=jt,vt.ea=Re,vt.W=Be),je||(Ue-=Oe),Ue>vt.o&&(Ue=vt.o),vt.F=null,vt.J=null,ht.Fa!=null&&0<ht.Fa.length&&be<Ue&&(vt.J=Hs(ht,vt,be,Ue-be),vt.F=ht.mb,vt.F==null&&vt.F.length==0)){It=he(ht,3,"Could not decode alpha data.");break t}be<vt.j&&(Oe=vt.j-be,be=vt.j,t(!(1&Oe)),vt.O+=ht.R*Oe,vt.N+=ht.B*(Oe>>1),vt.W+=ht.B*(Oe>>1),vt.F!=null&&(vt.J+=vt.width*Oe)),be<Ue&&(vt.O+=vt.v,vt.N+=vt.v>>1,vt.W+=vt.v>>1,vt.F!=null&&(vt.J+=vt.v),vt.ka=be-vt.j,vt.U=vt.va-vt.v,vt.T=Ue-be,It=vt.put(vt))}Ot+1!=ht.Ic||je||(r(ht.sa,ht.ta-Dt,$t,oe+16*ht.R,Dt),r(ht.qa,ht.ra-Zt,Kt,jt+8*ht.B,Zt),r(ht.Ha,ht.Ia-Zt,Re,Be+8*ht.B,Zt))}if(!It)return he(mt,6,"Output aborted.")}return 1}(c,w)),w.bc!=null&&w.bc(w),k&=1}return k?(c.cb=0,k):0}function Ie(c,w,k,q,W){W=c[w+k+32*q]+(W>>3),c[w+k+32*q]=-256&W?0>W?0:255:W}function ce(c,w,k,q,W,Y){Ie(c,w,0,k,q+W),Ie(c,w,1,k,q+Y),Ie(c,w,2,k,q-Y),Ie(c,w,3,k,q-W)}function se(c){return(20091*c>>16)+c}function zn(c,w,k,q){var W,Y=0,J=o(16);for(W=0;4>W;++W){var Q=c[w+0]+c[w+8],et=c[w+0]-c[w+8],rt=(35468*c[w+4]>>16)-se(c[w+12]),ft=se(c[w+4])+(35468*c[w+12]>>16);J[Y+0]=Q+ft,J[Y+1]=et+rt,J[Y+2]=et-rt,J[Y+3]=Q-ft,Y+=4,w++}for(W=Y=0;4>W;++W)Q=(c=J[Y+0]+4)+J[Y+8],et=c-J[Y+8],rt=(35468*J[Y+4]>>16)-se(J[Y+12]),Ie(k,q,0,0,Q+(ft=se(J[Y+4])+(35468*J[Y+12]>>16))),Ie(k,q,1,0,et+rt),Ie(k,q,2,0,et-rt),Ie(k,q,3,0,Q-ft),Y++,q+=32}function we(c,w,k,q){var W=c[w+0]+4,Y=35468*c[w+4]>>16,J=se(c[w+4]),Q=35468*c[w+1]>>16;ce(k,q,0,W+J,c=se(c[w+1]),Q),ce(k,q,1,W+Y,c,Q),ce(k,q,2,W-Y,c,Q),ce(k,q,3,W-J,c,Q)}function dn(c,w,k,q,W){zn(c,w,k,q),W&&zn(c,w+16,k,q+4)}function Ge(c,w,k,q){Ni(c,w+0,k,q,1),Ni(c,w+32,k,q+128,1)}function or(c,w,k,q){var W;for(c=c[w+0]+4,W=0;4>W;++W)for(w=0;4>w;++w)Ie(k,q,w,W,c)}function br(c,w,k,q){c[w+0]&&ar(c,w+0,k,q),c[w+16]&&ar(c,w+16,k,q+4),c[w+32]&&ar(c,w+32,k,q+128),c[w+48]&&ar(c,w+48,k,q+128+4)}function _i(c,w,k,q){var W,Y=o(16);for(W=0;4>W;++W){var J=c[w+0+W]+c[w+12+W],Q=c[w+4+W]+c[w+8+W],et=c[w+4+W]-c[w+8+W],rt=c[w+0+W]-c[w+12+W];Y[0+W]=J+Q,Y[8+W]=J-Q,Y[4+W]=rt+et,Y[12+W]=rt-et}for(W=0;4>W;++W)J=(c=Y[0+4*W]+3)+Y[3+4*W],Q=Y[1+4*W]+Y[2+4*W],et=Y[1+4*W]-Y[2+4*W],rt=c-Y[3+4*W],k[q+0]=J+Q>>3,k[q+16]=rt+et>>3,k[q+32]=J-Q>>3,k[q+48]=rt-et>>3,q+=64}function wr(c,w,k){var q,W=w-32,Y=xr,J=255-c[W-1];for(q=0;q<k;++q){var Q,et=Y,rt=J+c[w-1];for(Q=0;Q<k;++Q)c[w+Q]=et[rt+c[W+Q]];w+=32}}function _r(c,w){wr(c,w,4)}function Fo(c,w){wr(c,w,8)}function Di(c,w){wr(c,w,16)}function Ar(c,w){var k;for(k=0;16>k;++k)r(c,w+32*k,c,w-32,16)}function Wr(c,w){var k;for(k=16;0<k;--k)i(c,w,c[w-1],16),w+=32}function $r(c,w,k){var q;for(q=0;16>q;++q)i(w,k+32*q,c,16)}function po(c,w){var k,q=16;for(k=0;16>k;++k)q+=c[w-1+32*k]+c[w+k-32];$r(q>>5,c,w)}function wn(c,w){var k,q=8;for(k=0;16>k;++k)q+=c[w-1+32*k];$r(q>>4,c,w)}function Ri(c,w){var k,q=8;for(k=0;16>k;++k)q+=c[w+k-32];$r(q>>4,c,w)}function Ta(c,w){$r(128,c,w)}function de(c,w,k){return c+2*w+k+2>>2}function tu(c,w){var k,q=w-32;for(q=new Uint8Array([de(c[q-1],c[q+0],c[q+1]),de(c[q+0],c[q+1],c[q+2]),de(c[q+1],c[q+2],c[q+3]),de(c[q+2],c[q+3],c[q+4])]),k=0;4>k;++k)r(c,w+32*k,q,0,q.length)}function eu(c,w){var k=c[w-1],q=c[w-1+32],W=c[w-1+64],Y=c[w-1+96];st(c,w+0,16843009*de(c[w-1-32],k,q)),st(c,w+32,16843009*de(k,q,W)),st(c,w+64,16843009*de(q,W,Y)),st(c,w+96,16843009*de(W,Y,Y))}function si(c,w){var k,q=4;for(k=0;4>k;++k)q+=c[w+k-32]+c[w-1+32*k];for(q>>=3,k=0;4>k;++k)i(c,w+32*k,q,4)}function Ia(c,w){var k=c[w-1+0],q=c[w-1+32],W=c[w-1+64],Y=c[w-1-32],J=c[w+0-32],Q=c[w+1-32],et=c[w+2-32],rt=c[w+3-32];c[w+0+96]=de(q,W,c[w-1+96]),c[w+1+96]=c[w+0+64]=de(k,q,W),c[w+2+96]=c[w+1+64]=c[w+0+32]=de(Y,k,q),c[w+3+96]=c[w+2+64]=c[w+1+32]=c[w+0+0]=de(J,Y,k),c[w+3+64]=c[w+2+32]=c[w+1+0]=de(Q,J,Y),c[w+3+32]=c[w+2+0]=de(et,Q,J),c[w+3+0]=de(rt,et,Q)}function ja(c,w){var k=c[w+1-32],q=c[w+2-32],W=c[w+3-32],Y=c[w+4-32],J=c[w+5-32],Q=c[w+6-32],et=c[w+7-32];c[w+0+0]=de(c[w+0-32],k,q),c[w+1+0]=c[w+0+32]=de(k,q,W),c[w+2+0]=c[w+1+32]=c[w+0+64]=de(q,W,Y),c[w+3+0]=c[w+2+32]=c[w+1+64]=c[w+0+96]=de(W,Y,J),c[w+3+32]=c[w+2+64]=c[w+1+96]=de(Y,J,Q),c[w+3+64]=c[w+2+96]=de(J,Q,et),c[w+3+96]=de(Q,et,et)}function Bo(c,w){var k=c[w-1+0],q=c[w-1+32],W=c[w-1+64],Y=c[w-1-32],J=c[w+0-32],Q=c[w+1-32],et=c[w+2-32],rt=c[w+3-32];c[w+0+0]=c[w+1+64]=Y+J+1>>1,c[w+1+0]=c[w+2+64]=J+Q+1>>1,c[w+2+0]=c[w+3+64]=Q+et+1>>1,c[w+3+0]=et+rt+1>>1,c[w+0+96]=de(W,q,k),c[w+0+64]=de(q,k,Y),c[w+0+32]=c[w+1+96]=de(k,Y,J),c[w+1+32]=c[w+2+96]=de(Y,J,Q),c[w+2+32]=c[w+3+96]=de(J,Q,et),c[w+3+32]=de(Q,et,rt)}function js(c,w){var k=c[w+0-32],q=c[w+1-32],W=c[w+2-32],Y=c[w+3-32],J=c[w+4-32],Q=c[w+5-32],et=c[w+6-32],rt=c[w+7-32];c[w+0+0]=k+q+1>>1,c[w+1+0]=c[w+0+64]=q+W+1>>1,c[w+2+0]=c[w+1+64]=W+Y+1>>1,c[w+3+0]=c[w+2+64]=Y+J+1>>1,c[w+0+32]=de(k,q,W),c[w+1+32]=c[w+0+96]=de(q,W,Y),c[w+2+32]=c[w+1+96]=de(W,Y,J),c[w+3+32]=c[w+2+96]=de(Y,J,Q),c[w+3+64]=de(J,Q,et),c[w+3+96]=de(Q,et,rt)}function nu(c,w){var k=c[w-1+0],q=c[w-1+32],W=c[w-1+64],Y=c[w-1+96];c[w+0+0]=k+q+1>>1,c[w+2+0]=c[w+0+32]=q+W+1>>1,c[w+2+32]=c[w+0+64]=W+Y+1>>1,c[w+1+0]=de(k,q,W),c[w+3+0]=c[w+1+32]=de(q,W,Y),c[w+3+32]=c[w+1+64]=de(W,Y,Y),c[w+3+64]=c[w+2+64]=c[w+0+96]=c[w+1+96]=c[w+2+96]=c[w+3+96]=Y}function ru(c,w){var k=c[w-1+0],q=c[w-1+32],W=c[w-1+64],Y=c[w-1+96],J=c[w-1-32],Q=c[w+0-32],et=c[w+1-32],rt=c[w+2-32];c[w+0+0]=c[w+2+32]=k+J+1>>1,c[w+0+32]=c[w+2+64]=q+k+1>>1,c[w+0+64]=c[w+2+96]=W+q+1>>1,c[w+0+96]=Y+W+1>>1,c[w+3+0]=de(Q,et,rt),c[w+2+0]=de(J,Q,et),c[w+1+0]=c[w+3+32]=de(k,J,Q),c[w+1+32]=c[w+3+64]=de(q,k,J),c[w+1+64]=c[w+3+96]=de(W,q,k),c[w+1+96]=de(Y,W,q)}function iu(c,w){var k;for(k=0;8>k;++k)r(c,w+32*k,c,w-32,8)}function Ms(c,w){var k;for(k=0;8>k;++k)i(c,w,c[w-1],8),w+=32}function go(c,w,k){var q;for(q=0;8>q;++q)i(w,k+32*q,c,8)}function qi(c,w){var k,q=8;for(k=0;8>k;++k)q+=c[w+k-32]+c[w-1+32*k];go(q>>4,c,w)}function ou(c,w){var k,q=4;for(k=0;8>k;++k)q+=c[w+k-32];go(q>>3,c,w)}function vo(c,w){var k,q=4;for(k=0;8>k;++k)q+=c[w-1+32*k];go(q>>3,c,w)}function Ds(c,w){go(128,c,w)}function Uo(c,w,k){var q=c[w-k],W=c[w+0],Y=3*(W-q)+fu[1020+c[w-2*k]-c[w+k]],J=Ga[112+(Y+4>>3)];c[w-k]=xr[255+q+Ga[112+(Y+3>>3)]],c[w+0]=xr[255+W-J]}function Ma(c,w,k,q){var W=c[w+0],Y=c[w+k];return Dr[255+c[w-2*k]-c[w-k]]>q||Dr[255+Y-W]>q}function Da(c,w,k,q){return 4*Dr[255+c[w-k]-c[w+0]]+Dr[255+c[w-2*k]-c[w+k]]<=q}function Ra(c,w,k,q,W){var Y=c[w-3*k],J=c[w-2*k],Q=c[w-k],et=c[w+0],rt=c[w+k],ft=c[w+2*k],St=c[w+3*k];return 4*Dr[255+Q-et]+Dr[255+J-rt]>q?0:Dr[255+c[w-4*k]-Y]<=W&&Dr[255+Y-J]<=W&&Dr[255+J-Q]<=W&&Dr[255+St-ft]<=W&&Dr[255+ft-rt]<=W&&Dr[255+rt-et]<=W}function qa(c,w,k,q){var W=2*q+1;for(q=0;16>q;++q)Da(c,w+q,k,W)&&Uo(c,w+q,k)}function ai(c,w,k,q){var W=2*q+1;for(q=0;16>q;++q)Da(c,w+q*k,1,W)&&Uo(c,w+q*k,1)}function Ai(c,w,k,q){var W;for(W=3;0<W;--W)qa(c,w+=4*k,k,q)}function su(c,w,k,q){var W;for(W=3;0<W;--W)ai(c,w+=4,k,q)}function Fi(c,w,k,q,W,Y,J,Q){for(Y=2*Y+1;0<W--;){if(Ra(c,w,k,Y,J))if(Ma(c,w,k,Q))Uo(c,w,k);else{var et=c,rt=w,ft=k,St=et[rt-2*ft],xt=et[rt-ft],mt=et[rt+0],Mt=et[rt+ft],Ot=et[rt+2*ft],ht=27*(It=fu[1020+3*(mt-xt)+fu[1020+St-Mt]])+63>>7,vt=18*It+63>>7,It=9*It+63>>7;et[rt-3*ft]=xr[255+et[rt-3*ft]+It],et[rt-2*ft]=xr[255+St+vt],et[rt-ft]=xr[255+xt+ht],et[rt+0]=xr[255+mt-ht],et[rt+ft]=xr[255+Mt-vt],et[rt+2*ft]=xr[255+Ot-It]}w+=q}}function Gr(c,w,k,q,W,Y,J,Q){for(Y=2*Y+1;0<W--;){if(Ra(c,w,k,Y,J))if(Ma(c,w,k,Q))Uo(c,w,k);else{var et=c,rt=w,ft=k,St=et[rt-ft],xt=et[rt+0],mt=et[rt+ft],Mt=Ga[112+((Ot=3*(xt-St))+4>>3)],Ot=Ga[112+(Ot+3>>3)],ht=Mt+1>>1;et[rt-2*ft]=xr[255+et[rt-2*ft]+ht],et[rt-ft]=xr[255+St+Ot],et[rt+0]=xr[255+xt-Mt],et[rt+ft]=xr[255+mt-ht]}w+=q}}function Rs(c,w,k,q,W,Y){Fi(c,w,k,1,16,q,W,Y)}function mo(c,w,k,q,W,Y){Fi(c,w,1,k,16,q,W,Y)}function au(c,w,k,q,W,Y){var J;for(J=3;0<J;--J)Gr(c,w+=4*k,k,1,16,q,W,Y)}function zo(c,w,k,q,W,Y){var J;for(J=3;0<J;--J)Gr(c,w+=4,1,k,16,q,W,Y)}function lu(c,w,k,q,W,Y,J,Q){Fi(c,w,W,1,8,Y,J,Q),Fi(k,q,W,1,8,Y,J,Q)}function qs(c,w,k,q,W,Y,J,Q){Fi(c,w,1,W,8,Y,J,Q),Fi(k,q,1,W,8,Y,J,Q)}function Fs(c,w,k,q,W,Y,J,Q){Gr(c,w+4*W,W,1,8,Y,J,Q),Gr(k,q+4*W,W,1,8,Y,J,Q)}function Fa(c,w,k,q,W,Y,J,Q){Gr(c,w+4,1,W,8,Y,J,Q),Gr(k,q+4,1,W,8,Y,J,Q)}function Ho(){this.ba=new tn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Fe,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Bs(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Us(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ba(){this.ua=0,this.Wa=new it,this.vb=new it,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new j,this.yc=new L}function uu(){this.xb=this.a=0,this.l=new ge,this.ca=new tn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new O,this.Pb=0,this.wd=new O,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ba,this.ab=0,this.gc=s(4,Us),this.Oc=0}function Vo(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ge,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function yo(c,w,k,q,W,Y,J){for(c=c==null?0:c[w+0],w=0;w<J;++w)W[Y+w]=c+k[q+w]&255,c=W[Y+w]}function zs(c,w,k,q,W,Y,J){var Q;if(c==null)yo(null,null,k,q,W,Y,J);else for(Q=0;Q<J;++Q)W[Y+Q]=c[w+Q]+k[q+Q]&255}function Bi(c,w,k,q,W,Y,J){if(c==null)yo(null,null,k,q,W,Y,J);else{var Q,et=c[w+0],rt=et,ft=et;for(Q=0;Q<J;++Q)rt=ft+(et=c[w+Q])-rt,ft=k[q+Q]+(-256&rt?0>rt?0:255:rt)&255,rt=et,W[Y+Q]=ft}}function Hs(c,w,k,q){var W=w.width,Y=w.o;if(t(c!=null&&w!=null),0>k||0>=q||k+q>Y)return null;if(!c.Cc){if(c.ga==null){var J;if(c.ga=new Vo,(J=c.ga==null)||(J=w.width*w.o,t(c.Gb.length==0),c.Gb=o(J),c.Uc=0,c.Gb==null?J=0:(c.mb=c.Gb,c.nb=c.Uc,c.rc=null,J=1),J=!J),!J){J=c.ga;var Q=c.Fa,et=c.P,rt=c.qc,ft=c.mb,St=c.nb,xt=et+1,mt=rt-1,Mt=J.l;if(t(Q!=null&&ft!=null&&w!=null),$i[0]=null,$i[1]=yo,$i[2]=zs,$i[3]=Bi,J.ca=ft,J.tb=St,J.c=w.width,J.i=w.height,t(0<J.c&&0<J.i),1>=rt)w=0;else if(J.$a=Q[et+0]>>0&3,J.Z=Q[et+0]>>2&3,J.Lc=Q[et+0]>>4&3,et=Q[et+0]>>6&3,0>J.$a||1<J.$a||4<=J.Z||1<J.Lc||et)w=0;else if(Mt.put=Kn,Mt.ac=fn,Mt.bc=Yn,Mt.ma=J,Mt.width=w.width,Mt.height=w.height,Mt.Da=w.Da,Mt.v=w.v,Mt.va=w.va,Mt.j=w.j,Mt.o=w.o,J.$a)t:{t(J.$a==1),w=Un();e:for(;;){if(w==null){w=0;break t}if(t(J!=null),J.mc=w,w.c=J.c,w.i=J.i,w.l=J.l,w.l.ma=J,w.l.width=J.c,w.l.height=J.i,w.a=0,nt(w.m,Q,xt,mt),!Cn(J.c,J.i,1,w,null)||(w.ab==1&&w.gc[0].hc==3&&cr(w.s)?(J.ic=1,Q=w.c*w.i,w.Ta=null,w.Ua=0,w.V=o(Q),w.Ba=0,w.V==null?(w.a=1,w=0):w=1):(J.ic=0,w=jn(w,J.c)),!w))break e;w=1;break t}J.mc=null,w=0}else w=mt>=J.c*J.i;J=!w}if(J)return null;c.ga.Lc!=1?c.Ga=0:q=Y-k}t(c.ga!=null),t(k+q<=Y);t:{if(w=(Q=c.ga).c,Y=Q.l.o,Q.$a==0){if(xt=c.rc,mt=c.Vc,Mt=c.Fa,et=c.P+1+k*w,rt=c.mb,ft=c.nb+k*w,t(et<=c.P+c.qc),Q.Z!=0)for(t($i[Q.Z]!=null),J=0;J<q;++J)$i[Q.Z](xt,mt,Mt,et,rt,ft,w),xt=rt,mt=ft,ft+=w,et+=w;else for(J=0;J<q;++J)r(rt,ft,Mt,et,w),xt=rt,mt=ft,ft+=w,et+=w;c.rc=xt,c.Vc=mt}else{if(t(Q.mc!=null),w=k+q,t((J=Q.mc)!=null),t(w<=J.i),J.C>=w)w=1;else if(Q.ic||_t(),Q.ic){Q=J.V,xt=J.Ba,mt=J.c;var Ot=J.i,ht=(Mt=1,et=J.$/mt,rt=J.$%mt,ft=J.m,St=J.s,J.$),vt=mt*Ot,It=mt*w,Dt=St.wc,jt=ht<It?$e(St,rt,et):null;t(ht<=vt),t(w<=Ot),t(cr(St));e:for(;;){for(;!ft.h&&ht<It;){if(rt&Dt||(jt=$e(St,rt,et)),t(jt!=null),T(ft),256>(Ot=ln(jt.G[0],jt.H[0],ft)))Q[xt+ht]=Ot,++ht,++rt>=mt&&(rt=0,++et<=w&&!(et%16)&&hn(J,et));else{if(!(280>Ot)){Mt=0;break e}Ot=Je(Ot-256,ft);var Zt,$t=ln(jt.G[4],jt.H[4],ft);if(T(ft),!(ht>=($t=sn(mt,$t=Je($t,ft)))&&vt-ht>=Ot)){Mt=0;break e}for(Zt=0;Zt<Ot;++Zt)Q[xt+ht+Zt]=Q[xt+ht+Zt-$t];for(ht+=Ot,rt+=Ot;rt>=mt;)rt-=mt,++et<=w&&!(et%16)&&hn(J,et);ht<It&&rt&Dt&&(jt=$e(St,rt,et))}t(ft.h==V(ft))}hn(J,et>w?w:et);break e}!Mt||ft.h&&ht<vt?(Mt=0,J.a=ft.h?5:3):J.$=ht,w=Mt}else w=Bn(J,J.V,J.Ba,J.c,J.i,w,Vr);if(!w){q=0;break t}}k+q>=Y&&(c.Cc=1),q=1}if(!q)return null;if(c.Cc&&((q=c.ga)!=null&&(q.mc=null),c.ga=null,0<c.Ga))return alert("todo:WebPDequantizeLevels"),null}return c.nb+k*W}function S(c,w,k,q,W,Y){for(;0<W--;){var J,Q=c,et=w+(k?1:0),rt=c,ft=w+(k?0:3);for(J=0;J<q;++J){var St=rt[ft+4*J];St!=255&&(St*=32897,Q[et+4*J+0]=Q[et+4*J+0]*St>>23,Q[et+4*J+1]=Q[et+4*J+1]*St>>23,Q[et+4*J+2]=Q[et+4*J+2]*St>>23)}w+=Y}}function $(c,w,k,q,W){for(;0<q--;){var Y;for(Y=0;Y<k;++Y){var J=c[w+2*Y+0],Q=15&(rt=c[w+2*Y+1]),et=4369*Q,rt=(240&rt|rt>>4)*et>>16;c[w+2*Y+0]=(240&J|J>>4)*et>>16&240|(15&J|J<<4)*et>>16>>4&15,c[w+2*Y+1]=240&rt|Q}w+=W}}function ot(c,w,k,q,W,Y,J,Q){var et,rt,ft=255;for(rt=0;rt<W;++rt){for(et=0;et<q;++et){var St=c[w+et];Y[J+4*et]=St,ft&=St}w+=k,J+=Q}return ft!=255}function ct(c,w,k,q,W){var Y;for(Y=0;Y<W;++Y)k[q+Y]=c[w+Y]>>8}function _t(){Mr=S,Xe=$,Ze=ot,An=ct}function Et(c,w,k){E[c]=function(q,W,Y,J,Q,et,rt,ft,St,xt,mt,Mt,Ot,ht,vt,It,Dt){var jt,Zt=Dt-1>>1,$t=Q[et+0]|rt[ft+0]<<16,oe=St[xt+0]|mt[Mt+0]<<16;t(q!=null);var Kt=3*$t+oe+131074>>2;for(w(q[W+0],255&Kt,Kt>>16,Ot,ht),Y!=null&&(Kt=3*oe+$t+131074>>2,w(Y[J+0],255&Kt,Kt>>16,vt,It)),jt=1;jt<=Zt;++jt){var Re=Q[et+jt]|rt[ft+jt]<<16,Be=St[xt+jt]|mt[Mt+jt]<<16,je=$t+Re+oe+Be+524296,Oe=je+2*(Re+oe)>>3;Kt=Oe+$t>>1,$t=(je=je+2*($t+Be)>>3)+Re>>1,w(q[W+2*jt-1],255&Kt,Kt>>16,Ot,ht+(2*jt-1)*k),w(q[W+2*jt-0],255&$t,$t>>16,Ot,ht+(2*jt-0)*k),Y!=null&&(Kt=je+oe>>1,$t=Oe+Be>>1,w(Y[J+2*jt-1],255&Kt,Kt>>16,vt,It+(2*jt-1)*k),w(Y[J+2*jt+0],255&$t,$t>>16,vt,It+(2*jt+0)*k)),$t=Re,oe=Be}1&Dt||(Kt=3*$t+oe+131074>>2,w(q[W+Dt-1],255&Kt,Kt>>16,Ot,ht+(Dt-1)*k),Y!=null&&(Kt=3*oe+$t+131074>>2,w(Y[J+Dt-1],255&Kt,Kt>>16,vt,It+(Dt-1)*k)))}}function qt(){Rr[Ka]=Pp,Rr[Ya]=Qc,Rr[Kc]=Cp,Rr[Ja]=tf,Rr[Xa]=ef,Rr[hu]=nf,Rr[Yc]=Tp,Rr[du]=Qc,Rr[pu]=tf,Rr[Za]=ef,Rr[gu]=nf}function Jt(c){return c&~Ip?0>c?0:255:c>>rf}function re(c,w){return Jt((19077*c>>8)+(26149*w>>8)-14234)}function ye(c,w,k){return Jt((19077*c>>8)-(6419*w>>8)-(13320*k>>8)+8708)}function ve(c,w){return Jt((19077*c>>8)+(33050*w>>8)-17685)}function Te(c,w,k,q,W){q[W+0]=re(c,k),q[W+1]=ye(c,w,k),q[W+2]=ve(c,w)}function un(c,w,k,q,W){q[W+0]=ve(c,w),q[W+1]=ye(c,w,k),q[W+2]=re(c,k)}function pn(c,w,k,q,W){var Y=ye(c,w,k);w=Y<<3&224|ve(c,w)>>3,q[W+0]=248&re(c,k)|Y>>5,q[W+1]=w}function kn(c,w,k,q,W){var Y=240&ve(c,w)|15;q[W+0]=240&re(c,k)|ye(c,w,k)>>4,q[W+1]=Y}function Jn(c,w,k,q,W){q[W+0]=255,Te(c,w,k,q,W+1)}function Mn(c,w,k,q,W){un(c,w,k,q,W),q[W+3]=255}function Kr(c,w,k,q,W){Te(c,w,k,q,W),q[W+3]=255}function Sr(c,w){return 0>c?0:c>w?w:c}function li(c,w,k){E[c]=function(q,W,Y,J,Q,et,rt,ft,St){for(var xt=ft+(-2&St)*k;ft!=xt;)w(q[W+0],Y[J+0],Q[et+0],rt,ft),w(q[W+1],Y[J+0],Q[et+0],rt,ft+k),W+=2,++J,++et,ft+=2*k;1&St&&w(q[W+0],Y[J+0],Q[et+0],rt,ft)}}function Ua(c,w,k){return k==0?c==0?w==0?6:5:w==0?4:0:k}function Vs(c,w,k,q,W){switch(c>>>30){case 3:Ni(w,k,q,W,0);break;case 2:_n(w,k,q,W);break;case 1:ar(w,k,q,W)}}function Ws(c,w){var k,q,W=w.M,Y=w.Nb,J=c.oc,Q=c.pc+40,et=c.oc,rt=c.pc+584,ft=c.oc,St=c.pc+600;for(k=0;16>k;++k)J[Q+32*k-1]=129;for(k=0;8>k;++k)et[rt+32*k-1]=129,ft[St+32*k-1]=129;for(0<W?J[Q-1-32]=et[rt-1-32]=ft[St-1-32]=129:(i(J,Q-32-1,127,21),i(et,rt-32-1,127,9),i(ft,St-32-1,127,9)),q=0;q<c.za;++q){var xt=w.ya[w.aa+q];if(0<q){for(k=-1;16>k;++k)r(J,Q+32*k-4,J,Q+32*k+12,4);for(k=-1;8>k;++k)r(et,rt+32*k-4,et,rt+32*k+4,4),r(ft,St+32*k-4,ft,St+32*k+4,4)}var mt=c.Gd,Mt=c.Hd+q,Ot=xt.ad,ht=xt.Hc;if(0<W&&(r(J,Q-32,mt[Mt].y,0,16),r(et,rt-32,mt[Mt].f,0,8),r(ft,St-32,mt[Mt].ea,0,8)),xt.Za){var vt=J,It=Q-32+16;for(0<W&&(q>=c.za-1?i(vt,It,mt[Mt].y[15],4):r(vt,It,mt[Mt+1].y,0,4)),k=0;4>k;k++)vt[It+128+k]=vt[It+256+k]=vt[It+384+k]=vt[It+0+k];for(k=0;16>k;++k,ht<<=2)vt=J,It=Q+sf[k],Yr[xt.Ob[k]](vt,It),Vs(ht,Ot,16*+k,vt,It)}else if(vt=Ua(q,W,xt.Ob[0]),Wi[vt](J,Q),ht!=0)for(k=0;16>k;++k,ht<<=2)Vs(ht,Ot,16*+k,J,Q+sf[k]);for(k=xt.Gc,vt=Ua(q,W,xt.Dd),ki[vt](et,rt),ki[vt](ft,St),ht=Ot,vt=et,It=rt,255&(xt=k>>0)&&(170&xt?Js(ht,256,vt,It):Ir(ht,256,vt,It)),xt=ft,ht=St,255&(k>>=8)&&(170&k?Js(Ot,320,xt,ht):Ir(Ot,320,xt,ht)),W<c.Ub-1&&(r(mt[Mt].y,0,J,Q+480,16),r(mt[Mt].f,0,et,rt+224,8),r(mt[Mt].ea,0,ft,St+224,8)),k=8*Y*c.B,mt=c.sa,Mt=c.ta+16*q+16*Y*c.R,Ot=c.qa,xt=c.ra+8*q+k,ht=c.Ha,vt=c.Ia+8*q+k,k=0;16>k;++k)r(mt,Mt+k*c.R,J,Q+32*k,16);for(k=0;8>k;++k)r(Ot,xt+k*c.B,et,rt+32*k,8),r(ht,vt+k*c.B,ft,St+32*k,8)}}function Wo(c,w,k,q,W,Y,J,Q,et){var rt=[0],ft=[0],St=0,xt=et!=null?et.kd:0,mt=et??new Bs;if(c==null||12>k)return 7;mt.data=c,mt.w=w,mt.ha=k,w=[w],k=[k],mt.gb=[mt.gb];t:{var Mt=w,Ot=k,ht=mt.gb;if(t(c!=null),t(Ot!=null),t(ht!=null),ht[0]=0,12<=Ot[0]&&!e(c,Mt[0],"RIFF")){if(e(c,Mt[0]+8,"WEBP")){ht=3;break t}var vt=At(c,Mt[0]+4);if(12>vt||4294967286<vt){ht=3;break t}if(xt&&vt>Ot[0]-8){ht=7;break t}ht[0]=vt,Mt[0]+=12,Ot[0]-=12}ht=0}if(ht!=0)return ht;for(vt=0<mt.gb[0],k=k[0];;){t:{var It=c;Ot=w,ht=k;var Dt=rt,jt=ft,Zt=Mt=[0];if((Kt=St=[St])[0]=0,8>ht[0])ht=7;else{if(!e(It,Ot[0],"VP8X")){if(At(It,Ot[0]+4)!=10){ht=3;break t}if(18>ht[0]){ht=7;break t}var $t=At(It,Ot[0]+8),oe=1+Nt(It,Ot[0]+12);if(2147483648<=oe*(It=1+Nt(It,Ot[0]+15))){ht=3;break t}Zt!=null&&(Zt[0]=$t),Dt!=null&&(Dt[0]=oe),jt!=null&&(jt[0]=It),Ot[0]+=18,ht[0]-=18,Kt[0]=1}ht=0}}if(St=St[0],Mt=Mt[0],ht!=0)return ht;if(Ot=!!(2&Mt),!vt&&St)return 3;if(Y!=null&&(Y[0]=!!(16&Mt)),J!=null&&(J[0]=Ot),Q!=null&&(Q[0]=0),J=rt[0],Mt=ft[0],St&&Ot&&et==null){ht=0;break}if(4>k){ht=7;break}if(vt&&St||!vt&&!St&&!e(c,w[0],"ALPH")){k=[k],mt.na=[mt.na],mt.P=[mt.P],mt.Sa=[mt.Sa];t:{$t=c,ht=w,vt=k;var Kt=mt.gb;Dt=mt.na,jt=mt.P,Zt=mt.Sa,oe=22,t($t!=null),t(vt!=null),It=ht[0];var Re=vt[0];for(t(Dt!=null),t(Zt!=null),Dt[0]=null,jt[0]=null,Zt[0]=0;;){if(ht[0]=It,vt[0]=Re,8>Re){ht=7;break t}var Be=At($t,It+4);if(4294967286<Be){ht=3;break t}var je=8+Be+1&-2;if(oe+=je,0<Kt&&oe>Kt){ht=3;break t}if(!e($t,It,"VP8 ")||!e($t,It,"VP8L")){ht=0;break t}if(Re[0]<je){ht=7;break t}e($t,It,"ALPH")||(Dt[0]=$t,jt[0]=It+8,Zt[0]=Be),It+=je,Re-=je}}if(k=k[0],mt.na=mt.na[0],mt.P=mt.P[0],mt.Sa=mt.Sa[0],ht!=0)break}k=[k],mt.Ja=[mt.Ja],mt.xa=[mt.xa];t:if(Kt=c,ht=w,vt=k,Dt=mt.gb[0],jt=mt.Ja,Zt=mt.xa,$t=ht[0],It=!e(Kt,$t,"VP8 "),oe=!e(Kt,$t,"VP8L"),t(Kt!=null),t(vt!=null),t(jt!=null),t(Zt!=null),8>vt[0])ht=7;else{if(It||oe){if(Kt=At(Kt,$t+4),12<=Dt&&Kt>Dt-12){ht=3;break t}if(xt&&Kt>vt[0]-8){ht=7;break t}jt[0]=Kt,ht[0]+=8,vt[0]-=8,Zt[0]=oe}else Zt[0]=5<=vt[0]&&Kt[$t+0]==47&&!(Kt[$t+4]>>5),jt[0]=vt[0];ht=0}if(k=k[0],mt.Ja=mt.Ja[0],mt.xa=mt.xa[0],w=w[0],ht!=0)break;if(4294967286<mt.Ja)return 3;if(Q==null||Ot||(Q[0]=mt.xa?2:1),J=[J],Mt=[Mt],mt.xa){if(5>k){ht=7;break}Q=J,xt=Mt,Ot=Y,c==null||5>k?c=0:5<=k&&c[w+0]==47&&!(c[w+4]>>5)?(vt=[0],Kt=[0],Dt=[0],nt(jt=new O,c,w,k),ee(jt,vt,Kt,Dt)?(Q!=null&&(Q[0]=vt[0]),xt!=null&&(xt[0]=Kt[0]),Ot!=null&&(Ot[0]=Dt[0]),c=1):c=0):c=0}else{if(10>k){ht=7;break}Q=Mt,c==null||10>k||!ir(c,w+3,k-3)?c=0:(xt=c[w+0]|c[w+1]<<8|c[w+2]<<16,Ot=16383&(c[w+7]<<8|c[w+6]),c=16383&(c[w+9]<<8|c[w+8]),1&xt||3<(xt>>1&7)||!(xt>>4&1)||xt>>5>=mt.Ja||!Ot||!c?c=0:(J&&(J[0]=Ot),Q&&(Q[0]=c),c=1))}if(!c||(J=J[0],Mt=Mt[0],St&&(rt[0]!=J||ft[0]!=Mt)))return 3;et!=null&&(et[0]=mt,et.offset=w-et.w,t(4294967286>w-et.w),t(et.offset==et.ha-k));break}return ht==0||ht==7&&St&&et==null?(Y!=null&&(Y[0]|=mt.na!=null&&0<mt.na.length),q!=null&&(q[0]=J),W!=null&&(W[0]=Mt),0):ht}function $s(c,w,k){var q=w.width,W=w.height,Y=0,J=0,Q=q,et=W;if(w.Da=c!=null&&0<c.Da,w.Da&&(Q=c.cd,et=c.bd,Y=c.v,J=c.j,11>k||(Y&=-2,J&=-2),0>Y||0>J||0>=Q||0>=et||Y+Q>q||J+et>W))return 0;if(w.v=Y,w.j=J,w.va=Y+Q,w.o=J+et,w.U=Q,w.T=et,w.da=c!=null&&0<c.da,w.da){if(!Wt(Q,et,k=[c.ib],Y=[c.hb]))return 0;w.ib=k[0],w.hb=Y[0]}return w.ob=c!=null&&c.ob,w.Kb=c==null||!c.Sd,w.da&&(w.ob=w.ib<3*q/4&&w.hb<3*W/4,w.Kb=0),1}function Gs(c){if(c==null)return 2;if(11>c.S){var w=c.f.RGBA;w.fb+=(c.height-1)*w.A,w.A=-w.A}else w=c.f.kb,c=c.height,w.O+=(c-1)*w.fa,w.fa=-w.fa,w.N+=(c-1>>1)*w.Ab,w.Ab=-w.Ab,w.W+=(c-1>>1)*w.Db,w.Db=-w.Db,w.F!=null&&(w.J+=(c-1)*w.lb,w.lb=-w.lb);return 0}function $o(c,w,k,q){if(q==null||0>=c||0>=w)return 2;if(k!=null){if(k.Da){var W=k.cd,Y=k.bd,J=-2&k.v,Q=-2&k.j;if(0>J||0>Q||0>=W||0>=Y||J+W>c||Q+Y>w)return 2;c=W,w=Y}if(k.da){if(!Wt(c,w,W=[k.ib],Y=[k.hb]))return 2;c=W[0],w=Y[0]}}q.width=c,q.height=w;t:{var et=q.width,rt=q.height;if(c=q.S,0>=et||0>=rt||!(c>=Ka&&13>c))c=2;else{if(0>=q.Rd&&q.sd==null){J=Y=W=w=0;var ft=(Q=et*af[c])*rt;if(11>c||(Y=(rt+1)/2*(w=(et+1)/2),c==12&&(J=(W=et)*rt)),(rt=o(ft+2*Y+J))==null){c=1;break t}q.sd=rt,11>c?((et=q.f.RGBA).eb=rt,et.fb=0,et.A=Q,et.size=ft):((et=q.f.kb).y=rt,et.O=0,et.fa=Q,et.Fd=ft,et.f=rt,et.N=0+ft,et.Ab=w,et.Cd=Y,et.ea=rt,et.W=0+ft+Y,et.Db=w,et.Ed=Y,c==12&&(et.F=rt,et.J=0+ft+2*Y),et.Tc=J,et.lb=W)}if(w=1,W=q.S,Y=q.width,J=q.height,W>=Ka&&13>W)if(11>W)c=q.f.RGBA,w&=(Q=Math.abs(c.A))*(J-1)+Y<=c.size,w&=Q>=Y*af[W],w&=c.eb!=null;else{c=q.f.kb,Q=(Y+1)/2,ft=(J+1)/2,et=Math.abs(c.fa),rt=Math.abs(c.Ab);var St=Math.abs(c.Db),xt=Math.abs(c.lb),mt=xt*(J-1)+Y;w&=et*(J-1)+Y<=c.Fd,w&=rt*(ft-1)+Q<=c.Cd,w=(w&=St*(ft-1)+Q<=c.Ed)&et>=Y&rt>=Q&St>=Q,w&=c.y!=null,w&=c.f!=null,w&=c.ea!=null,W==12&&(w&=xt>=Y,w&=mt<=c.Tc,w&=c.F!=null)}else w=0;c=w?0:2}}return c!=0||k!=null&&k.fd&&(c=Gs(q)),c}var Hn=64,Go=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ko=24,Yo=32,Ks=8,hr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];lt("Predictor0","PredictorAdd0"),E.Predictor0=function(){return 4278190080},E.Predictor1=function(c){return c},E.Predictor2=function(c,w,k){return w[k+0]},E.Predictor3=function(c,w,k){return w[k+1]},E.Predictor4=function(c,w,k){return w[k-1]},E.Predictor5=function(c,w,k){return pt(pt(c,w[k+1]),w[k+0])},E.Predictor6=function(c,w,k){return pt(c,w[k-1])},E.Predictor7=function(c,w,k){return pt(c,w[k+0])},E.Predictor8=function(c,w,k){return pt(w[k-1],w[k+0])},E.Predictor9=function(c,w,k){return pt(w[k+0],w[k+1])},E.Predictor10=function(c,w,k){return pt(pt(c,w[k-1]),pt(w[k+0],w[k+1]))},E.Predictor11=function(c,w,k){var q=w[k+0];return 0>=Rt(q>>24&255,c>>24&255,(w=w[k-1])>>24&255)+Rt(q>>16&255,c>>16&255,w>>16&255)+Rt(q>>8&255,c>>8&255,w>>8&255)+Rt(255&q,255&c,255&w)?q:c},E.Predictor12=function(c,w,k){var q=w[k+0];return(Ct((c>>24&255)+(q>>24&255)-((w=w[k-1])>>24&255))<<24|Ct((c>>16&255)+(q>>16&255)-(w>>16&255))<<16|Ct((c>>8&255)+(q>>8&255)-(w>>8&255))<<8|Ct((255&c)+(255&q)-(255&w)))>>>0},E.Predictor13=function(c,w,k){var q=w[k-1];return(Tt((c=pt(c,w[k+0]))>>24&255,q>>24&255)<<24|Tt(c>>16&255,q>>16&255)<<16|Tt(c>>8&255,q>>8&255)<<8|Tt(c>>0&255,q>>0&255))>>>0};var cu=E.PredictorAdd0;E.PredictorAdd1=Ht,lt("Predictor2","PredictorAdd2"),lt("Predictor3","PredictorAdd3"),lt("Predictor4","PredictorAdd4"),lt("Predictor5","PredictorAdd5"),lt("Predictor6","PredictorAdd6"),lt("Predictor7","PredictorAdd7"),lt("Predictor8","PredictorAdd8"),lt("Predictor9","PredictorAdd9"),lt("Predictor10","PredictorAdd10"),lt("Predictor11","PredictorAdd11"),lt("Predictor12","PredictorAdd12"),lt("Predictor13","PredictorAdd13");var Ys=E.PredictorAdd2;zt("ColorIndexInverseTransform","MapARGB","32b",function(c){return c>>8&255},function(c){return c}),zt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(c){return c},function(c){return c>>8&255});var za,Tr=E.ColorIndexInverseTransform,Jo=E.MapARGB,Ha=E.VP8LColorIndexInverseTransformAlpha,Va=E.MapAlpha,Ui=E.VP8LPredictorsAdd=[];Ui.length=16,(E.VP8LPredictors=[]).length=16,(E.VP8LPredictorsAdd_C=[]).length=16,(E.VP8LPredictors_C=[]).length=16;var bo,dr,sr,zi,Si,xi,Xo,Ni,_n,Js,ar,Ir,Zo,Wa,Xs,wo,_o,Hi,Ao,Qo,So,Vi,Zs,jr,Mr,Xe,Ze,An,Tn=o(511),Li=o(2041),Qs=o(225),ts=o(767),$a=0,fu=Li,Ga=Qs,xr=ts,Dr=Tn,Ka=0,Ya=1,Kc=2,Ja=3,Xa=4,hu=5,Yc=6,du=7,pu=8,Za=9,gu=10,vp=[2,3,7],mp=[3,3,11],Jc=[280,256,256,256,40],yp=[0,1,1,1,0],bp=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],wp=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],_p=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Ap=8,vu=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],mu=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ta=null,Sp=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],xp=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Xc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Np=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Lp=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],kp=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Op=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Wi=[],Yr=[],ki=[],Ep=1,Zc=2,$i=[],Rr=[];Et("UpsampleRgbLinePair",Te,3),Et("UpsampleBgrLinePair",un,3),Et("UpsampleRgbaLinePair",Kr,4),Et("UpsampleBgraLinePair",Mn,4),Et("UpsampleArgbLinePair",Jn,4),Et("UpsampleRgba4444LinePair",kn,2),Et("UpsampleRgb565LinePair",pn,2);var Pp=E.UpsampleRgbLinePair,Cp=E.UpsampleBgrLinePair,Qc=E.UpsampleRgbaLinePair,tf=E.UpsampleBgraLinePair,ef=E.UpsampleArgbLinePair,nf=E.UpsampleRgba4444LinePair,Tp=E.UpsampleRgb565LinePair,Qa=16,tl=1<<Qa-1,ea=-227,yu=482,rf=6,Ip=(256<<rf)-1,of=0,jp=o(256),Mp=o(256),Dp=o(256),Rp=o(256),qp=o(yu-ea),Fp=o(yu-ea);li("YuvToRgbRow",Te,3),li("YuvToBgrRow",un,3),li("YuvToRgbaRow",Kr,4),li("YuvToBgraRow",Mn,4),li("YuvToArgbRow",Jn,4),li("YuvToRgba4444Row",kn,2),li("YuvToRgb565Row",pn,2);var sf=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],el=[0,2,8],Bp=[8,7,6,4,4,2,2,2,1,1,1,1],Up=1;this.WebPDecodeRGBA=function(c,w,k,q,W){var Y=Ya,J=new Ho,Q=new tn;J.ba=Q,Q.S=Y,Q.width=[Q.width],Q.height=[Q.height];var et=Q.width,rt=Q.height,ft=new an;if(ft==null||c==null)var St=2;else t(ft!=null),St=Wo(c,w,k,ft.width,ft.height,ft.Pd,ft.Qd,ft.format,null);if(St!=0?et=0:(et!=null&&(et[0]=ft.width[0]),rt!=null&&(rt[0]=ft.height[0]),et=1),et){Q.width=Q.width[0],Q.height=Q.height[0],q!=null&&(q[0]=Q.width),W!=null&&(W[0]=Q.height);t:{if(q=new ge,(W=new Bs).data=c,W.w=w,W.ha=k,W.kd=1,w=[0],t(W!=null),((c=Wo(W.data,W.w,W.ha,null,null,null,w,null,W))==0||c==7)&&w[0]&&(c=4),(w=c)==0){if(t(J!=null),q.data=W.data,q.w=W.w+W.offset,q.ha=W.ha-W.offset,q.put=Kn,q.ac=fn,q.bc=Yn,q.ma=J,W.xa){if((c=Un())==null){J=1;break t}if(function(xt,mt){var Mt=[0],Ot=[0],ht=[0];e:for(;;){if(xt==null)return 0;if(mt==null)return xt.a=2,0;if(xt.l=mt,xt.a=0,nt(xt.m,mt.data,mt.w,mt.ha),!ee(xt.m,Mt,Ot,ht)){xt.a=3;break e}if(xt.xb=Zc,mt.width=Mt[0],mt.height=Ot[0],!Cn(Mt[0],Ot[0],1,xt,null))break e;return 1}return t(xt.a!=0),0}(c,q)){if(q=(w=$o(q.width,q.height,J.Oa,J.ba))==0){e:{q=c;n:for(;;){if(q==null){q=0;break e}if(t(q.s.yc!=null),t(q.s.Ya!=null),t(0<q.s.Wb),t((k=q.l)!=null),t((W=k.ma)!=null),q.xb!=0){if(q.ca=W.ba,q.tb=W.tb,t(q.ca!=null),!$s(W.Oa,k,Ja)){q.a=2;break n}if(!jn(q,k.width)||k.da)break n;if((k.da||Ae(q.ca.S))&&_t(),11>q.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),q.ca.f.kb.F!=null&&_t()),q.Pb&&0<q.s.ua&&q.s.vb.X==null&&!Pt(q.s.vb,q.s.Wa.Xa)){q.a=1;break n}q.xb=0}if(!Bn(q,q.V,q.Ba,q.c,q.i,k.o,mr))break n;W.Dc=q.Ma,q=1;break e}t(q.a!=0),q=0}q=!q}q&&(w=c.a)}else w=c.a}else{if((c=new nn)==null){J=1;break t}if(c.Fa=W.na,c.P=W.P,c.qc=W.Sa,fr(c,q)){if((w=$o(q.width,q.height,J.Oa,J.ba))==0){if(c.Aa=0,k=J.Oa,t((W=c)!=null),k!=null){if(0<(et=0>(et=k.Md)?0:100<et?255:255*et/100)){for(rt=ft=0;4>rt;++rt)12>(St=W.pb[rt]).lc&&(St.ia=et*Bp[0>St.lc?0:St.lc]>>3),ft|=St.ia;ft&&(alert("todo:VP8InitRandom"),W.ia=1)}W.Ga=k.Id,100<W.Ga?W.Ga=100:0>W.Ga&&(W.Ga=0)}Pe(c,q)||(w=c.a)}}else w=c.a}w==0&&J.Oa!=null&&J.Oa.fd&&(w=Gs(J.ba))}J=w}Y=J!=0?null:11>Y?Q.f.RGBA.eb:Q.f.kb.y}else Y=null;return Y};var af=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(E,B){for(var D="",N=0;N<4;N++)D+=String.fromCharCode(E[B++]);return D}function p(E,B){return(E[B+0]<<0|E[B+1]<<8|E[B+2]<<16)>>>0}function h(E,B){return(E[B+0]<<0|E[B+1]<<8|E[B+2]<<16|E[B+3]<<24)>>>0}new u;var f=[0],a=[0],m=[],_=new u,A=n,v=function(E,B){var D={},N=0,L=!1,C=0,j=0;if(D.frames=[],!function(R,V,M,T){for(var F=0;F<T;F++)if(R[V+F]!=M.charCodeAt(F))return!0;return!1}(E,B,"RIFF",4)){var U,G;for(h(E,B+=4),B+=8;B<E.length;){var Z=d(E,B),nt=h(E,B+=4);B+=4;var tt=nt+(1&nt);switch(Z){case"VP8 ":case"VP8L":D.frames[N]===void 0&&(D.frames[N]={}),(O=D.frames[N]).src_off=L?j:B-8,O.src_size=C+nt+8,N++,L&&(L=!1,C=0,j=0);break;case"VP8X":(O=D.header={}).feature_flags=E[B];var K=B+4;O.canvas_width=1+p(E,K),K+=3,O.canvas_height=1+p(E,K),K+=3;break;case"ALPH":L=!0,C=tt+8,j=B-8;break;case"ANIM":(O=D.header).bgcolor=h(E,B),K=B+4,O.loop_count=(U=E)[(G=K)+0]<<0|U[G+1]<<8,K+=2;break;case"ANMF":var z,O;(O=D.frames[N]={}).offset_x=2*p(E,B),B+=3,O.offset_y=2*p(E,B),B+=3,O.width=1+p(E,B),B+=3,O.height=1+p(E,B),B+=3,O.duration=p(E,B),B+=3,z=E[B++],O.dispose=1&z,O.blend=z>>1&1}Z!="ANMF"&&(B+=tt)}return D}}(A,0);v.response=A,v.rgbaoutput=!0,v.dataurl=!1;var g=v.header?v.header:null,y=v.frames?v.frames:null;if(g){g.loop_counter=g.loop_count,f=[g.canvas_height],a=[g.canvas_width];for(var b=0;b<y.length&&y[b].blend!=0;b++);}var x=y[0],I=_.WebPDecodeRGBA(A,x.src_off,x.src_size,a,f);x.rgba=I,x.imgwidth=a[0],x.imgheight=f[0];for(var P=0;P<a[0]*f[0]*4;P++)m[P]=I[P];return this.width=a,this.height=f,this.data=m,this}(function(n){var t=function(){return typeof ec=="function"},e=function(f,a,m,_){var A=4,v=s;switch(_){case n.image_compression.FAST:A=1,v=o;break;case n.image_compression.MEDIUM:A=6,v=l;break;case n.image_compression.SLOW:A=9,v=u}f=r(f,a,m,v);var g=ec(f,{level:A});return n.__addimage__.arrayBufferToBinaryString(g)},r=function(f,a,m,_){for(var A,v,g,y=f.length/a,b=new Uint8Array(f.length+y),x=p(),I=0;I<y;I+=1){if(g=I*a,A=f.subarray(g,g+a),_)b.set(_(A,m,v),g+I);else{for(var P,E=x.length,B=[];P<E;P+=1)B[P]=x[P](A,m,v);var D=h(B.concat());b.set(B[D],g+I)}v=A}return b},i=function(f){var a=Array.apply([],f);return a.unshift(0),a},o=function(f,a){var m,_=[],A=f.length;_[0]=1;for(var v=0;v<A;v+=1)m=f[v-a]||0,_[v+1]=f[v]-m+256&255;return _},s=function(f,a,m){var _,A=[],v=f.length;A[0]=2;for(var g=0;g<v;g+=1)_=m&&m[g]||0,A[g+1]=f[g]-_+256&255;return A},l=function(f,a,m){var _,A,v=[],g=f.length;v[0]=3;for(var y=0;y<g;y+=1)_=f[y-a]||0,A=m&&m[y]||0,v[y+1]=f[y]+256-(_+A>>>1)&255;return v},u=function(f,a,m){var _,A,v,g,y=[],b=f.length;y[0]=4;for(var x=0;x<b;x+=1)_=f[x-a]||0,A=m&&m[x]||0,v=m&&m[x-a]||0,g=d(_,A,v),y[x+1]=f[x]-g+256&255;return y},d=function(f,a,m){if(f===a&&a===m)return f;var _=Math.abs(a-m),A=Math.abs(f-m),v=Math.abs(f+a-m-m);return _<=A&&_<=v?f:A<=v?a:m},p=function(){return[i,o,s,l,u]},h=function(f){var a=f.map(function(m){return m.reduce(function(_,A){return _+Math.abs(A)},0)});return a.indexOf(Math.min.apply(null,a))};n.processPNG=function(f,a,m,_){var A,v,g,y,b,x,I,P,E,B,D,N,L,C,j,U=this.decode.FLATE_DECODE,G="";if(this.__addimage__.isArrayBuffer(f)&&(f=new Uint8Array(f)),this.__addimage__.isArrayBufferView(f)){if(f=(g=new q0(f)).imgData,v=g.bits,A=g.colorSpace,b=g.colors,[4,6].indexOf(g.colorType)!==-1){if(g.bits===8){E=(P=g.pixelBitlength==32?new Uint32Array(g.decodePixels().buffer):g.pixelBitlength==16?new Uint16Array(g.decodePixels().buffer):new Uint8Array(g.decodePixels().buffer)).length,D=new Uint8Array(E*g.colors),B=new Uint8Array(E);var Z,nt=g.pixelBitlength-g.bits;for(C=0,j=0;C<E;C++){for(L=P[C],Z=0;Z<nt;)D[j++]=L>>>Z&255,Z+=g.bits;B[C]=L>>>Z&255}}if(g.bits===16){E=(P=new Uint32Array(g.decodePixels().buffer)).length,D=new Uint8Array(E*(32/g.pixelBitlength)*g.colors),B=new Uint8Array(E*(32/g.pixelBitlength)),N=g.colors>1,C=0,j=0;for(var tt=0;C<E;)L=P[C++],D[j++]=L>>>0&255,N&&(D[j++]=L>>>16&255,L=P[C++],D[j++]=L>>>0&255),B[tt++]=L>>>16&255;v=8}_!==n.image_compression.NONE&&t()?(f=e(D,g.width*g.colors,g.colors,_),I=e(B,g.width,1,_)):(f=D,I=B,U=void 0)}if(g.colorType===3&&(A=this.color_spaces.INDEXED,x=g.palette,g.transparency.indexed)){var K=g.transparency.indexed,z=0;for(C=0,E=K.length;C<E;++C)z+=K[C];if((z/=255)===E-1&&K.indexOf(0)!==-1)y=[K.indexOf(0)];else if(z!==E){for(P=g.decodePixels(),B=new Uint8Array(P.length),C=0,E=P.length;C<E;C++)B[C]=K[P[C]];I=e(B,g.width,1)}}var O=function(R){var V;switch(R){case n.image_compression.FAST:V=11;break;case n.image_compression.MEDIUM:V=13;break;case n.image_compression.SLOW:V=14;break;default:V=12}return V}(_);return U===this.decode.FLATE_DECODE&&(G="/Predictor "+O+" "),G+="/Colors "+b+" /BitsPerComponent "+v+" /Columns "+g.width,(this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),(I&&this.__addimage__.isArrayBuffer(I)||this.__addimage__.isArrayBufferView(I))&&(I=this.__addimage__.arrayBufferToBinaryString(I)),{alias:m,data:f,index:a,filter:U,decodeParameters:G,transparency:y,palette:x,sMask:I,predictor:O,width:g.width,height:g.height,bitsPerComponent:v,colorSpace:A}}}})(ae.API),function(n){n.processGIF89A=function(t,e,r,i){var o=new F0(t),s=o.width,l=o.height,u=[];o.decodeAndBlitFrameRGBA(0,u);var d={data:u,width:s,height:l},p=new Du(100).encode(d,100);return n.processJPEG.call(this,p,e,r,i)},n.processGIF87A=n.processGIF89A}(ae.API),Zr.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var t=0;t<n;t++){var e=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:e,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Zr.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[n]()}catch(e){Ye.log("bit decode error:"+e)}},Zr.prototype.bit1=function(){var n,t=Math.ceil(this.width/8),e=t%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++)for(var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var u=this.palette[o>>7-l&1];this.data[s+4*l]=u.blue,this.data[s+4*l+1]=u.green,this.data[s+4*l+2]=u.red,this.data[s+4*l+3]=255}e!==0&&(this.pos+=4-e)}},Zr.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),t=n%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<n;i++){var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,l=o>>4,u=15&o,d=this.palette[l];if(this.data[s]=d.blue,this.data[s+1]=d.green,this.data[s+2]=d.red,this.data[s+3]=255,2*i+1>=this.width)break;d=this.palette[u],this.data[s+4]=d.blue,this.data[s+4+1]=d.green,this.data[s+4+2]=d.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},Zr.prototype.bit8=function(){for(var n=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[o]=s.red,this.data[o+1]=s.green,this.data[o+2]=s.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},Zr.prototype.bit15=function(){for(var n=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&t)/t*255|0,l=(o>>5&t)/t*255|0,u=(o>>10&t)/t*255|0,d=o>>15?255:0,p=r*this.width*4+4*i;this.data[p]=u,this.data[p+1]=l,this.data[p+2]=s,this.data[p+3]=d}this.pos+=n}},Zr.prototype.bit16=function(){for(var n=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(s&t)/t*255|0,u=(s>>5&e)/e*255|0,d=(s>>11)/t*255|0,p=i*this.width*4+4*o;this.data[p]=d,this.data[p+1]=u,this.data[p+2]=l,this.data[p+3]=255}this.pos+=n}},Zr.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*e;this.data[s]=o,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},Zr.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*e;this.data[l]=o,this.data[l+1]=i,this.data[l+2]=r,this.data[l+3]=s}},Zr.prototype.getData=function(){return this.data},function(n){n.processBMP=function(t,e,r,i){var o=new Zr(t,!1),s=o.width,l=o.height,u={data:o.getData(),width:s,height:l},d=new Du(100).encode(u,100);return n.processJPEG.call(this,d,e,r,i)}}(ae.API),Vf.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(t,e,r,i){var o=new Vf(t),s=o.width,l=o.height,u={data:o.getData(),width:s,height:l},d=new Du(100).encode(u,100);return n.processJPEG.call(this,d,e,r,i)}}(ae.API),ae.API.processRGBA=function(n,t,e){for(var r=n.data,i=r.length,o=new Uint8Array(i/4*3),s=new Uint8Array(i/4),l=0,u=0,d=0;d<i;d+=4){var p=r[d],h=r[d+1],f=r[d+2],a=r[d+3];o[l++]=p,o[l++]=h,o[l++]=f,s[u++]=a}var m=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:m,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},ae.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ss=ae.API,gl=ss.getCharWidthsArray=function(n,t){var e,r,i=(t=t||{}).font||this.internal.getFont(),o=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:i.metadata.Unicode.widths,u=l.fof?l.fof:1,d=t.kerning?t.kerning:i.metadata.Unicode.kerning,p=d.fof?d.fof:1,h=t.doKerning!==!1,f=0,a=n.length,m=0,_=l[0]||u,A=[];for(e=0;e<a;e++)r=n.charCodeAt(e),typeof i.metadata.widthOfString=="function"?A.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/o)||0)/1e3):(f=h&&He(d[r])==="object"&&!isNaN(parseInt(d[r][m],10))?d[r][m]/p:0,A.push((l[r]||_)/u+f)),m=r;return A},Bf=ss.getStringUnitWidth=function(n,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return ss.processArabic&&(n=ss.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,e,i)/e:gl.apply(this,arguments).reduce(function(o,s){return o+s},0)},Uf=function(n,t,e,r){for(var i=[],o=0,s=n.length,l=0;o!==s&&l+t[o]<e;)l+=t[o],o++;i.push(n.slice(0,o));var u=o;for(l=0;o!==s;)l+t[o]>r&&(i.push(n.slice(u,o)),l=0,u=o),l+=t[o],o++;return u!==o&&i.push(n.slice(u,o)),i},zf=function(n,t,e){e||(e={});var r,i,o,s,l,u,d,p=[],h=[p],f=e.textIndent||0,a=0,m=0,_=n.split(" "),A=gl.apply(this,[" ",e])[0];if(u=e.lineIndent===-1?_[0].length+2:e.lineIndent||0){var v=Array(u).join(" "),g=[];_.map(function(b){(b=b.split(/\s*\n/)).length>1?g=g.concat(b.map(function(x,I){return(I&&x.length?`
`:"")+x})):g.push(b[0])}),_=g,u=Bf.apply(this,[v,e])}for(o=0,s=_.length;o<s;o++){var y=0;if(r=_[o],u&&r[0]==`
`&&(r=r.substr(1),y=1),f+a+(m=(i=gl.apply(this,[r,e])).reduce(function(b,x){return b+x},0))>t||y){if(m>t){for(l=Uf.apply(this,[r,i,t-(f+a),t]),p.push(l.shift()),p=[l.pop()];l.length;)h.push([l.shift()]);m=i.slice(r.length-(p[0]?p[0].length:0)).reduce(function(b,x){return b+x},0)}else p=[r];h.push(p),f=m+u,a=A}else p.push(r),f+=a+m,a=A}return d=u?function(b,x){return(x?v:"")+b.join(" ")}:function(b){return b.join(" ")},h.map(d)},ss.splitTextToSize=function(n,t,e){var r,i=(e=e||{}).fontSize||this.internal.getFontSize(),o=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var h=this.internal.getFont(p.fontName,p.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/i;o.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=e.lineIndent;var l,u,d=[];for(l=0,u=r.length;l<u;l++)d=d.concat(zf.apply(this,[r[l],s,o]));return d},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",e={},r={},i=0;i<t.length;i++)e[t[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=t[i];var o=function(h){return"0x"+parseInt(h,10).toString(16)},s=n.__fontmetrics__.compress=function(h){var f,a,m,_,A=["{"];for(var v in h){if(f=h[v],isNaN(parseInt(v,10))?a="'"+v+"'":(v=parseInt(v,10),a=(a=o(v).slice(2)).slice(0,-1)+r[a.slice(-1)]),typeof f=="number")f<0?(m=o(f).slice(3),_="-"):(m=o(f).slice(2),_=""),m=_+m.slice(0,-1)+r[m.slice(-1)];else{if(He(f)!=="object")throw new Error("Don't know what to do with value type "+He(f)+".");m=s(f)}A.push(a+m)}return A.push("}"),A.join("")},l=n.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,a,m,_,A={},v=1,g=A,y=[],b="",x="",I=h.length-1,P=1;P<I;P+=1)(_=h[P])=="'"?f?(m=f.join(""),f=void 0):f=[]:f?f.push(_):_=="{"?(y.push([g,m]),g={},m=void 0):_=="}"?((a=y.pop())[0][a[1]]=g,m=void 0,g=a[0]):_=="-"?v=-1:m===void 0?e.hasOwnProperty(_)?(b+=e[_],m=parseInt(b,16)*v,v=1,b=""):b+=_:e.hasOwnProperty(_)?(x+=e[_],g[m]=parseInt(x,16)*v,v=1,m=void 0,x=""):x+=_;return A},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},p={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(h){var f=h.font,a=p.Unicode[f.postScriptName];a&&(f.metadata.Unicode={},f.metadata.Unicode.widths=a.widths,f.metadata.Unicode.kerning=a.kerning);var m=d.Unicode[f.postScriptName];m&&(f.metadata.Unicode.encoding=m,f.encoding=m.codePages[0])}])}(ae.API),function(n){var t=function(e){for(var r=e.length,i=new Uint8Array(r),o=0;o<r;o++)i[o]=e.charCodeAt(o);return i};n.API.events.push(["addFont",function(e){var r=void 0,i=e.font,o=e.instance;if(!i.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=o.existsFileInVFS(i.postScriptName)===!1?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(la(l)),s.metadata=n.API.TTFFont.open(l),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,r)}}])}(ae),function(n){function t(){return(le.canvg?Promise.resolve(le.canvg):Ju(()=>import("./index.es-7ee67952.js"),["assets/index.es-7ee67952.js","assets/index-8beac963.js","assets/index-a83636ab.css","assets/execcontent-460ef1f4.js","assets/index-158356a7.js","assets/index-2d3b7702.js"])).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e})}ae.API.addSvgAsImage=function(e,r,i,o,s,l,u,d){if(isNaN(r)||isNaN(i))throw Ye.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(s))throw Ye.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var p=document.createElement("canvas");p.width=o,p.height=s;var h=p.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,p.width,p.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},a=this;return t().then(function(m){return m.fromString(h,e,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(f)}).then(function(){a.addImage(p.toDataURL("image/jpeg",1),r,i,o,s,u,d)})}}(),ae.API.putTotalPages=function(n){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(n,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,e);return this},ae.API.viewerPreferences=function(n,t){var e;n=n||{},t=t||!1;var r,i,o,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(s),u=[],d=0,p=0,h=0;function f(m,_){var A,v=!1;for(A=0;A<m.length;A+=1)m[A]===_&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,n==="reset"||t===!0){var a=l.length;for(h=0;h<a;h+=1)e[l[h]].value=e[l[h]].defaultValue,e[l[h]].explicitSet=!1}if(He(n)==="object"){for(i in n)if(o=n[i],f(l,i)&&o!==void 0){if(e[i].type==="boolean"&&typeof o=="boolean")e[i].value=o;else if(e[i].type==="name"&&f(e[i].valueSet,o))e[i].value=o;else if(e[i].type==="integer"&&Number.isInteger(o))e[i].value=o;else if(e[i].type==="array"){for(d=0;d<o.length;d+=1)if(r=!0,o[d].length===1&&typeof o[d][0]=="number")u.push(String(o[d]-1));else if(o[d].length>1){for(p=0;p<o[d].length;p+=1)typeof o[d][p]!="number"&&(r=!1);r===!0&&u.push([o[d][0]-1,o[d][1]-1].join(" "))}e[i].value="["+u.join(" ")+"]"}else e[i].value=e[i].defaultValue;e[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var m,_=[];for(m in e)e[m].explicitSet===!0&&(e[m].type==="name"?_.push("/"+m+" /"+e[m].value):_.push("/"+m+" "+e[m].value));_.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+_.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},function(n){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),d=o.length+s.length+l.length+i.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(i+o+s+l+u),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}}(ae.API),function(n){var t=n.API,e=t.pdfEscape16=function(o,s){for(var l,u=s.metadata.Unicode.widths,d=["","0","00","000","0000"],p=[""],h=0,f=o.length;h<f;++h){if(l=s.metadata.characterToGlyph(o.charCodeAt(h)),s.metadata.glyIdsUsed.push(l),s.metadata.toUnicode[l]=o.charCodeAt(h),u.indexOf(l)==-1&&(u.push(l),u.push([parseInt(s.metadata.widthOfGlyph(l),10)])),l=="0")return p.join("");l=l.toString(16),p.push(d[4-l.length],l)}return p.join("")},r=function(o){var s,l,u,d,p,h,f;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],h=0,f=(l=Object.keys(o).sort(function(a,m){return a-m})).length;h<f;h++)s=l[h],u.length>=100&&(p+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),o[s]!==void 0&&o[s]!==null&&typeof o[s].toString=="function"&&(d=("0000"+o[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),u.push("<"+s+"><"+d+">"));return u.length&&(p+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),p+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(o){(function(s){var l=s.font,u=s.out,d=s.newObject,p=s.putStream;if(l.metadata instanceof n.API.TTFFont&&l.encoding==="Identity-H"){for(var h=l.metadata.Unicode.widths,f=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),a="",m=0;m<f.length;m++)a+=String.fromCharCode(f[m]);var _=d();p({data:a,addLength1:!0,objectId:_}),u("endobj");var A=d();p({data:r(l.metadata.toUnicode),addLength1:!0,objectId:A}),u("endobj");var v=d();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+ls(l.fontName)),u("/FontFile2 "+_+" 0 R"),u("/FontBBox "+n.API.PDFObject.convert(l.metadata.bbox)),u("/Flags "+l.metadata.flags),u("/StemV "+l.metadata.stemV),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u(">>"),u("endobj");var g=d();u("<<"),u("/Type /Font"),u("/BaseFont /"+ls(l.fontName)),u("/FontDescriptor "+v+" 0 R"),u("/W "+n.API.PDFObject.convert(h)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+l.encoding+")"),u(">>"),u(">>"),u("endobj"),l.objectNumber=d(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+A+" 0 R"),u("/BaseFont /"+ls(l.fontName)),u("/Encoding /"+l.encoding),u("/DescendantFonts ["+g+" 0 R]"),u(">>"),u("endobj"),l.isAlreadyPutted=!0}})(o)}]),t.events.push(["putFont",function(o){(function(s){var l=s.font,u=s.out,d=s.newObject,p=s.putStream;if(l.metadata instanceof n.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var h=l.metadata.rawData,f="",a=0;a<h.length;a++)f+=String.fromCharCode(h[a]);var m=d();p({data:f,addLength1:!0,objectId:m}),u("endobj");var _=d();p({data:r(l.metadata.toUnicode),addLength1:!0,objectId:_}),u("endobj");var A=d();u("<<"),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u("/StemV "+l.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+m+" 0 R"),u("/Flags 96"),u("/FontBBox "+n.API.PDFObject.convert(l.metadata.bbox)),u("/FontName /"+ls(l.fontName)),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u(">>"),u("endobj"),l.objectNumber=d();for(var v=0;v<l.metadata.hmtx.widths.length;v++)l.metadata.hmtx.widths[v]=parseInt(l.metadata.hmtx.widths[v]*(1e3/l.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+_+" 0 R/BaseFont/"+ls(l.fontName)+"/FontDescriptor "+A+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),u("endobj"),l.isAlreadyPutted=!0}})(o)}]);var i=function(o){var s,l=o.text||"",u=o.x,d=o.y,p=o.options||{},h=o.mutex||{},f=h.pdfEscape,a=h.activeFontKey,m=h.fonts,_=a,A="",v=0,g="",y=m[_].encoding;if(m[_].encoding!=="Identity-H")return{text:l,x:u,y:d,options:p,mutex:h};for(g=l,_=a,Array.isArray(l)&&(g=l[0]),v=0;v<g.length;v+=1)m[_].metadata.hasOwnProperty("cmap")&&(s=m[_].metadata.cmap.unicode.codeMap[g[v].charCodeAt(0)]),s||g[v].charCodeAt(0)<256&&m[_].metadata.hasOwnProperty("Unicode")?A+=g[v]:A+="";var b="";return parseInt(_.slice(1))<14||y==="WinAnsiEncoding"?b=f(A,_).split("").map(function(x){return x.charCodeAt(0).toString(16)}).join(""):y==="Identity-H"&&(b=e(A,m[_])),h.isHex=!0,{text:b,x:u,y:d,options:p,mutex:h}};t.events.push(["postProcessText",function(o){var s=o.text||"",l=[],u={text:s,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(s)){var d=0;for(d=0;d<s.length;d+=1)Array.isArray(s[d])&&s[d].length===3?l.push([i(Object.assign({},u,{text:s[d][0]})).text,s[d][1],s[d][2]]):l.push(i(Object.assign({},u,{text:s[d]})).text);o.text=l}else o.text=i(Object.assign({},u,{text:s})).text}])}(ae),function(n){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},n.addFileToVFS=function(e,r){return t.call(this),this.internal.vFS[e]=r,this},n.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}}(ae.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,o,s,l,u,d,p,h=t,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],a=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],m={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},_={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},A=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),g=!1,y=0;this.__bidiEngine__={};var b=function(N){var L=N.charCodeAt(),C=L>>8,j=_[C];return j!==void 0?h[256*j+(255&L)]:C===252||C===253?"AL":v.test(C)?"L":C===8?"R":"N"},x=function(N){for(var L,C=0;C<N.length;C++){if((L=b(N.charAt(C)))==="L")return!1;if(L==="R")return!0}return!1},I=function(N,L,C,j){var U,G,Z,nt,tt=L[j];switch(tt){case"L":case"R":g=!1;break;case"N":case"AN":break;case"EN":g&&(tt="AN");break;case"AL":g=!0,tt="R";break;case"WS":tt="N";break;case"CS":j<1||j+1>=L.length||(U=C[j-1])!=="EN"&&U!=="AN"||(G=L[j+1])!=="EN"&&G!=="AN"?tt="N":g&&(G="AN"),tt=G===U?G:"N";break;case"ES":tt=(U=j>0?C[j-1]:"B")==="EN"&&j+1<L.length&&L[j+1]==="EN"?"EN":"N";break;case"ET":if(j>0&&C[j-1]==="EN"){tt="EN";break}if(g){tt="N";break}for(Z=j+1,nt=L.length;Z<nt&&L[Z]==="ET";)Z++;tt=Z<nt&&L[Z]==="EN"?"EN":"N";break;case"NSM":if(s&&!l){for(nt=L.length,Z=j+1;Z<nt&&L[Z]==="NSM";)Z++;if(Z<nt){var K=N[j],z=K>=1425&&K<=2303||K===64286;if(U=L[Z],z&&(U==="R"||U==="AL")){tt="R";break}}}tt=j<1||(U=L[j-1])==="B"?"N":C[j-1];break;case"B":g=!1,i=!0,tt=y;break;case"S":o=!0,tt="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":g=!1;break;case"BN":tt="N"}return tt},P=function(N,L,C){var j=N.split("");return C&&E(j,C,{hiLevel:y}),j.reverse(),L&&L.reverse(),j.join("")},E=function(N,L,C){var j,U,G,Z,nt,tt=-1,K=N.length,z=0,O=[],R=y?a:f,V=[];for(g=!1,i=!1,o=!1,U=0;U<K;U++)V[U]=b(N[U]);for(G=0;G<K;G++){if(nt=z,O[G]=I(N,V,O,G),j=240&(z=R[nt][m[O[G]]]),z&=15,L[G]=Z=R[z][5],j>0)if(j===16){for(U=tt;U<G;U++)L[U]=1;tt=-1}else tt=-1;if(R[z][6])tt===-1&&(tt=G);else if(tt>-1){for(U=tt;U<G;U++)L[U]=Z;tt=-1}V[G]==="B"&&(L[G]=0),C.hiLevel|=Z}o&&function(M,T,F){for(var H=0;H<F;H++)if(M[H]==="S"){T[H]=y;for(var X=H-1;X>=0&&M[X]==="WS";X--)T[X]=y}}(V,L,K)},B=function(N,L,C,j,U){if(!(U.hiLevel<N)){if(N===1&&y===1&&!i)return L.reverse(),void(C&&C.reverse());for(var G,Z,nt,tt,K=L.length,z=0;z<K;){if(j[z]>=N){for(nt=z+1;nt<K&&j[nt]>=N;)nt++;for(tt=z,Z=nt-1;tt<Z;tt++,Z--)G=L[tt],L[tt]=L[Z],L[Z]=G,C&&(G=C[tt],C[tt]=C[Z],C[Z]=G);z=nt}z++}}},D=function(N,L,C){var j=N.split(""),U={hiLevel:y};return C||(C=[]),E(j,C,U),function(G,Z,nt){if(nt.hiLevel!==0&&p)for(var tt,K=0;K<G.length;K++)Z[K]===1&&(tt=A.indexOf(G[K]))>=0&&(G[K]=A[tt+1])}(j,C,U),B(2,j,L,C,U),B(1,j,L,C,U),j.join("")};return this.__bidiEngine__.doBidiReorder=function(N,L,C){if(function(U,G){if(G)for(var Z=0;Z<U.length;Z++)G[Z]=Z;l===void 0&&(l=x(U)),d===void 0&&(d=x(U))}(N,L),s||!u||d)if(s&&u&&l^d)y=l?1:0,N=P(N,L,C);else if(!s&&u&&d)y=l?1:0,N=D(N,L,C),N=P(N,L);else if(!s||l||u||d){if(s&&!u&&l^d)N=P(N,L),l?(y=0,N=D(N,L,C)):(y=1,N=D(N,L,C),N=P(N,L));else if(s&&l&&!u&&d)y=1,N=D(N,L,C),N=P(N,L);else if(!s&&!u&&l^d){var j=p;l?(y=1,N=D(N,L,C),y=0,p=!1,N=D(N,L,C),p=j):(y=0,N=D(N,L,C),N=P(N,L),y=1,p=!1,N=D(N,L,C),p=j,N=P(N,L))}}else y=0,N=D(N,L,C);else y=l?1:0,N=D(N,L,C);return N},this.__bidiEngine__.setOptions=function(N){N&&(s=N.isInputVisual,u=N.isOutputVisual,l=N.isInputRtl,d=N.isOutputRtl,p=N.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text,o=(r.x,r.y,r.options||{}),s=(r.mutex,o.lang,[]);if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,e.setOptions(o),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(s=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?s.push([e.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):s.push([e.doBidiReorder(i[l])]);r.text=s}else r.text=e.doBidiReorder(i);e.setOptions({isInputVisual:!0})}])}(ae),ae.API.TTFFont=function(){function n(t){var e;if(this.rawData=t,e=this.contents=new ao(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new tg(this),this.registerTTF()}return n.open=function(t){return new n(t)},n.prototype.parse=function(){return this.directory=new B0(this.contents),this.head=new z0(this),this.name=new G0(this),this.cmap=new Zh(this),this.toUnicode={},this.hhea=new H0(this),this.maxp=new K0(this),this.hmtx=new Y0(this),this.post=new W0(this),this.os2=new V0(this),this.loca=new Q0(this),this.glyf=new J0(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var t,e,r,i,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,l,u,d;for(d=[],s=0,l=(u=this.bbox).length;s<l;s++)t=u[s],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(e=i>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},n.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},n.prototype.widthOfString=function(t,e,r){var i,o,s,l;for(s=0,o=0,l=(t=""+t).length;0<=l?o<l:o>l;o=0<=l?++o:--o)i=t.charCodeAt(o),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/e)||0;return s*(e/1e3)},n.prototype.lineHeight=function(t,e){var r;return e==null&&(e=!1),r=e?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},n}();var oi,ao=function(){function n(t){this.data=t??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(t){return this.data[this.pos++]=t},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},n.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},n.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},n.prototype.readString=function(t){var e,r;for(r=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)r[e]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(t){var e,r,i;for(i=[],e=0,r=t.length;0<=r?e<r:e>r;e=0<=r?++e:--e)i.push(this.writeByte(t.charCodeAt(e)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(t){return this.writeInt16(t)},n.prototype.readLongLong=function(){var t,e,r,i,o,s,l,u;return t=this.readByte(),e=this.readByte(),r=this.readByte(),i=this.readByte(),o=this.readByte(),s=this.readByte(),l=this.readByte(),u=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^o)+65536*(255^s)+256*(255^l)+(255^u)+1):72057594037927940*t+281474976710656*e+1099511627776*r+4294967296*i+16777216*o+65536*s+256*l+u},n.prototype.writeLongLong=function(t){var e,r;return e=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(t){return this.writeInt32(t)},n.prototype.read=function(t){var e,r;for(e=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)e.push(this.readByte());return e},n.prototype.write=function(t){var e,r,i,o;for(o=[],r=0,i=t.length;r<i;r++)e=t[r],o.push(this.writeByte(e));return o},n}(),B0=function(){var n;function t(e){var r,i,o;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},i=0,o=this.tableCount;0<=o?i<o:i>o;i=0<=o?++i:--i)r={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(e){var r,i,o,s,l,u,d,p,h,f,a,m,_;for(_ in a=Object.keys(e).length,u=Math.log(2),h=16*Math.floor(Math.log(a)/u),s=Math.floor(h/u),p=16*a-h,(i=new ao).writeInt(this.scalarType),i.writeShort(a),i.writeShort(h),i.writeShort(s),i.writeShort(p),o=16*a,d=i.pos+o,l=null,m=[],e)for(f=e[_],i.writeString(_),i.writeInt(n(f)),i.writeInt(d),i.writeInt(f.length),m=m.concat(f),_==="head"&&(l=d),d+=f.length;d%4;)m.push(0),d++;return i.write(m),r=2981146554-n(i.data),i.pos=l+8,i.writeUInt32(r),i.data},n=function(e){var r,i,o,s;for(e=Qh.call(e);e.length%4;)e.push(0);for(o=new ao(e),i=0,r=0,s=e.length;r<s;r=r+=4)i+=o.readUInt32();return 4294967295&i},t}(),U0={}.hasOwnProperty,bi=function(n,t){for(var e in t)U0.call(t,e)&&(n[e]=t[e]);function r(){this.constructor=n}return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n};oi=function(){function n(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var z0=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return bi(t,oi),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new ao).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t}(),Wf=function(){function n(t,e){var r,i,o,s,l,u,d,p,h,f,a,m,_,A,v,g,y;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),h=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=t.readByte();break;case 4:for(a=t.readUInt16(),f=a/2,t.pos+=6,o=function(){var b,x;for(x=[],u=b=0;0<=f?b<f:b>f;u=0<=f?++b:--b)x.push(t.readUInt16());return x}(),t.pos+=2,_=function(){var b,x;for(x=[],u=b=0;0<=f?b<f:b>f;u=0<=f?++b:--b)x.push(t.readUInt16());return x}(),d=function(){var b,x;for(x=[],u=b=0;0<=f?b<f:b>f;u=0<=f?++b:--b)x.push(t.readUInt16());return x}(),p=function(){var b,x;for(x=[],u=b=0;0<=f?b<f:b>f;u=0<=f?++b:--b)x.push(t.readUInt16());return x}(),i=(this.length-t.pos+this.offset)/2,l=function(){var b,x;for(x=[],u=b=0;0<=i?b<i:b>i;u=0<=i?++b:--b)x.push(t.readUInt16());return x}(),u=v=0,y=o.length;v<y;u=++v)for(A=o[u],r=g=m=_[u];m<=A?g<=A:g>=A;r=m<=A?++g:--g)p[u]===0?s=r+d[u]:(s=l[p[u]/2+(r-m)-(f-u)]||0)!==0&&(s+=d[u]),this.codeMap[r]=65535&s}t.pos=h}return n.encode=function(t,e){var r,i,o,s,l,u,d,p,h,f,a,m,_,A,v,g,y,b,x,I,P,E,B,D,N,L,C,j,U,G,Z,nt,tt,K,z,O,R,V,M,T,F,H,X,st,ut,Nt;switch(j=new ao,s=Object.keys(t).sort(function(At,Pt){return At-Pt}),e){case"macroman":for(_=0,A=function(){var At=[];for(m=0;m<256;++m)At.push(0);return At}(),g={0:0},o={},U=0,tt=s.length;U<tt;U++)g[X=t[i=s[U]]]==null&&(g[X]=++_),o[i]={old:t[i],new:g[t[i]]},A[i]=g[t[i]];return j.writeUInt16(1),j.writeUInt16(0),j.writeUInt32(12),j.writeUInt16(0),j.writeUInt16(262),j.writeUInt16(0),j.write(A),{charMap:o,subtable:j.data,maxGlyphID:_+1};case"unicode":for(L=[],h=[],y=0,g={},r={},v=d=null,G=0,K=s.length;G<K;G++)g[x=t[i=s[G]]]==null&&(g[x]=++y),r[i]={old:x,new:g[x]},l=g[x]-i,v!=null&&l===d||(v&&h.push(v),L.push(i),d=l),v=i;for(v&&h.push(v),h.push(65535),L.push(65535),D=2*(B=L.length),E=2*Math.pow(Math.log(B)/Math.LN2,2),f=Math.log(E/2)/Math.LN2,P=2*B-E,u=[],I=[],a=[],m=Z=0,z=L.length;Z<z;m=++Z){if(N=L[m],p=h[m],N===65535){u.push(0),I.push(0);break}if(N-(C=r[N].new)>=32768)for(u.push(0),I.push(2*(a.length+B-m)),i=nt=N;N<=p?nt<=p:nt>=p;i=N<=p?++nt:--nt)a.push(r[i].new);else u.push(C-N),I.push(0)}for(j.writeUInt16(3),j.writeUInt16(1),j.writeUInt32(12),j.writeUInt16(4),j.writeUInt16(16+8*B+2*a.length),j.writeUInt16(0),j.writeUInt16(D),j.writeUInt16(E),j.writeUInt16(f),j.writeUInt16(P),F=0,O=h.length;F<O;F++)i=h[F],j.writeUInt16(i);for(j.writeUInt16(0),H=0,R=L.length;H<R;H++)i=L[H],j.writeUInt16(i);for(st=0,V=u.length;st<V;st++)l=u[st],j.writeUInt16(l);for(ut=0,M=I.length;ut<M;ut++)b=I[ut],j.writeUInt16(b);for(Nt=0,T=a.length;Nt<T;Nt++)_=a[Nt],j.writeUInt16(_);return{charMap:r,subtable:j.data,maxGlyphID:y+1}}},n}(),Zh=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return bi(t,oi),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,i,o;for(e.pos=this.offset,this.version=e.readUInt16(),o=e.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=o?i<o:i>o;i=0<=o?++i:--i)r=new Wf(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var i,o;return r==null&&(r="macroman"),i=Wf.encode(e,r),(o=new ao).writeUInt16(0),o.writeUInt16(1),i.table=o.data.concat(i.subtable),i},t}(),H0=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return bi(t,oi),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),V0=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return bi(t,oi),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(e.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(e.readInt());return i}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(e.readInt());return i}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),W0=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return bi(t,oi),t.prototype.tag="post",t.prototype.parse=function(e){var r,i,o;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:break;case 131072:var s;for(i=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],o=[];e.pos<this.offset+this.length;)r=e.readByte(),o.push(this.names.push(e.readString(r)));return o;case 151552:return i=e.readUInt16(),this.offsets=e.read(i);case 196608:break;case 262144:return this.map=(function(){var l,u,d;for(d=[],s=l=0,u=this.file.maxp.numGlyphs;0<=u?l<u:l>u;s=0<=u?++l:--l)d.push(e.readUInt32());return d}).call(this)}},t}(),$0=function(n,t){this.raw=n,this.length=n.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},G0=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return bi(t,oi),t.prototype.tag="name",t.prototype.parse=function(e){var r,i,o,s,l,u,d,p,h,f,a;for(e.pos=this.offset,e.readShort(),r=e.readShort(),u=e.readShort(),i=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)i.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+u+e.readShort()});for(d={},s=h=0,f=i.length;h<f;s=++h)o=i[s],e.pos=o.offset,p=e.readString(o.length),l=new $0(p,o),d[a=o.nameID]==null&&(d[a]=[]),d[o.nameID].push(l);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},t}(),K0=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return bi(t,oi),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),Y0=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return bi(t,oi),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,i,o,s,l,u,d;for(e.pos=this.offset,this.metrics=[],r=0,u=this.file.hhea.numberOfMetrics;0<=u?r<u:r>u;r=0<=u?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var p,h;for(h=[],r=p=0;0<=o?p<o:p>o;r=0<=o?++p:--p)h.push(e.readInt16());return h}(),this.widths=(function(){var p,h,f,a;for(a=[],p=0,h=(f=this.metrics).length;p<h;p++)s=f[p],a.push(s.advance);return a}).call(this),i=this.widths[this.widths.length-1],d=[],r=l=0;0<=o?l<o:l>o;r=0<=o?++l:--l)d.push(this.widths.push(i));return d},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),Qh=[].slice,J0=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return bi(t,oi),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,i,o,s,l,u,d,p,h,f;return e in this.cache?this.cache[e]:(s=this.file.loca,r=this.file.contents,i=s.indexOf(e),(o=s.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+i,l=(u=new ao(r.read(o))).readShort(),p=u.readShort(),f=u.readShort(),d=u.readShort(),h=u.readShort(),this.cache[e]=l===-1?new Z0(u,p,f,d,h):new X0(u,l,p,f,d,h),this.cache[e]))},t.prototype.encode=function(e,r,i){var o,s,l,u,d;for(l=[],s=[],u=0,d=r.length;u<d;u++)o=e[r[u]],s.push(l.length),o&&(l=l.concat(o.encode(i)));return s.push(l.length),{table:l,offsets:s}},t}(),X0=function(){function n(t,e,r,i,o,s){this.raw=t,this.numberOfContours=e,this.xMin=r,this.yMin=i,this.xMax=o,this.yMax=s,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),Z0=function(){function n(t,e,r,i,o){var s,l;for(this.raw=t,this.xMin=e,this.yMin=r,this.xMax=i,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;l=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&l;)s.pos+=1&l?4:2,128&l?s.pos+=8:64&l?s.pos+=4:8&l&&(s.pos+=2)}return n.prototype.encode=function(){var t,e,r;for(e=new ao(Qh.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)e.pos=this.glyphOffsets[t];return e.data},n}(),Q0=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return bi(t,oi),t.prototype.tag="loca",t.prototype.parse=function(e){var r,i;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var o,s;for(s=[],i=0,o=this.length;i<o;i+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var o,s;for(s=[],i=0,o=this.length;i<o;i+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var i=new Uint32Array(this.offsets.length),o=0,s=0,l=0;l<i.length;++l)if(i[l]=o,s<r.length&&r[s]==l){++s,i[l]=o;var u=this.offsets[l],d=this.offsets[l+1]-u;d>0&&(o+=d)}for(var p=new Array(4*i.length),h=0;h<i.length;++h)p[4*h+3]=255&i[h],p[4*h+2]=(65280&i[h])>>8,p[4*h+1]=(16711680&i[h])>>16,p[4*h]=(4278190080&i[h])>>24;return p},t}(),tg=function(){function n(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var t,e,r,i,o;for(e in i=this.font.cmap.tables[0].codeMap,t={},o=this.subset)r=o[e],t[e]=i[r];return t},n.prototype.glyphsFor=function(t){var e,r,i,o,s,l,u;for(i={},s=0,l=t.length;s<l;s++)i[o=t[s]]=this.font.glyf.glyphFor(o);for(o in e=[],i)(r=i[o])!=null&&r.compound&&e.push.apply(e,r.glyphIDs);if(e.length>0)for(o in u=this.glyphsFor(e))r=u[o],i[o]=r;return i},n.prototype.encode=function(t,e){var r,i,o,s,l,u,d,p,h,f,a,m,_,A,v;for(i in r=Zh.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),a={0:0},v=r.charMap)a[(u=v[i]).old]=u.new;for(m in f=r.maxGlyphID,s)m in a||(a[m]=f++);return p=function(g){var y,b;for(y in b={},g)b[g[y]]=y;return b}(a),h=Object.keys(p).sort(function(g,y){return g-y}),_=function(){var g,y,b;for(b=[],g=0,y=h.length;g<y;g++)l=h[g],b.push(p[l]);return b}(),o=this.font.glyf.encode(s,_,a),d=this.font.loca.encode(o.offsets,_),A={cmap:this.font.cmap.raw(),glyf:o.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(A["OS/2"]=this.font.os2.raw()),this.font.directory.encode(A)},n}();ae.API.PDFObject=function(){var n;function t(){}return n=function(e,r){return(Array(r+1).join("0")+e).slice(-r)},t.convert=function(e){var r,i,o,s;if(Array.isArray(e))return"["+function(){var l,u,d;for(d=[],l=0,u=e.length;l<u;l++)r=e[l],d.push(t.convert(r));return d}().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e!=null&&e.isString)return"("+e+")";if(e instanceof Date)return"(D:"+n(e.getUTCFullYear(),4)+n(e.getUTCMonth(),2)+n(e.getUTCDate(),2)+n(e.getUTCHours(),2)+n(e.getUTCMinutes(),2)+n(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(i in o=["<<"],e)s=e[i],o.push("/"+i+" "+t.convert(s));return o.push(">>"),o.join(`
`)}return""+e},t}();class eg{constructor(t){Nf.register("modules/cursors",e0),this.quill=new Nf(t,{modules:{cursors:!0},placeholder:"请输入内容..."})}focus(){this.quill.focus()}undo(){this.quill.history.undo()}redo(){this.quill.history.redo()}clear(){this.quill.setText(`
`),this.focus()}insertText(t){let{index:e}=this.quill.getSelection(!0);this.quill.insertText(e,t)}getCurrentCursor(){return this.quill.getSelection(!0).index}format(t,e){var r=this.quill.getSelection(!0);if(!r)return console.warn("User cursor is not in editor");let{index:i,length:o}=r,{bold:s,italic:l,strike:u,underline:d}=this.quill.getFormat(i,o);t==="icon-cuti"&&this.quill.formatText(i,o,"bold",!s),t==="icon-italic"&&this.quill.formatText(i,o,"italic",!l),t==="icon-strikethrough"&&this.quill.formatText(i,o,"strike",!u),t==="icon-zitixiahuaxian"&&this.quill.formatText(i,o,"underline",!d),t==="color"&&this.quill.formatText(i,o,"color",e),t==="icon-daochu"&&this.exportPdf()}insertEmbed(t,e,r){this.quill.insertEmbed(t||this.getCurrentCursor(),e,r)}exportPdf(t="document.pdf",e=2){const r=this.quill.root;html2canvas(r,{scale:Math.min(e*2,5),useCORS:!0,width:r.offsetWidth*e,height:r.offsetHeight*e}).then(i=>{const o=i.toDataURL("image/png",1),s=new ae({orientation:"portrait",unit:"mm",dpi:2e3,compress:!0}),l=i.width/2,u=i.height/2;s.addImage(o,"PNG",0,0,l,u),s.save(t)}).catch(i=>{console.error("Error generating PDF:",i)})}getDetail(){let t=this.quill.getContents();return console.log(t),t.ops.forEach(e=>{e.insert.image?e.insert="#image#"+e.insert.image:e.insert=e.insert.replace(/[']/g,"#[d]#")}),t}init(t){console.log(t);let e="",r=t.replace(/[\r]/g,"#r#").replace(/[\n]/g,"#n#").replace(/[\t]/g,"#t#");try{e=JSON.parse(r),console.log(e)}catch{return Oo.error("文档格式解析失败！")}e.forEach((i,o)=>{i.insert.includes("#image#")?i.insert={image:i.insert.replace("#image#","")}:i.insert=r0(i.insert.toString().trim().replace(/#n#/g,`
`).replace(/#r#/g,"\r").replace(/#t#/g,"	").replace(/#[d]#/g,"'").replace(/#[s]#/g,'"'))}),this.quill.setContents(e)}}const ni=()=>new Map,lc=n=>{const t=ni();return n.forEach((e,r)=>{t.set(r,e)}),t},ho=(n,t,e)=>{let r=n.get(t);return r===void 0&&n.set(t,r=e()),r},ng=(n,t)=>{const e=[];for(const[r,i]of n)e.push(t(i,r));return e},rg=(n,t)=>{for(const[e,r]of n)if(t(r,e))return!0;return!1},xs=()=>new Set,Ru=n=>n[n.length-1],ig=(n,t)=>{for(let e=0;e<t.length;e++)n.push(t[e])},lo=Array.from,og=Array.isArray;let sg=class{constructor(){this._observers=ni()}on(t,e){ho(this._observers,t,xs).add(e)}once(t,e){const r=(...i)=>{this.off(t,r),e(...i)};this.on(t,r)}off(t,e){const r=this._observers.get(t);r!==void 0&&(r.delete(e),r.size===0&&this._observers.delete(t))}emit(t,e){return lo((this._observers.get(t)||ni()).values()).forEach(r=>r(...e))}destroy(){this._observers=ni()}};const uo=Math.floor,Nl=Math.abs,td=(n,t)=>n<t?n:t,Ro=(n,t)=>n>t?n:t,ed=n=>n!==0?n<0:1/n<0,$f=1,Gf=2,qu=4,Fu=8,ga=32,Ti=64,Cr=128,Wl=31,uc=63,Po=127,ag=2147483647,nd=Number.MAX_SAFE_INTEGER,lg=Number.isInteger||(n=>typeof n=="number"&&isFinite(n)&&uo(n)===n),ug=n=>n.toLowerCase(),cg=/^\s*/g,fg=n=>n.replace(cg,""),hg=/([A-Z])/g,Kf=(n,t)=>fg(n.replace(hg,e=>`${t}${ug(e)}`)),dg=n=>{const t=unescape(encodeURIComponent(n)),e=t.length,r=new Uint8Array(e);for(let i=0;i<e;i++)r[i]=t.codePointAt(i);return r},va=typeof TextEncoder<"u"?new TextEncoder:null,pg=n=>va.encode(n),gg=va?pg:dg;let ua=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});ua&&ua.decode(new Uint8Array).length===1&&(ua=null);let La=class{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}};const $l=()=>new La,vg=n=>{let t=n.cpos;for(let e=0;e<n.bufs.length;e++)t+=n.bufs[e].length;return t},pi=n=>{const t=new Uint8Array(vg(n));let e=0;for(let r=0;r<n.bufs.length;r++){const i=n.bufs[r];t.set(i,e),e+=i.length}return t.set(new Uint8Array(n.cbuf.buffer,0,n.cpos),e),t},mg=(n,t)=>{const e=n.cbuf.length;e-n.cpos<t&&(n.bufs.push(new Uint8Array(n.cbuf.buffer,0,n.cpos)),n.cbuf=new Uint8Array(Ro(e,t)*2),n.cpos=0)},qn=(n,t)=>{const e=n.cbuf.length;n.cpos===e&&(n.bufs.push(n.cbuf),n.cbuf=new Uint8Array(e*2),n.cpos=0),n.cbuf[n.cpos++]=t},cc=qn,Ee=(n,t)=>{for(;t>Po;)qn(n,Cr|Po&t),t=uo(t/128);qn(n,Po&t)},kc=(n,t)=>{const e=ed(t);for(e&&(t=-t),qn(n,(t>uc?Cr:0)|(e?Ti:0)|uc&t),t=uo(t/64);t>0;)qn(n,(t>Po?Cr:0)|Po&t),t=uo(t/128)},fc=new Uint8Array(3e4),yg=fc.length/3,bg=(n,t)=>{if(t.length<yg){const e=va.encodeInto(t,fc).written||0;Ee(n,e);for(let r=0;r<e;r++)qn(n,fc[r])}else kr(n,gg(t))},wg=(n,t)=>{const e=unescape(encodeURIComponent(t)),r=e.length;Ee(n,r);for(let i=0;i<r;i++)qn(n,e.codePointAt(i))},ms=va&&va.encodeInto?bg:wg,Gl=(n,t)=>{const e=n.cbuf.length,r=n.cpos,i=td(e-r,t.length),o=t.length-i;n.cbuf.set(t.subarray(0,i),r),n.cpos+=i,o>0&&(n.bufs.push(n.cbuf),n.cbuf=new Uint8Array(Ro(e*2,o)),n.cbuf.set(t.subarray(i)),n.cpos=o)},kr=(n,t)=>{Ee(n,t.byteLength),Gl(n,t)},Oc=(n,t)=>{mg(n,t);const e=new DataView(n.cbuf.buffer,n.cpos,t);return n.cpos+=t,e},_g=(n,t)=>Oc(n,4).setFloat32(0,t,!1),Ag=(n,t)=>Oc(n,8).setFloat64(0,t,!1),Sg=(n,t)=>Oc(n,8).setBigInt64(0,t,!1),Yf=new DataView(new ArrayBuffer(4)),xg=n=>(Yf.setFloat32(0,n),Yf.getFloat32(0)===n),ma=(n,t)=>{switch(typeof t){case"string":qn(n,119),ms(n,t);break;case"number":lg(t)&&Nl(t)<=ag?(qn(n,125),kc(n,t)):xg(t)?(qn(n,124),_g(n,t)):(qn(n,123),Ag(n,t));break;case"bigint":qn(n,122),Sg(n,t);break;case"object":if(t===null)qn(n,126);else if(og(t)){qn(n,117),Ee(n,t.length);for(let e=0;e<t.length;e++)ma(n,t[e])}else if(t instanceof Uint8Array)qn(n,116),kr(n,t);else{qn(n,118);const e=Object.keys(t);Ee(n,e.length);for(let r=0;r<e.length;r++){const i=e[r];ms(n,i),ma(n,t[i])}}break;case"boolean":qn(n,t?120:121);break;default:qn(n,127)}};class Jf extends La{constructor(t){super(),this.w=t,this.s=null,this.count=0}write(t){this.s===t?this.count++:(this.count>0&&Ee(this,this.count-1),this.count=1,this.w(this,t),this.s=t)}}const Xf=n=>{n.count>0&&(kc(n.encoder,n.count===1?n.s:-n.s),n.count>1&&Ee(n.encoder,n.count-2))};class Ll{constructor(){this.encoder=new La,this.s=0,this.count=0}write(t){this.s===t?this.count++:(Xf(this),this.count=1,this.s=t)}toUint8Array(){return Xf(this),pi(this.encoder)}}const Zf=n=>{if(n.count>0){const t=n.diff*2+(n.count===1?0:1);kc(n.encoder,t),n.count>1&&Ee(n.encoder,n.count-2)}};class Bu{constructor(){this.encoder=new La,this.s=0,this.count=0,this.diff=0}write(t){this.diff===t-this.s?(this.s=t,this.count++):(Zf(this),this.count=1,this.diff=t-this.s,this.s=t)}toUint8Array(){return Zf(this),pi(this.encoder)}}class Ng{constructor(){this.sarr=[],this.s="",this.lensE=new Ll}write(t){this.s+=t,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(t.length)}toUint8Array(){const t=new La;return this.sarr.push(this.s),this.s="",ms(t,this.sarr.join("")),Gl(t,this.lensE.toUint8Array()),pi(t)}}const co=n=>new Error(n),vi=()=>{throw co("Method unimplemented")},ri=()=>{throw co("Unexpected case")},rd=co("Unexpected end of array"),id=co("Integer out of Range");let Kl=class{constructor(t){this.arr=t,this.pos=0}};const Ps=n=>new Kl(n),Lg=n=>n.pos!==n.arr.length,kg=(n,t)=>{const e=new Uint8Array(n.arr.buffer,n.pos+n.arr.byteOffset,t);return n.pos+=t,e},Or=n=>kg(n,xe(n)),Ns=n=>n.arr[n.pos++],xe=n=>{let t=0,e=1;const r=n.arr.length;for(;n.pos<r;){const i=n.arr[n.pos++];if(t=t+(i&Po)*e,e*=128,i<Cr)return t;if(t>nd)throw id}throw rd},Ec=n=>{let t=n.arr[n.pos++],e=t&uc,r=64;const i=(t&Ti)>0?-1:1;if(!(t&Cr))return i*e;const o=n.arr.length;for(;n.pos<o;){if(t=n.arr[n.pos++],e=e+(t&Po)*r,r*=128,t<Cr)return i*e;if(e>nd)throw id}throw rd},Og=n=>{let t=xe(n);if(t===0)return"";{let e=String.fromCodePoint(Ns(n));if(--t<100)for(;t--;)e+=String.fromCodePoint(Ns(n));else for(;t>0;){const r=t<1e4?t:1e4,i=n.arr.subarray(n.pos,n.pos+r);n.pos+=r,e+=String.fromCodePoint.apply(null,i),t-=r}return decodeURIComponent(escape(e))}},Eg=n=>ua.decode(Or(n)),ys=ua?Eg:Og,Pc=(n,t)=>{const e=new DataView(n.arr.buffer,n.arr.byteOffset+n.pos,t);return n.pos+=t,e},Pg=n=>Pc(n,4).getFloat32(0,!1),Cg=n=>Pc(n,8).getFloat64(0,!1),Tg=n=>Pc(n,8).getBigInt64(0,!1),Ig=[n=>{},n=>null,Ec,Pg,Cg,Tg,n=>!1,n=>!0,ys,n=>{const t=xe(n),e={};for(let r=0;r<t;r++){const i=ys(n);e[i]=ya(n)}return e},n=>{const t=xe(n),e=[];for(let r=0;r<t;r++)e.push(ya(n));return e},Or],ya=n=>Ig[127-Ns(n)](n);class Qf extends Kl{constructor(t,e){super(t),this.reader=e,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),Lg(this)?this.count=xe(this)+1:this.count=-1),this.count--,this.s}}class kl extends Kl{constructor(t){super(t),this.s=0,this.count=0}read(){if(this.count===0){this.s=Ec(this);const t=ed(this.s);this.count=1,t&&(this.s=-this.s,this.count=xe(this)+2)}return this.count--,this.s}}class Uu extends Kl{constructor(t){super(t),this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){const t=Ec(this),e=t&1;this.diff=uo(t/2),this.count=1,e&&(this.count=xe(this)+2)}return this.s+=this.diff,this.count--,this.s}}class jg{constructor(t){this.decoder=new kl(t),this.str=ys(this.decoder),this.spos=0}read(){const t=this.spos+this.decoder.read(),e=this.str.slice(this.spos,t);return this.spos=t,e}}const Mg=crypto.getRandomValues.bind(crypto),od=()=>Mg(new Uint32Array(1))[0],Dg=[1e7]+-1e3+-4e3+-8e3+-1e11,Rg=()=>Dg.replace(/[018]/g,n=>(n^od()&15>>n/4).toString(16)),th=n=>new Promise(n);Promise.all.bind(Promise);const eh=n=>n===void 0?null:n;let qg=class{constructor(){this.map=new Map}setItem(t,e){this.map.set(t,e)}getItem(t){return this.map.get(t)}},sd=new qg,Fg=!0;try{typeof localStorage<"u"&&localStorage&&(sd=localStorage,Fg=!1)}catch{}const Bg=sd,Ug=Object.assign,zg=Object.keys,Hg=(n,t)=>{for(const e in n)t(n[e],e)},nh=n=>zg(n).length,Vg=n=>{for(const t in n)return!1;return!0},Wg=(n,t)=>{for(const e in n)if(!t(n[e],e))return!1;return!0},$g=(n,t)=>Object.prototype.hasOwnProperty.call(n,t),Gg=(n,t)=>n===t||nh(n)===nh(t)&&Wg(n,(e,r)=>(e!==void 0||$g(t,r))&&t[r]===e),Cc=(n,t,e=0)=>{try{for(;e<n.length;e++)n[e](...t)}finally{e<n.length&&Cc(n,t,e+1)}},Kg=n=>n,Yg=(n,t)=>t.includes(n),ba=typeof process<"u"&&process.release&&/node|io\.js/.test(process.release.name)&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]";let ci;const Jg=()=>{if(ci===void 0)if(ba){ci=ni();const n=process.argv;let t=null;for(let e=0;e<n.length;e++){const r=n[e];r[0]==="-"?(t!==null&&ci.set(t,""),t=r):t!==null&&(ci.set(t,r),t=null)}t!==null&&ci.set(t,"")}else typeof location=="object"?(ci=ni(),(location.search||"?").slice(1).split("&").forEach(n=>{if(n.length!==0){const[t,e]=n.split("=");ci.set(`--${Kf(t,"-")}`,e),ci.set(`-${Kf(t,"-")}`,e)}})):ci=ni();return ci},hc=n=>Jg().has(n),dc=n=>eh(ba?process.env[n.toUpperCase()]:Bg.getItem(n)),Xg=n=>hc("--"+n)||dc(n)!==null;Xg("production");const rh=ba&&Yg({}.FORCE_COLOR,["true","1","2"]),Zg=!hc("no-colors")&&(!ba||process.stdout.isTTY||rh)&&(!ba||hc("color")||rh||dc("COLORTERM")!==null||(dc("TERM")||"").includes("color")),Qg=n=>new Uint8Array(n),t2=n=>{const t=Qg(n.byteLength);return t.set(n),t};class e2{constructor(t,e){this.left=t,this.right=e}}const Ci=(n,t)=>new e2(n,t);typeof DOMParser<"u"&&new DOMParser;const n2=n=>ng(n,(t,e)=>`${e}:${t};`).join(""),Mi=Symbol,ad=Mi(),ld=Mi(),r2=Mi(),i2=Mi(),o2=Mi(),ud=Mi(),s2=Mi(),cd=Mi(),a2=Mi(),l2=n=>{const t=[];let e=0;for(;e<n.length;e++){const r=n[e];r.constructor===String||r.constructor===Number||r.constructor===Object&&t.push(JSON.stringify(r))}return t},u2={[ad]:Ci("font-weight","bold"),[ld]:Ci("font-weight","normal"),[r2]:Ci("color","blue"),[o2]:Ci("color","green"),[i2]:Ci("color","grey"),[ud]:Ci("color","red"),[s2]:Ci("color","purple"),[cd]:Ci("color","orange"),[a2]:Ci("color","black")},c2=n=>{const t=[],e=[],r=ni();let i=[],o=0;for(;o<n.length;o++){const s=n[o],l=u2[s];if(l!==void 0)r.set(l.left,l.right);else if(s.constructor===String||s.constructor===Number){const u=n2(r);o>0||u.length>0?(t.push("%c"+s),e.push(u)):t.push(s)}else break}for(o>0&&(i=e,i.unshift(t.join("")));o<n.length;o++){const s=n[o];s instanceof Symbol||i.push(s)}return i},f2=Zg?c2:l2,h2=(...n)=>{console.log(...f2(n)),d2.forEach(t=>t.print(n))},d2=xs(),fd=n=>({[Symbol.iterator](){return this},next:n}),p2=(n,t)=>fd(()=>{let e;do e=n.next();while(!e.done&&!t(e.value));return e}),zu=(n,t)=>fd(()=>{const{done:e,value:r}=n.next();return{done:e,value:e?void 0:t(r)}});class Tc{constructor(t,e){this.clock=t,this.len=e}}class ka{constructor(){this.clients=new Map}}const hd=(n,t,e)=>t.clients.forEach((r,i)=>{const o=n.doc.store.clients.get(i);for(let s=0;s<r.length;s++){const l=r[s];kd(n,o,l.clock,l.len,e)}}),g2=(n,t)=>{let e=0,r=n.length-1;for(;e<=r;){const i=uo((e+r)/2),o=n[i],s=o.clock;if(s<=t){if(t<s+o.len)return i;e=i+1}else r=i-1}return null},dd=(n,t)=>{const e=n.clients.get(t.client);return e!==void 0&&g2(e,t.clock)!==null},Ic=n=>{n.clients.forEach(t=>{t.sort((i,o)=>i.clock-o.clock);let e,r;for(e=1,r=1;e<t.length;e++){const i=t[r-1],o=t[e];i.clock+i.len>=o.clock?i.len=Ro(i.len,o.clock+o.len-i.clock):(r<e&&(t[r]=o),r++)}t.length=r})},v2=n=>{const t=new ka;for(let e=0;e<n.length;e++)n[e].clients.forEach((r,i)=>{if(!t.clients.has(i)){const o=r.slice();for(let s=e+1;s<n.length;s++)ig(o,n[s].clients.get(i)||[]);t.clients.set(i,o)}});return Ic(t),t},Il=(n,t,e,r)=>{ho(n.clients,t,()=>[]).push(new Tc(e,r))},m2=()=>new ka,y2=n=>{const t=m2();return n.clients.forEach((e,r)=>{const i=[];for(let o=0;o<e.length;o++){const s=e[o];if(s.deleted){const l=s.id.clock;let u=s.length;if(o+1<e.length)for(let d=e[o+1];o+1<e.length&&d.deleted;d=e[++o+1])u+=d.length;i.push(new Tc(l,u))}}i.length>0&&t.clients.set(r,i)}),t},Cs=(n,t)=>{Ee(n.restEncoder,t.clients.size),lo(t.clients.entries()).sort((e,r)=>r[0]-e[0]).forEach(([e,r])=>{n.resetDsCurVal(),Ee(n.restEncoder,e);const i=r.length;Ee(n.restEncoder,i);for(let o=0;o<i;o++){const s=r[o];n.writeDsClock(s.clock),n.writeDsLen(s.len)}})},jc=n=>{const t=new ka,e=xe(n.restDecoder);for(let r=0;r<e;r++){n.resetDsCurVal();const i=xe(n.restDecoder),o=xe(n.restDecoder);if(o>0){const s=ho(t.clients,i,()=>[]);for(let l=0;l<o;l++)s.push(new Tc(n.readDsClock(),n.readDsLen()))}}return t},ih=(n,t,e)=>{const r=new ka,i=xe(n.restDecoder);for(let o=0;o<i;o++){n.resetDsCurVal();const s=xe(n.restDecoder),l=xe(n.restDecoder),u=e.clients.get(s)||[],d=Pn(e,s);for(let p=0;p<l;p++){const h=n.readDsClock(),f=h+n.readDsLen();if(h<d){d<f&&Il(r,s,d,f-d);let a=mi(u,h),m=u[a];for(!m.deleted&&m.id.clock<h&&(u.splice(a+1,0,Bl(t,m,h-m.id.clock)),a++);a<u.length&&(m=u[a++],m.id.clock<f);)m.deleted||(f<m.id.clock+m.length&&u.splice(a,0,Bl(t,m,f-m.id.clock)),m.delete(t))}else Il(r,s,h,f-h)}}if(r.clients.size>0){const o=new Co;return Ee(o.restEncoder,0),Cs(o,r),o.toUint8Array()}return null},pd=od;class Ts extends sg{constructor({guid:t=Rg(),collectionid:e=null,gc:r=!0,gcFilter:i=()=>!0,meta:o=null,autoLoad:s=!1,shouldLoad:l=!0}={}){super(),this.gc=r,this.gcFilter=i,this.clientID=pd(),this.guid=t,this.collectionid=e,this.share=new Map,this.store=new Nd,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=l,this.autoLoad=s,this.meta=o,this.isLoaded=!1,this.isSynced=!1,this.whenLoaded=th(d=>{this.on("load",()=>{this.isLoaded=!0,d(this)})});const u=()=>th(d=>{const p=h=>{(h===void 0||h===!0)&&(this.off("sync",p),d())};this.on("sync",p)});this.on("sync",d=>{d===!1&&this.isSynced&&(this.whenSynced=u()),this.isSynced=d===void 0||d===!0,this.isSynced&&!this.isLoaded&&this.emit("load",[])}),this.whenSynced=u()}load(){const t=this._item;t!==null&&!this.shouldLoad&&Qe(t.parent.doc,e=>{e.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(lo(this.subdocs).map(t=>t.guid))}transact(t,e=null){return Qe(this,t,e)}get(t,e=Wn){const r=ho(this.share,t,()=>{const o=new e;return o._integrate(this,null),o}),i=r.constructor;if(e!==Wn&&i!==e)if(i===Wn){const o=new e;o._map=r._map,r._map.forEach(s=>{for(;s!==null;s=s.left)s.parent=o}),o._start=r._start;for(let s=o._start;s!==null;s=s.right)s.parent=o;return o._length=r._length,this.share.set(t,o),o._integrate(this,null),o}else throw new Error(`Type with the name ${t} has already been defined with a different constructor`);return r}getArray(t=""){return this.get(t,ws)}getText(t=""){return this.get(t,Os)}getMap(t=""){return this.get(t,ks)}getXmlFragment(t=""){return this.get(t,To)}toJSON(){const t={};return this.share.forEach((e,r)=>{t[r]=e.toJSON()}),t}destroy(){lo(this.subdocs).forEach(e=>e.destroy());const t=this._item;if(t!==null){this._item=null;const e=t.content;e.doc=new Ts({guid:this.guid,...e.opts,shouldLoad:!1}),e.doc._item=t,Qe(t.parent.doc,r=>{const i=e.doc;t.deleted||r.subdocsAdded.add(i),r.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}on(t,e){super.on(t,e)}off(t,e){super.off(t,e)}}class gd{constructor(t){this.restDecoder=t}resetDsCurVal(){}readDsClock(){return xe(this.restDecoder)}readDsLen(){return xe(this.restDecoder)}}class vd extends gd{readLeftID(){return _e(xe(this.restDecoder),xe(this.restDecoder))}readRightID(){return _e(xe(this.restDecoder),xe(this.restDecoder))}readClient(){return xe(this.restDecoder)}readInfo(){return Ns(this.restDecoder)}readString(){return ys(this.restDecoder)}readParentInfo(){return xe(this.restDecoder)===1}readTypeRef(){return xe(this.restDecoder)}readLen(){return xe(this.restDecoder)}readAny(){return ya(this.restDecoder)}readBuf(){return t2(Or(this.restDecoder))}readJSON(){return JSON.parse(ys(this.restDecoder))}readKey(){return ys(this.restDecoder)}}class b2{constructor(t){this.dsCurrVal=0,this.restDecoder=t}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=xe(this.restDecoder),this.dsCurrVal}readDsLen(){const t=xe(this.restDecoder)+1;return this.dsCurrVal+=t,t}}class Ls extends b2{constructor(t){super(t),this.keys=[],xe(t),this.keyClockDecoder=new Uu(Or(t)),this.clientDecoder=new kl(Or(t)),this.leftClockDecoder=new Uu(Or(t)),this.rightClockDecoder=new Uu(Or(t)),this.infoDecoder=new Qf(Or(t),Ns),this.stringDecoder=new jg(Or(t)),this.parentInfoDecoder=new Qf(Or(t),Ns),this.typeRefDecoder=new kl(Or(t)),this.lenDecoder=new kl(Or(t))}readLeftID(){return new bs(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new bs(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return ya(this.restDecoder)}readBuf(){return Or(this.restDecoder)}readJSON(){return ya(this.restDecoder)}readKey(){const t=this.keyClockDecoder.read();if(t<this.keys.length)return this.keys[t];{const e=this.stringDecoder.read();return this.keys.push(e),e}}}class md{constructor(){this.restEncoder=$l()}toUint8Array(){return pi(this.restEncoder)}resetDsCurVal(){}writeDsClock(t){Ee(this.restEncoder,t)}writeDsLen(t){Ee(this.restEncoder,t)}}class Oa extends md{writeLeftID(t){Ee(this.restEncoder,t.client),Ee(this.restEncoder,t.clock)}writeRightID(t){Ee(this.restEncoder,t.client),Ee(this.restEncoder,t.clock)}writeClient(t){Ee(this.restEncoder,t)}writeInfo(t){cc(this.restEncoder,t)}writeString(t){ms(this.restEncoder,t)}writeParentInfo(t){Ee(this.restEncoder,t?1:0)}writeTypeRef(t){Ee(this.restEncoder,t)}writeLen(t){Ee(this.restEncoder,t)}writeAny(t){ma(this.restEncoder,t)}writeBuf(t){kr(this.restEncoder,t)}writeJSON(t){ms(this.restEncoder,JSON.stringify(t))}writeKey(t){ms(this.restEncoder,t)}}class yd{constructor(){this.restEncoder=$l(),this.dsCurrVal=0}toUint8Array(){return pi(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(t){const e=t-this.dsCurrVal;this.dsCurrVal=t,Ee(this.restEncoder,e)}writeDsLen(t){t===0&&ri(),Ee(this.restEncoder,t-1),this.dsCurrVal+=t}}class Co extends yd{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new Bu,this.clientEncoder=new Ll,this.leftClockEncoder=new Bu,this.rightClockEncoder=new Bu,this.infoEncoder=new Jf(cc),this.stringEncoder=new Ng,this.parentInfoEncoder=new Jf(cc),this.typeRefEncoder=new Ll,this.lenEncoder=new Ll}toUint8Array(){const t=$l();return Ee(t,0),kr(t,this.keyClockEncoder.toUint8Array()),kr(t,this.clientEncoder.toUint8Array()),kr(t,this.leftClockEncoder.toUint8Array()),kr(t,this.rightClockEncoder.toUint8Array()),kr(t,pi(this.infoEncoder)),kr(t,this.stringEncoder.toUint8Array()),kr(t,pi(this.parentInfoEncoder)),kr(t,this.typeRefEncoder.toUint8Array()),kr(t,this.lenEncoder.toUint8Array()),Gl(t,pi(this.restEncoder)),pi(t)}writeLeftID(t){this.clientEncoder.write(t.client),this.leftClockEncoder.write(t.clock)}writeRightID(t){this.clientEncoder.write(t.client),this.rightClockEncoder.write(t.clock)}writeClient(t){this.clientEncoder.write(t)}writeInfo(t){this.infoEncoder.write(t)}writeString(t){this.stringEncoder.write(t)}writeParentInfo(t){this.parentInfoEncoder.write(t?1:0)}writeTypeRef(t){this.typeRefEncoder.write(t)}writeLen(t){this.lenEncoder.write(t)}writeAny(t){ma(this.restEncoder,t)}writeBuf(t){kr(this.restEncoder,t)}writeJSON(t){ma(this.restEncoder,t)}writeKey(t){const e=this.keyMap.get(t);e===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(t)):this.keyClockEncoder.write(e)}}const w2=(n,t,e,r)=>{r=Ro(r,t[0].id.clock);const i=mi(t,r);Ee(n.restEncoder,t.length-i),n.writeClient(e),Ee(n.restEncoder,r);const o=t[i];o.write(n,r-o.id.clock);for(let s=i+1;s<t.length;s++)t[s].write(n,0)},Mc=(n,t,e)=>{const r=new Map;e.forEach((i,o)=>{Pn(t,o)>i&&r.set(o,i)}),Yl(t).forEach((i,o)=>{e.has(o)||r.set(o,0)}),Ee(n.restEncoder,r.size),lo(r.entries()).sort((i,o)=>o[0]-i[0]).forEach(([i,o])=>{w2(n,t.clients.get(i),i,o)})},_2=(n,t)=>{const e=ni(),r=xe(n.restDecoder);for(let i=0;i<r;i++){const o=xe(n.restDecoder),s=new Array(o),l=n.readClient();let u=xe(n.restDecoder);e.set(l,{i:0,refs:s});for(let d=0;d<o;d++){const p=n.readInfo();switch(Wl&p){case 0:{const h=n.readLen();s[d]=new Ur(_e(l,u),h),u+=h;break}case 10:{const h=xe(n.restDecoder);s[d]=new zr(_e(l,u),h),u+=h;break}default:{const h=(p&(Ti|Cr))===0,f=new mn(_e(l,u),null,(p&Cr)===Cr?n.readLeftID():null,null,(p&Ti)===Ti?n.readRightID():null,h?n.readParentInfo()?t.get(n.readString()):n.readLeftID():null,h&&(p&ga)===ga?n.readString():null,$d(n,p));s[d]=f,u+=f.length}}}}return e},A2=(n,t,e)=>{const r=[];let i=lo(e.keys()).sort((a,m)=>a-m);if(i.length===0)return null;const o=()=>{if(i.length===0)return null;let a=e.get(i[i.length-1]);for(;a.refs.length===a.i;)if(i.pop(),i.length>0)a=e.get(i[i.length-1]);else return null;return a};let s=o();if(s===null)return null;const l=new Nd,u=new Map,d=(a,m)=>{const _=u.get(a);(_==null||_>m)&&u.set(a,m)};let p=s.refs[s.i++];const h=new Map,f=()=>{for(const a of r){const m=a.id.client,_=e.get(m);_?(_.i--,l.clients.set(m,_.refs.slice(_.i)),e.delete(m),_.i=0,_.refs=[]):l.clients.set(m,[a]),i=i.filter(A=>A!==m)}r.length=0};for(;;){if(p.constructor!==zr){const m=ho(h,p.id.client,()=>Pn(t,p.id.client))-p.id.clock;if(m<0)r.push(p),d(p.id.client,p.id.clock-1),f();else{const _=p.getMissing(n,t);if(_!==null){r.push(p);const A=e.get(_)||{refs:[],i:0};if(A.refs.length===A.i)d(_,Pn(t,_)),f();else{p=A.refs[A.i++];continue}}else(m===0||m<p.length)&&(p.integrate(n,m),h.set(p.id.client,p.id.clock+p.length))}}if(r.length>0)p=r.pop();else if(s!==null&&s.i<s.refs.length)p=s.refs[s.i++];else{if(s=o(),s===null)break;p=s.refs[s.i++]}}if(l.clients.size>0){const a=new Co;return Mc(a,l,new Map),Ee(a.restEncoder,0),{missing:u,update:a.toUint8Array()}}return null},S2=(n,t)=>Mc(n,t.doc.store,t.beforeState),x2=(n,t,e,r=new Ls(n))=>Qe(t,i=>{i.local=!1;let o=!1;const s=i.doc,l=s.store,u=_2(r,s),d=A2(i,l,u),p=l.pendingStructs;if(p){for(const[f,a]of p.missing)if(a<Pn(l,f)){o=!0;break}if(d){for(const[f,a]of d.missing){const m=p.missing.get(f);(m==null||m>a)&&p.missing.set(f,a)}p.update=jl([p.update,d.update])}}else l.pendingStructs=d;const h=ih(r,i,l);if(l.pendingDs){const f=new Ls(Ps(l.pendingDs));xe(f.restDecoder);const a=ih(f,i,l);h&&a?l.pendingDs=jl([h,a]):l.pendingDs=h||a}else l.pendingDs=h;if(o){const f=l.pendingStructs.update;l.pendingStructs=null,bd(i.doc,f)}},e,!1),bd=(n,t,e,r=Ls)=>{const i=Ps(t);x2(i,n,e,new r(i))},N2=(n,t,e)=>bd(n,t,e,vd),L2=(n,t,e=new Map)=>{Mc(n,t.store,e),Cs(n,y2(t.store))},k2=(n,t=new Uint8Array([0]),e=new Co)=>{const r=wd(t);L2(e,n,r);const i=[e.toUint8Array()];if(n.store.pendingDs&&i.push(n.store.pendingDs),n.store.pendingStructs&&i.push(V2(n.store.pendingStructs.update,t)),i.length>1){if(e.constructor===Oa)return z2(i.map((o,s)=>s===0?o:$2(o)));if(e.constructor===Co)return jl(i)}return i[0]},O2=(n,t)=>k2(n,t,new Oa),E2=n=>{const t=new Map,e=xe(n.restDecoder);for(let r=0;r<e;r++){const i=xe(n.restDecoder),o=xe(n.restDecoder);t.set(i,o)}return t},wd=n=>E2(new gd(Ps(n))),_d=(n,t)=>(Ee(n.restEncoder,t.size),lo(t.entries()).sort((e,r)=>r[0]-e[0]).forEach(([e,r])=>{Ee(n.restEncoder,e),Ee(n.restEncoder,r)}),n),P2=(n,t)=>_d(n,Yl(t.store)),C2=(n,t=new yd)=>(n instanceof Map?_d(t,n):P2(t,n),t.toUint8Array()),T2=n=>C2(n,new md);class I2{constructor(){this.l=[]}}const oh=()=>new I2,sh=(n,t)=>n.l.push(t),ah=(n,t)=>{const e=n.l,r=e.length;n.l=e.filter(i=>t!==i),r===n.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},Ad=(n,t,e)=>Cc(n.l,[t,e]);class bs{constructor(t,e){this.client=t,this.clock=e}}const hs=(n,t)=>n===t||n!==null&&t!==null&&n.client===t.client&&n.clock===t.clock,_e=(n,t)=>new bs(n,t),Sd=n=>{for(const[t,e]of n.doc.share.entries())if(e===n)return t;throw ri()};class xd{constructor(t,e,r,i=0){this.type=t,this.tname=e,this.item=r,this.assoc=i}}const lh=n=>new xd(n.type==null?null:_e(n.type.client,n.type.clock),n.tname||null,n.item==null?null:_e(n.item.client,n.item.clock),n.assoc==null?0:n.assoc);class j2{constructor(t,e,r=0){this.type=t,this.index=e,this.assoc=r}}const M2=(n,t,e=0)=>new j2(n,t,e),vl=(n,t,e)=>{let r=null,i=null;return n._item===null?i=Sd(n):r=_e(n._item.id.client,n._item.id.clock),new xd(r,i,t,e)},uh=(n,t,e=0)=>{let r=n._start;if(e<0){if(t===0)return vl(n,null,e);t--}for(;r!==null;){if(!r.deleted&&r.countable){if(r.length>t)return vl(n,_e(r.id.client,r.id.clock+t),e);t-=r.length}if(r.right===null&&e<0)return vl(n,r.lastId,e);r=r.right}return vl(n,null,e)},ch=(n,t)=>{const e=t.store,r=n.item,i=n.type,o=n.tname,s=n.assoc;let l=null,u=0;if(r!==null){if(Pn(e,r.client)<=r.clock)return null;const d=bh(e,r),p=d.item;if(!(p instanceof mn))return null;if(l=p.parent,l._item===null||!l._item.deleted){u=p.deleted||!p.countable?0:d.diff+(s>=0?0:1);let h=p.left;for(;h!==null;)!h.deleted&&h.countable&&(u+=h.length),h=h.left}}else{if(o!==null)l=t.get(o);else if(i!==null){if(Pn(e,i.client)<=i.clock)return null;const{item:d}=bh(e,i);if(d instanceof mn&&d.content instanceof wi)l=d.content.type;else return null}else throw ri();s>=0?u=l._length:u=0}return M2(l,u,n.assoc)},fh=(n,t)=>n===t||n!==null&&t!==null&&n.tname===t.tname&&hs(n.item,t.item)&&hs(n.type,t.type)&&n.assoc===t.assoc,us=(n,t)=>t===void 0?!n.deleted:t.sv.has(n.id.client)&&(t.sv.get(n.id.client)||0)>n.id.clock&&!dd(t.ds,n.id),pc=(n,t)=>{const e=ho(n.meta,pc,xs),r=n.doc.store;e.has(t)||(t.sv.forEach((i,o)=>{i<Pn(r,o)&&fo(n,_e(o,i))}),hd(n,t.ds,i=>{}),e.add(t))};class Nd{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const Yl=n=>{const t=new Map;return n.clients.forEach((e,r)=>{const i=e[e.length-1];t.set(r,i.id.clock+i.length)}),t},Pn=(n,t)=>{const e=n.clients.get(t);if(e===void 0)return 0;const r=e[e.length-1];return r.id.clock+r.length},Ld=(n,t)=>{let e=n.clients.get(t.id.client);if(e===void 0)e=[],n.clients.set(t.id.client,e);else{const r=e[e.length-1];if(r.id.clock+r.length!==t.id.clock)throw ri()}e.push(t)},mi=(n,t)=>{let e=0,r=n.length-1,i=n[r],o=i.id.clock;if(o===t)return r;let s=uo(t/(o+i.length-1)*r);for(;e<=r;){if(i=n[s],o=i.id.clock,o<=t){if(t<o+i.length)return s;e=s+1}else r=s-1;s=uo((e+r)/2)}throw ri()},D2=(n,t)=>{const e=n.clients.get(t.client);return e[mi(e,t.clock)]},Ol=D2,gc=(n,t,e)=>{const r=mi(t,e),i=t[r];return i.id.clock<e&&i instanceof mn?(t.splice(r+1,0,Bl(n,i,e-i.id.clock)),r+1):r},fo=(n,t)=>{const e=n.doc.store.clients.get(t.client);return e[gc(n,e,t.clock)]},hh=(n,t,e)=>{const r=t.clients.get(e.client),i=mi(r,e.clock),o=r[i];return e.clock!==o.id.clock+o.length-1&&o.constructor!==Ur&&r.splice(i+1,0,Bl(n,o,e.clock-o.id.clock+1)),o},R2=(n,t,e)=>{const r=n.clients.get(t.id.client);r[mi(r,t.id.clock)]=e},kd=(n,t,e,r,i)=>{if(r===0)return;const o=e+r;let s=gc(n,t,e),l;do l=t[s++],o<l.id.clock+l.length&&gc(n,t,o),i(l);while(s<t.length&&t[s].id.clock<o)};class q2{constructor(t,e,r){this.doc=t,this.deleteSet=new ka,this.beforeState=Yl(t.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=e,this.meta=new Map,this.local=r,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}}const dh=(n,t)=>t.deleteSet.clients.size===0&&!rg(t.afterState,(e,r)=>t.beforeState.get(r)!==e)?!1:(Ic(t.deleteSet),S2(n,t),Cs(n,t.deleteSet),!0),ph=(n,t,e)=>{const r=t._item;(r===null||r.id.clock<(n.beforeState.get(r.id.client)||0)&&!r.deleted)&&ho(n.changed,t,xs).add(e)},El=(n,t)=>{let e=n[t],r=n[t-1],i=t;for(;i>0;e=r,r=n[--i-1]){if(r.deleted===e.deleted&&r.constructor===e.constructor&&r.mergeWith(e)){e instanceof mn&&e.parentSub!==null&&e.parent._map.get(e.parentSub)===e&&e.parent._map.set(e.parentSub,r);continue}break}const o=t-i;return o&&n.splice(t+1-o,o),o},F2=(n,t,e)=>{for(const[r,i]of n.clients.entries()){const o=t.clients.get(r);for(let s=i.length-1;s>=0;s--){const l=i[s],u=l.clock+l.len;for(let d=mi(o,l.clock),p=o[d];d<o.length&&p.id.clock<u;p=o[++d]){const h=o[d];if(l.clock+l.len<=h.id.clock)break;h instanceof mn&&h.deleted&&!h.keep&&e(h)&&h.gc(t,!1)}}}},B2=(n,t)=>{n.clients.forEach((e,r)=>{const i=t.clients.get(r);for(let o=e.length-1;o>=0;o--){const s=e[o],l=td(i.length-1,1+mi(i,s.clock+s.len-1));for(let u=l,d=i[u];u>0&&d.id.clock>=s.clock;d=i[u])u-=1+El(i,u)}})},Od=(n,t)=>{if(t<n.length){const e=n[t],r=e.doc,i=r.store,o=e.deleteSet,s=e._mergeStructs;try{Ic(o),e.afterState=Yl(e.doc.store),r.emit("beforeObserverCalls",[e,r]);const l=[];e.changed.forEach((u,d)=>l.push(()=>{(d._item===null||!d._item.deleted)&&d._callObserver(e,u)})),l.push(()=>{e.changedParentTypes.forEach((u,d)=>{d._dEH.l.length>0&&(d._item===null||!d._item.deleted)&&(u=u.filter(p=>p.target._item===null||!p.target._item.deleted),u.forEach(p=>{p.currentTarget=d,p._path=null}),u.sort((p,h)=>p.path.length-h.path.length),Ad(d._dEH,u,e))})}),l.push(()=>r.emit("afterTransaction",[e,r])),Cc(l,[]),e._needFormattingCleanup&&s5(e)}finally{r.gc&&F2(o,i,r.gcFilter),B2(o,i),e.afterState.forEach((p,h)=>{const f=e.beforeState.get(h)||0;if(f!==p){const a=i.clients.get(h),m=Ro(mi(a,f),1);for(let _=a.length-1;_>=m;)_-=1+El(a,_)}});for(let p=s.length-1;p>=0;p--){const{client:h,clock:f}=s[p].id,a=i.clients.get(h),m=mi(a,f);m+1<a.length&&El(a,m+1)>1||m>0&&El(a,m)}if(!e.local&&e.afterState.get(r.clientID)!==e.beforeState.get(r.clientID)&&(h2(cd,ad,"[yjs] ",ld,ud,"Changed the client-id because another client seems to be using it."),r.clientID=pd()),r.emit("afterTransactionCleanup",[e,r]),r._observers.has("update")){const p=new Oa;dh(p,e)&&r.emit("update",[p.toUint8Array(),e.origin,r,e])}if(r._observers.has("updateV2")){const p=new Co;dh(p,e)&&r.emit("updateV2",[p.toUint8Array(),e.origin,r,e])}const{subdocsAdded:l,subdocsLoaded:u,subdocsRemoved:d}=e;(l.size>0||d.size>0||u.size>0)&&(l.forEach(p=>{p.clientID=r.clientID,p.collectionid==null&&(p.collectionid=r.collectionid),r.subdocs.add(p)}),d.forEach(p=>r.subdocs.delete(p)),r.emit("subdocs",[{loaded:u,added:l,removed:d},r,e]),d.forEach(p=>p.destroy())),n.length<=t+1?(r._transactionCleanups=[],r.emit("afterAllTransactions",[r,n])):Od(n,t+1)}}},Qe=(n,t,e=null,r=!0)=>{const i=n._transactionCleanups;let o=!1,s=null;n._transaction===null&&(o=!0,n._transaction=new q2(n,e,r),i.push(n._transaction),i.length===1&&n.emit("beforeAllTransactions",[n]),n.emit("beforeTransaction",[n._transaction,n]));try{s=t(n._transaction)}finally{if(o){const l=n._transaction===i[0];n._transaction=null,l&&Od(i,0)}}return s};function*U2(n){const t=xe(n.restDecoder);for(let e=0;e<t;e++){const r=xe(n.restDecoder),i=n.readClient();let o=xe(n.restDecoder);for(let s=0;s<r;s++){const l=n.readInfo();if(l===10){const u=xe(n.restDecoder);yield new zr(_e(i,o),u),o+=u}else if(Wl&l){const u=(l&(Ti|Cr))===0,d=new mn(_e(i,o),null,(l&Cr)===Cr?n.readLeftID():null,null,(l&Ti)===Ti?n.readRightID():null,u?n.readParentInfo()?n.readString():n.readLeftID():null,u&&(l&ga)===ga?n.readString():null,$d(n,l));yield d,o+=d.length}else{const u=n.readLen();yield new Ur(_e(i,o),u),o+=u}}}}class Dc{constructor(t,e){this.gen=U2(t),this.curr=null,this.done=!1,this.filterSkips=e,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===zr);return this.curr}}class Rc{constructor(t){this.currClient=0,this.startClock=0,this.written=0,this.encoder=t,this.clientStructs=[]}}const z2=n=>jl(n,vd,Oa),H2=(n,t)=>{if(n.constructor===Ur){const{client:e,clock:r}=n.id;return new Ur(_e(e,r+t),n.length-t)}else if(n.constructor===zr){const{client:e,clock:r}=n.id;return new zr(_e(e,r+t),n.length-t)}else{const e=n,{client:r,clock:i}=e.id;return new mn(_e(r,i+t),null,_e(r,i+t-1),null,e.rightOrigin,e.parent,e.parentSub,e.content.splice(t))}},jl=(n,t=Ls,e=Co)=>{if(n.length===1)return n[0];const r=n.map(p=>new t(Ps(p)));let i=r.map(p=>new Dc(p,!0)),o=null;const s=new e,l=new Rc(s);for(;i=i.filter(f=>f.curr!==null),i.sort((f,a)=>{if(f.curr.id.client===a.curr.id.client){const m=f.curr.id.clock-a.curr.id.clock;return m===0?f.curr.constructor===a.curr.constructor?0:f.curr.constructor===zr?1:-1:m}else return a.curr.id.client-f.curr.id.client}),i.length!==0;){const p=i[0],h=p.curr.id.client;if(o!==null){let f=p.curr,a=!1;for(;f!==null&&f.id.clock+f.length<=o.struct.id.clock+o.struct.length&&f.id.client>=o.struct.id.client;)f=p.next(),a=!0;if(f===null||f.id.client!==h||a&&f.id.clock>o.struct.id.clock+o.struct.length)continue;if(h!==o.struct.id.client)to(l,o.struct,o.offset),o={struct:f,offset:0},p.next();else if(o.struct.id.clock+o.struct.length<f.id.clock)if(o.struct.constructor===zr)o.struct.length=f.id.clock+f.length-o.struct.id.clock;else{to(l,o.struct,o.offset);const m=f.id.clock-o.struct.id.clock-o.struct.length;o={struct:new zr(_e(h,o.struct.id.clock+o.struct.length),m),offset:0}}else{const m=o.struct.id.clock+o.struct.length-f.id.clock;m>0&&(o.struct.constructor===zr?o.struct.length-=m:f=H2(f,m)),o.struct.mergeWith(f)||(to(l,o.struct,o.offset),o={struct:f,offset:0},p.next())}}else o={struct:p.curr,offset:0},p.next();for(let f=p.curr;f!==null&&f.id.client===h&&f.id.clock===o.struct.id.clock+o.struct.length&&f.constructor!==zr;f=p.next())to(l,o.struct,o.offset),o={struct:f,offset:0}}o!==null&&(to(l,o.struct,o.offset),o=null),qc(l);const u=r.map(p=>jc(p)),d=v2(u);return Cs(s,d),s.toUint8Array()},V2=(n,t,e=Ls,r=Co)=>{const i=wd(t),o=new r,s=new Rc(o),l=new e(Ps(n)),u=new Dc(l,!1);for(;u.curr;){const p=u.curr,h=p.id.client,f=i.get(h)||0;if(u.curr.constructor===zr){u.next();continue}if(p.id.clock+p.length>f)for(to(s,p,Ro(f-p.id.clock,0)),u.next();u.curr&&u.curr.id.client===h;)to(s,u.curr,0),u.next();else for(;u.curr&&u.curr.id.client===h&&u.curr.id.clock+u.curr.length<=f;)u.next()}qc(s);const d=jc(l);return Cs(o,d),o.toUint8Array()},Ed=n=>{n.written>0&&(n.clientStructs.push({written:n.written,restEncoder:pi(n.encoder.restEncoder)}),n.encoder.restEncoder=$l(),n.written=0)},to=(n,t,e)=>{n.written>0&&n.currClient!==t.id.client&&Ed(n),n.written===0&&(n.currClient=t.id.client,n.encoder.writeClient(t.id.client),Ee(n.encoder.restEncoder,t.id.clock+e)),t.write(n.encoder,e),n.written++},qc=n=>{Ed(n);const t=n.encoder.restEncoder;Ee(t,n.clientStructs.length);for(let e=0;e<n.clientStructs.length;e++){const r=n.clientStructs[e];Ee(t,r.written),Gl(t,r.restEncoder)}},W2=(n,t,e,r)=>{const i=new e(Ps(n)),o=new Dc(i,!1),s=new r,l=new Rc(s);for(let d=o.curr;d!==null;d=o.next())to(l,t(d),0);qc(l);const u=jc(i);return Cs(s,u),s.toUint8Array()},$2=n=>W2(n,Kg,Ls,Oa),gh="You must not compute changes after the event-handler fired.";class Jl{constructor(t,e){this.target=t,this.currentTarget=t,this.transaction=e,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=G2(this.currentTarget,this.target))}deletes(t){return dd(this.transaction.deleteSet,t.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw co(gh);const t=new Map,e=this.target;this.transaction.changed.get(e).forEach(i=>{if(i!==null){const o=e._map.get(i);let s,l;if(this.adds(o)){let u=o.left;for(;u!==null&&this.adds(u);)u=u.left;if(this.deletes(o))if(u!==null&&this.deletes(u))s="delete",l=Ru(u.content.getContent());else return;else u!==null&&this.deletes(u)?(s="update",l=Ru(u.content.getContent())):(s="add",l=void 0)}else if(this.deletes(o))s="delete",l=Ru(o.content.getContent());else return;t.set(i,{action:s,oldValue:l})}}),this._keys=t}return this._keys}get delta(){return this.changes.delta}adds(t){return t.id.clock>=(this.transaction.beforeState.get(t.id.client)||0)}get changes(){let t=this._changes;if(t===null){if(this.transaction.doc._transactionCleanups.length===0)throw co(gh);const e=this.target,r=xs(),i=xs(),o=[];if(t={added:r,deleted:i,delta:o,keys:this.keys},this.transaction.changed.get(e).has(null)){let l=null;const u=()=>{l&&o.push(l)};for(let d=e._start;d!==null;d=d.right)d.deleted?this.deletes(d)&&!this.adds(d)&&((l===null||l.delete===void 0)&&(u(),l={delete:0}),l.delete+=d.length,i.add(d)):this.adds(d)?((l===null||l.insert===void 0)&&(u(),l={insert:[]}),l.insert=l.insert.concat(d.content.getContent()),r.add(d)):((l===null||l.retain===void 0)&&(u(),l={retain:0}),l.retain+=d.length);l!==null&&l.retain===void 0&&u()}this._changes=t}return t}}const G2=(n,t)=>{const e=[];for(;t._item!==null&&t!==n;){if(t._item.parentSub!==null)e.unshift(t._item.parentSub);else{let r=0,i=t._item.parent._start;for(;i!==t._item&&i!==null;)i.deleted||r++,i=i.right;e.unshift(r)}t=t._item.parent}return e},Pd=80;let Fc=0;class K2{constructor(t,e){t.marker=!0,this.p=t,this.index=e,this.timestamp=Fc++}}const Y2=n=>{n.timestamp=Fc++},Cd=(n,t,e)=>{n.p.marker=!1,n.p=t,t.marker=!0,n.index=e,n.timestamp=Fc++},J2=(n,t,e)=>{if(n.length>=Pd){const r=n.reduce((i,o)=>i.timestamp<o.timestamp?i:o);return Cd(r,t,e),r}else{const r=new K2(t,e);return n.push(r),r}},Xl=(n,t)=>{if(n._start===null||t===0||n._searchMarker===null)return null;const e=n._searchMarker.length===0?null:n._searchMarker.reduce((o,s)=>Nl(t-o.index)<Nl(t-s.index)?o:s);let r=n._start,i=0;for(e!==null&&(r=e.p,i=e.index,Y2(e));r.right!==null&&i<t;){if(!r.deleted&&r.countable){if(t<i+r.length)break;i+=r.length}r=r.right}for(;r.left!==null&&i>t;)r=r.left,!r.deleted&&r.countable&&(i-=r.length);for(;r.left!==null&&r.left.id.client===r.id.client&&r.left.id.clock+r.left.length===r.id.clock;)r=r.left,!r.deleted&&r.countable&&(i-=r.length);return e!==null&&Nl(e.index-i)<r.parent.length/Pd?(Cd(e,r,i),e):J2(n._searchMarker,r,i)},wa=(n,t,e)=>{for(let r=n.length-1;r>=0;r--){const i=n[r];if(e>0){let o=i.p;for(o.marker=!1;o&&(o.deleted||!o.countable);)o=o.left,o&&!o.deleted&&o.countable&&(i.index-=o.length);if(o===null||o.marker===!0){n.splice(r,1);continue}i.p=o,o.marker=!0}(t<i.index||e>0&&t===i.index)&&(i.index=Ro(t,i.index+e))}},Zl=(n,t,e)=>{const r=n,i=t.changedParentTypes;for(;ho(i,n,()=>[]).push(e),n._item!==null;)n=n._item.parent;Ad(r._eH,e,t)};class Wn{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=oh(),this._dEH=oh(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(t,e){this.doc=t,this._item=e}_copy(){throw vi()}clone(){throw vi()}_write(t){}get _first(){let t=this._start;for(;t!==null&&t.deleted;)t=t.right;return t}_callObserver(t,e){!t.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(t){sh(this._eH,t)}observeDeep(t){sh(this._dEH,t)}unobserve(t){ah(this._eH,t)}unobserveDeep(t){ah(this._dEH,t)}toJSON(){}}const Td=(n,t,e)=>{t<0&&(t=n._length+t),e<0&&(e=n._length+e);let r=e-t;const i=[];let o=n._start;for(;o!==null&&r>0;){if(o.countable&&!o.deleted){const s=o.content.getContent();if(s.length<=t)t-=s.length;else{for(let l=t;l<s.length&&r>0;l++)i.push(s[l]),r--;t=0}}o=o.right}return i},Id=n=>{const t=[];let e=n._start;for(;e!==null;){if(e.countable&&!e.deleted){const r=e.content.getContent();for(let i=0;i<r.length;i++)t.push(r[i])}e=e.right}return t},_a=(n,t)=>{let e=0,r=n._start;for(;r!==null;){if(r.countable&&!r.deleted){const i=r.content.getContent();for(let o=0;o<i.length;o++)t(i[o],e++,n)}r=r.right}},jd=(n,t)=>{const e=[];return _a(n,(r,i)=>{e.push(t(r,i,n))}),e},X2=n=>{let t=n._start,e=null,r=0;return{[Symbol.iterator](){return this},next:()=>{if(e===null){for(;t!==null&&t.deleted;)t=t.right;if(t===null)return{done:!0,value:void 0};e=t.content.getContent(),r=0,t=t.right}const i=e[r++];return e.length<=r&&(e=null),{done:!1,value:i}}}},Md=(n,t)=>{const e=Xl(n,t);let r=n._start;for(e!==null&&(r=e.p,t-=e.index);r!==null;r=r.right)if(!r.deleted&&r.countable){if(t<r.length)return r.content.getContent()[t];t-=r.length}},Ml=(n,t,e,r)=>{let i=e;const o=n.doc,s=o.clientID,l=o.store,u=e===null?t._start:e.right;let d=[];const p=()=>{d.length>0&&(i=new mn(_e(s,Pn(l,s)),i,i&&i.lastId,u,u&&u.id,t,null,new Io(d)),i.integrate(n,0),d=[])};r.forEach(h=>{if(h===null)d.push(h);else switch(h.constructor){case Number:case Object:case Boolean:case Array:case String:d.push(h);break;default:switch(p(),h.constructor){case Uint8Array:case ArrayBuffer:i=new mn(_e(s,Pn(l,s)),i,i&&i.lastId,u,u&&u.id,t,null,new Ea(new Uint8Array(h))),i.integrate(n,0);break;case Ts:i=new mn(_e(s,Pn(l,s)),i,i&&i.lastId,u,u&&u.id,t,null,new Pa(h)),i.integrate(n,0);break;default:if(h instanceof Wn)i=new mn(_e(s,Pn(l,s)),i,i&&i.lastId,u,u&&u.id,t,null,new wi(h)),i.integrate(n,0);else throw new Error("Unexpected content type in insert operation")}}}),p()},Dd=()=>co("Length exceeded!"),Rd=(n,t,e,r)=>{if(e>t._length)throw Dd();if(e===0)return t._searchMarker&&wa(t._searchMarker,e,r.length),Ml(n,t,null,r);const i=e,o=Xl(t,e);let s=t._start;for(o!==null&&(s=o.p,e-=o.index,e===0&&(s=s.prev,e+=s&&s.countable&&!s.deleted?s.length:0));s!==null;s=s.right)if(!s.deleted&&s.countable){if(e<=s.length){e<s.length&&fo(n,_e(s.id.client,s.id.clock+e));break}e-=s.length}return t._searchMarker&&wa(t._searchMarker,i,r.length),Ml(n,t,s,r)},Z2=(n,t,e)=>{let i=(t._searchMarker||[]).reduce((o,s)=>s.index>o.index?s:o,{index:0,p:t._start}).p;if(i)for(;i.right;)i=i.right;return Ml(n,t,i,e)},qd=(n,t,e,r)=>{if(r===0)return;const i=e,o=r,s=Xl(t,e);let l=t._start;for(s!==null&&(l=s.p,e-=s.index);l!==null&&e>0;l=l.right)!l.deleted&&l.countable&&(e<l.length&&fo(n,_e(l.id.client,l.id.clock+e)),e-=l.length);for(;r>0&&l!==null;)l.deleted||(r<l.length&&fo(n,_e(l.id.client,l.id.clock+r)),l.delete(n),r-=l.length),l=l.right;if(r>0)throw Dd();t._searchMarker&&wa(t._searchMarker,i,-o+r)},Dl=(n,t,e)=>{const r=t._map.get(e);r!==void 0&&r.delete(n)},Bc=(n,t,e,r)=>{const i=t._map.get(e)||null,o=n.doc,s=o.clientID;let l;if(r==null)l=new Io([r]);else switch(r.constructor){case Number:case Object:case Boolean:case Array:case String:l=new Io([r]);break;case Uint8Array:l=new Ea(r);break;case Ts:l=new Pa(r);break;default:if(r instanceof Wn)l=new wi(r);else throw new Error("Unexpected content type")}new mn(_e(s,Pn(o.store,s)),i,i&&i.lastId,null,null,t,e,l).integrate(n,0)},Uc=(n,t)=>{const e=n._map.get(t);return e!==void 0&&!e.deleted?e.content.getContent()[e.length-1]:void 0},Fd=n=>{const t={};return n._map.forEach((e,r)=>{e.deleted||(t[r]=e.content.getContent()[e.length-1])}),t},Bd=(n,t)=>{const e=n._map.get(t);return e!==void 0&&!e.deleted},Q2=(n,t)=>{const e={};return n._map.forEach((r,i)=>{let o=r;for(;o!==null&&(!t.sv.has(o.id.client)||o.id.clock>=(t.sv.get(o.id.client)||0));)o=o.left;o!==null&&us(o,t)&&(e[i]=o.content.getContent()[o.length-1])}),e},ml=n=>p2(n.entries(),t=>!t[1].deleted);class t5 extends Jl{constructor(t,e){super(t,e),this._transaction=e}}class ws extends Wn{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(t){const e=new ws;return e.push(t),e}_integrate(t,e){super._integrate(t,e),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new ws}clone(){const t=new ws;return t.insert(0,this.toArray().map(e=>e instanceof Wn?e.clone():e)),t}get length(){return this._prelimContent===null?this._length:this._prelimContent.length}_callObserver(t,e){super._callObserver(t,e),Zl(this,t,new t5(this,t))}insert(t,e){this.doc!==null?Qe(this.doc,r=>{Rd(r,this,t,e)}):this._prelimContent.splice(t,0,...e)}push(t){this.doc!==null?Qe(this.doc,e=>{Z2(e,this,t)}):this._prelimContent.push(...t)}unshift(t){this.insert(0,t)}delete(t,e=1){this.doc!==null?Qe(this.doc,r=>{qd(r,this,t,e)}):this._prelimContent.splice(t,e)}get(t){return Md(this,t)}toArray(){return Id(this)}slice(t=0,e=this.length){return Td(this,t,e)}toJSON(){return this.map(t=>t instanceof Wn?t.toJSON():t)}map(t){return jd(this,t)}forEach(t){_a(this,t)}[Symbol.iterator](){return X2(this)}_write(t){t.writeTypeRef(x5)}}const e5=n=>new ws;class n5 extends Jl{constructor(t,e,r){super(t,e),this.keysChanged=r}}class ks extends Wn{constructor(t){super(),this._prelimContent=null,t===void 0?this._prelimContent=new Map:this._prelimContent=new Map(t)}_integrate(t,e){super._integrate(t,e),this._prelimContent.forEach((r,i)=>{this.set(i,r)}),this._prelimContent=null}_copy(){return new ks}clone(){const t=new ks;return this.forEach((e,r)=>{t.set(r,e instanceof Wn?e.clone():e)}),t}_callObserver(t,e){Zl(this,t,new n5(this,t,e))}toJSON(){const t={};return this._map.forEach((e,r)=>{if(!e.deleted){const i=e.content.getContent()[e.length-1];t[r]=i instanceof Wn?i.toJSON():i}}),t}get size(){return[...ml(this._map)].length}keys(){return zu(ml(this._map),t=>t[0])}values(){return zu(ml(this._map),t=>t[1].content.getContent()[t[1].length-1])}entries(){return zu(ml(this._map),t=>[t[0],t[1].content.getContent()[t[1].length-1]])}forEach(t){this._map.forEach((e,r)=>{e.deleted||t(e.content.getContent()[e.length-1],r,this)})}[Symbol.iterator](){return this.entries()}delete(t){this.doc!==null?Qe(this.doc,e=>{Dl(e,this,t)}):this._prelimContent.delete(t)}set(t,e){return this.doc!==null?Qe(this.doc,r=>{Bc(r,this,t,e)}):this._prelimContent.set(t,e),e}get(t){return Uc(this,t)}has(t){return Bd(this,t)}clear(){this.doc!==null?Qe(this.doc,t=>{this.forEach(function(e,r,i){Dl(t,i,r)})}):this._prelimContent.clear()}_write(t){t.writeTypeRef(N5)}}const r5=n=>new ks,io=(n,t)=>n===t||typeof n=="object"&&typeof t=="object"&&n&&t&&Gg(n,t);class vc{constructor(t,e,r,i){this.left=t,this.right=e,this.index=r,this.currentAttributes=i}forward(){switch(this.right===null&&ri(),this.right.content.constructor){case In:this.right.deleted||Is(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}}const vh=(n,t,e)=>{for(;t.right!==null&&e>0;){switch(t.right.content.constructor){case In:t.right.deleted||Is(t.currentAttributes,t.right.content);break;default:t.right.deleted||(e<t.right.length&&fo(n,_e(t.right.id.client,t.right.id.clock+e)),t.index+=t.right.length,e-=t.right.length);break}t.left=t.right,t.right=t.right.right}return t},yl=(n,t,e,r)=>{const i=new Map,o=r?Xl(t,e):null;if(o){const s=new vc(o.p.left,o.p,o.index,i);return vh(n,s,e-o.index)}else{const s=new vc(null,t._start,0,i);return vh(n,s,e)}},Ud=(n,t,e,r)=>{for(;e.right!==null&&(e.right.deleted===!0||e.right.content.constructor===In&&io(r.get(e.right.content.key),e.right.content.value));)e.right.deleted||r.delete(e.right.content.key),e.forward();const i=n.doc,o=i.clientID;r.forEach((s,l)=>{const u=e.left,d=e.right,p=new mn(_e(o,Pn(i.store,o)),u,u&&u.lastId,d,d&&d.id,t,null,new In(l,s));p.integrate(n,0),e.right=p,e.forward()})},Is=(n,t)=>{const{key:e,value:r}=t;r===null?n.delete(e):n.set(e,r)},zd=(n,t)=>{for(;n.right!==null;){if(!(n.right.deleted||n.right.content.constructor===In&&io(t[n.right.content.key]||null,n.right.content.value)))break;n.forward()}},Hd=(n,t,e,r)=>{const i=n.doc,o=i.clientID,s=new Map;for(const l in r){const u=r[l],d=e.currentAttributes.get(l)||null;if(!io(d,u)){s.set(l,d);const{left:p,right:h}=e;e.right=new mn(_e(o,Pn(i.store,o)),p,p&&p.lastId,h,h&&h.id,t,null,new In(l,u)),e.right.integrate(n,0),e.forward()}}return s},Hu=(n,t,e,r,i)=>{e.currentAttributes.forEach((f,a)=>{i[a]===void 0&&(i[a]=null)});const o=n.doc,s=o.clientID;zd(e,i);const l=Hd(n,t,e,i),u=r.constructor===String?new yi(r):r instanceof Wn?new wi(r):new qo(r);let{left:d,right:p,index:h}=e;t._searchMarker&&wa(t._searchMarker,e.index,u.getLength()),p=new mn(_e(s,Pn(o.store,s)),d,d&&d.lastId,p,p&&p.id,t,null,u),p.integrate(n,0),e.right=p,e.index=h,e.forward(),Ud(n,t,e,l)},mh=(n,t,e,r,i)=>{const o=n.doc,s=o.clientID;zd(e,i);const l=Hd(n,t,e,i);t:for(;e.right!==null&&(r>0||l.size>0&&(e.right.deleted||e.right.content.constructor===In));){if(!e.right.deleted)switch(e.right.content.constructor){case In:{const{key:u,value:d}=e.right.content,p=i[u];if(p!==void 0){if(io(p,d))l.delete(u);else{if(r===0)break t;l.set(u,d)}e.right.delete(n)}else e.currentAttributes.set(u,d);break}default:r<e.right.length&&fo(n,_e(e.right.id.client,e.right.id.clock+r)),r-=e.right.length;break}e.forward()}if(r>0){let u="";for(;r>0;r--)u+=`
`;e.right=new mn(_e(s,Pn(o.store,s)),e.left,e.left&&e.left.lastId,e.right,e.right&&e.right.id,t,null,new yi(u)),e.right.integrate(n,0),e.forward()}Ud(n,t,e,l)},Vd=(n,t,e,r,i)=>{let o=t;const s=ni();for(;o&&(!o.countable||o.deleted);){if(!o.deleted&&o.content.constructor===In){const d=o.content;s.set(d.key,d)}o=o.right}let l=0,u=!1;for(;t!==o;){if(e===t&&(u=!0),!t.deleted){const d=t.content;switch(d.constructor){case In:{const{key:p,value:h}=d,f=r.get(p)||null;(s.get(p)!==d||f===h)&&(t.delete(n),l++,!u&&(i.get(p)||null)===h&&f!==h&&(f===null?i.delete(p):i.set(p,f))),!u&&!t.deleted&&Is(i,d);break}}}t=t.right}return l},i5=(n,t)=>{for(;t&&t.right&&(t.right.deleted||!t.right.countable);)t=t.right;const e=new Set;for(;t&&(t.deleted||!t.countable);){if(!t.deleted&&t.content.constructor===In){const r=t.content.key;e.has(r)?t.delete(n):e.add(r)}t=t.left}},o5=n=>{let t=0;return Qe(n.doc,e=>{let r=n._start,i=n._start,o=ni();const s=lc(o);for(;i;){if(i.deleted===!1)switch(i.content.constructor){case In:Is(s,i.content);break;default:t+=Vd(e,r,i,o,s),o=lc(s),r=i;break}i=i.right}}),t},s5=n=>{const t=new Set,e=n.doc;for(const[r,i]of n.afterState.entries()){const o=n.beforeState.get(r)||0;i!==o&&kd(n,e.store.clients.get(r),o,i,s=>{!s.deleted&&s.content.constructor===In&&s.constructor!==Ur&&t.add(s.parent)})}Qe(e,r=>{hd(n,n.deleteSet,i=>{if(i instanceof Ur||!i.parent._hasFormatting||t.has(i.parent))return;const o=i.parent;i.content.constructor===In?t.add(o):i5(r,i)});for(const i of t)o5(i)})},yh=(n,t,e)=>{const r=e,i=lc(t.currentAttributes),o=t.right;for(;e>0&&t.right!==null;){if(t.right.deleted===!1)switch(t.right.content.constructor){case wi:case qo:case yi:e<t.right.length&&fo(n,_e(t.right.id.client,t.right.id.clock+e)),e-=t.right.length,t.right.delete(n);break}t.forward()}o&&Vd(n,o,t.right,i,t.currentAttributes);const s=(t.left||t.right).parent;return s._searchMarker&&wa(s._searchMarker,t.index,-r+e),t};class a5 extends Jl{constructor(t,e,r){super(t,e),this.childListChanged=!1,this.keysChanged=new Set,r.forEach(i=>{i===null?this.childListChanged=!0:this.keysChanged.add(i)})}get changes(){if(this._changes===null){const t={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=t}return this._changes}get delta(){if(this._delta===null){const t=this.target.doc,e=[];Qe(t,r=>{const i=new Map,o=new Map;let s=this.target._start,l=null;const u={};let d="",p=0,h=0;const f=()=>{if(l!==null){let a=null;switch(l){case"delete":h>0&&(a={delete:h}),h=0;break;case"insert":(typeof d=="object"||d.length>0)&&(a={insert:d},i.size>0&&(a.attributes={},i.forEach((m,_)=>{m!==null&&(a.attributes[_]=m)}))),d="";break;case"retain":p>0&&(a={retain:p},Vg(u)||(a.attributes=Ug({},u))),p=0;break}a&&e.push(a),l=null}};for(;s!==null;){switch(s.content.constructor){case wi:case qo:this.adds(s)?this.deletes(s)||(f(),l="insert",d=s.content.getContent()[0],f()):this.deletes(s)?(l!=="delete"&&(f(),l="delete"),h+=1):s.deleted||(l!=="retain"&&(f(),l="retain"),p+=1);break;case yi:this.adds(s)?this.deletes(s)||(l!=="insert"&&(f(),l="insert"),d+=s.content.str):this.deletes(s)?(l!=="delete"&&(f(),l="delete"),h+=s.length):s.deleted||(l!=="retain"&&(f(),l="retain"),p+=s.length);break;case In:{const{key:a,value:m}=s.content;if(this.adds(s)){if(!this.deletes(s)){const _=i.get(a)||null;io(_,m)?m!==null&&s.delete(r):(l==="retain"&&f(),io(m,o.get(a)||null)?delete u[a]:u[a]=m)}}else if(this.deletes(s)){o.set(a,m);const _=i.get(a)||null;io(_,m)||(l==="retain"&&f(),u[a]=_)}else if(!s.deleted){o.set(a,m);const _=u[a];_!==void 0&&(io(_,m)?_!==null&&s.delete(r):(l==="retain"&&f(),m===null?delete u[a]:u[a]=m))}s.deleted||(l==="insert"&&f(),Is(i,s.content));break}}s=s.right}for(f();e.length>0;){const a=e[e.length-1];if(a.retain!==void 0&&a.attributes===void 0)e.pop();else break}}),this._delta=e}return this._delta}}class Os extends Wn{constructor(t){super(),this._pending=t!==void 0?[()=>this.insert(0,t)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this._length}_integrate(t,e){super._integrate(t,e);try{this._pending.forEach(r=>r())}catch(r){console.error(r)}this._pending=null}_copy(){return new Os}clone(){const t=new Os;return t.applyDelta(this.toDelta()),t}_callObserver(t,e){super._callObserver(t,e);const r=new a5(this,t,e);Zl(this,t,r),!t.local&&this._hasFormatting&&(t._needFormattingCleanup=!0)}toString(){let t="",e=this._start;for(;e!==null;)!e.deleted&&e.countable&&e.content.constructor===yi&&(t+=e.content.str),e=e.right;return t}toJSON(){return this.toString()}applyDelta(t,{sanitize:e=!0}={}){this.doc!==null?Qe(this.doc,r=>{const i=new vc(null,this._start,0,new Map);for(let o=0;o<t.length;o++){const s=t[o];if(s.insert!==void 0){const l=!e&&typeof s.insert=="string"&&o===t.length-1&&i.right===null&&s.insert.slice(-1)===`
`?s.insert.slice(0,-1):s.insert;(typeof l!="string"||l.length>0)&&Hu(r,this,i,l,s.attributes||{})}else s.retain!==void 0?mh(r,this,i,s.retain,s.attributes||{}):s.delete!==void 0&&yh(r,i,s.delete)}}):this._pending.push(()=>this.applyDelta(t))}toDelta(t,e,r){const i=[],o=new Map,s=this.doc;let l="",u=this._start;function d(){if(l.length>0){const h={};let f=!1;o.forEach((m,_)=>{f=!0,h[_]=m});const a={insert:l};f&&(a.attributes=h),i.push(a),l=""}}const p=()=>{for(;u!==null;){if(us(u,t)||e!==void 0&&us(u,e))switch(u.content.constructor){case yi:{const h=o.get("ychange");t!==void 0&&!us(u,t)?(h===void 0||h.user!==u.id.client||h.type!=="removed")&&(d(),o.set("ychange",r?r("removed",u.id):{type:"removed"})):e!==void 0&&!us(u,e)?(h===void 0||h.user!==u.id.client||h.type!=="added")&&(d(),o.set("ychange",r?r("added",u.id):{type:"added"})):h!==void 0&&(d(),o.delete("ychange")),l+=u.content.str;break}case wi:case qo:{d();const h={insert:u.content.getContent()[0]};if(o.size>0){const f={};h.attributes=f,o.forEach((a,m)=>{f[m]=a})}i.push(h);break}case In:us(u,t)&&(d(),Is(o,u.content));break}u=u.right}d()};return t||e?Qe(s,h=>{t&&pc(h,t),e&&pc(h,e),p()},"cleanup"):p(),i}insert(t,e,r){if(e.length<=0)return;const i=this.doc;i!==null?Qe(i,o=>{const s=yl(o,this,t,!r);r||(r={},s.currentAttributes.forEach((l,u)=>{r[u]=l})),Hu(o,this,s,e,r)}):this._pending.push(()=>this.insert(t,e,r))}insertEmbed(t,e,r){const i=this.doc;i!==null?Qe(i,o=>{const s=yl(o,this,t,!r);Hu(o,this,s,e,r||{})}):this._pending.push(()=>this.insertEmbed(t,e,r||{}))}delete(t,e){if(e===0)return;const r=this.doc;r!==null?Qe(r,i=>{yh(i,yl(i,this,t,!0),e)}):this._pending.push(()=>this.delete(t,e))}format(t,e,r){if(e===0)return;const i=this.doc;i!==null?Qe(i,o=>{const s=yl(o,this,t,!1);s.right!==null&&mh(o,this,s,e,r)}):this._pending.push(()=>this.format(t,e,r))}removeAttribute(t){this.doc!==null?Qe(this.doc,e=>{Dl(e,this,t)}):this._pending.push(()=>this.removeAttribute(t))}setAttribute(t,e){this.doc!==null?Qe(this.doc,r=>{Bc(r,this,t,e)}):this._pending.push(()=>this.setAttribute(t,e))}getAttribute(t){return Uc(this,t)}getAttributes(){return Fd(this)}_write(t){t.writeTypeRef(L5)}}const l5=n=>new Os;class Vu{constructor(t,e=()=>!0){this._filter=e,this._root=t,this._currentNode=t._start,this._firstCall=!0}[Symbol.iterator](){return this}next(){let t=this._currentNode,e=t&&t.content&&t.content.type;if(t!==null&&(!this._firstCall||t.deleted||!this._filter(e)))do if(e=t.content.type,!t.deleted&&(e.constructor===Aa||e.constructor===To)&&e._start!==null)t=e._start;else for(;t!==null;)if(t.right!==null){t=t.right;break}else t.parent===this._root?t=null:t=t.parent._item;while(t!==null&&(t.deleted||!this._filter(t.content.type)));return this._firstCall=!1,t===null?{value:void 0,done:!0}:(this._currentNode=t,{value:t.content.type,done:!1})}}class To extends Wn{constructor(){super(),this._prelimContent=[]}get firstChild(){const t=this._first;return t?t.content.getContent()[0]:null}_integrate(t,e){super._integrate(t,e),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new To}clone(){const t=new To;return t.insert(0,this.toArray().map(e=>e instanceof Wn?e.clone():e)),t}get length(){return this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(t){return new Vu(this,t)}querySelector(t){t=t.toUpperCase();const r=new Vu(this,i=>i.nodeName&&i.nodeName.toUpperCase()===t).next();return r.done?null:r.value}querySelectorAll(t){return t=t.toUpperCase(),lo(new Vu(this,e=>e.nodeName&&e.nodeName.toUpperCase()===t))}_callObserver(t,e){Zl(this,t,new f5(this,e,t))}toString(){return jd(this,t=>t.toString()).join("")}toJSON(){return this.toString()}toDOM(t=document,e={},r){const i=t.createDocumentFragment();return r!==void 0&&r._createAssociation(i,this),_a(this,o=>{i.insertBefore(o.toDOM(t,e,r),null)}),i}insert(t,e){this.doc!==null?Qe(this.doc,r=>{Rd(r,this,t,e)}):this._prelimContent.splice(t,0,...e)}insertAfter(t,e){if(this.doc!==null)Qe(this.doc,r=>{const i=t&&t instanceof Wn?t._item:t;Ml(r,this,i,e)});else{const r=this._prelimContent,i=t===null?0:r.findIndex(o=>o===t)+1;if(i===0&&t!==null)throw co("Reference item not found");r.splice(i,0,...e)}}delete(t,e=1){this.doc!==null?Qe(this.doc,r=>{qd(r,this,t,e)}):this._prelimContent.splice(t,e)}toArray(){return Id(this)}push(t){this.insert(this.length,t)}unshift(t){this.insert(0,t)}get(t){return Md(this,t)}slice(t=0,e=this.length){return Td(this,t,e)}forEach(t){_a(this,t)}_write(t){t.writeTypeRef(O5)}}const u5=n=>new To;class Aa extends To{constructor(t="UNDEFINED"){super(),this.nodeName=t,this._prelimAttrs=new Map}get nextSibling(){const t=this._item?this._item.next:null;return t?t.content.type:null}get prevSibling(){const t=this._item?this._item.prev:null;return t?t.content.type:null}_integrate(t,e){super._integrate(t,e),this._prelimAttrs.forEach((r,i)=>{this.setAttribute(i,r)}),this._prelimAttrs=null}_copy(){return new Aa(this.nodeName)}clone(){const t=new Aa(this.nodeName),e=this.getAttributes();return Hg(e,(r,i)=>{typeof r=="string"&&t.setAttribute(i,r)}),t.insert(0,this.toArray().map(r=>r instanceof Wn?r.clone():r)),t}toString(){const t=this.getAttributes(),e=[],r=[];for(const l in t)r.push(l);r.sort();const i=r.length;for(let l=0;l<i;l++){const u=r[l];e.push(u+'="'+t[u]+'"')}const o=this.nodeName.toLocaleLowerCase(),s=e.length>0?" "+e.join(" "):"";return`<${o}${s}>${super.toString()}</${o}>`}removeAttribute(t){this.doc!==null?Qe(this.doc,e=>{Dl(e,this,t)}):this._prelimAttrs.delete(t)}setAttribute(t,e){this.doc!==null?Qe(this.doc,r=>{Bc(r,this,t,e)}):this._prelimAttrs.set(t,e)}getAttribute(t){return Uc(this,t)}hasAttribute(t){return Bd(this,t)}getAttributes(t){return t?Q2(this,t):Fd(this)}toDOM(t=document,e={},r){const i=t.createElement(this.nodeName),o=this.getAttributes();for(const s in o){const l=o[s];typeof l=="string"&&i.setAttribute(s,l)}return _a(this,s=>{i.appendChild(s.toDOM(t,e,r))}),r!==void 0&&r._createAssociation(i,this),i}_write(t){t.writeTypeRef(k5),t.writeKey(this.nodeName)}}const c5=n=>new Aa(n.readKey());class f5 extends Jl{constructor(t,e,r){super(t,r),this.childListChanged=!1,this.attributesChanged=new Set,e.forEach(i=>{i===null?this.childListChanged=!0:this.attributesChanged.add(i)})}}class Rl extends ks{constructor(t){super(),this.hookName=t}_copy(){return new Rl(this.hookName)}clone(){const t=new Rl(this.hookName);return this.forEach((e,r)=>{t.set(r,e)}),t}toDOM(t=document,e={},r){const i=e[this.hookName];let o;return i!==void 0?o=i.createDom(this):o=document.createElement(this.hookName),o.setAttribute("data-yjs-hook",this.hookName),r!==void 0&&r._createAssociation(o,this),o}_write(t){t.writeTypeRef(E5),t.writeKey(this.hookName)}}const h5=n=>new Rl(n.readKey());class ql extends Os{get nextSibling(){const t=this._item?this._item.next:null;return t?t.content.type:null}get prevSibling(){const t=this._item?this._item.prev:null;return t?t.content.type:null}_copy(){return new ql}clone(){const t=new ql;return t.applyDelta(this.toDelta()),t}toDOM(t=document,e,r){const i=t.createTextNode(this.toString());return r!==void 0&&r._createAssociation(i,this),i}toString(){return this.toDelta().map(t=>{const e=[];for(const i in t.attributes){const o=[];for(const s in t.attributes[i])o.push({key:s,value:t.attributes[i][s]});o.sort((s,l)=>s.key<l.key?-1:1),e.push({nodeName:i,attrs:o})}e.sort((i,o)=>i.nodeName<o.nodeName?-1:1);let r="";for(let i=0;i<e.length;i++){const o=e[i];r+=`<${o.nodeName}`;for(let s=0;s<o.attrs.length;s++){const l=o.attrs[s];r+=` ${l.key}="${l.value}"`}r+=">"}r+=t.insert;for(let i=e.length-1;i>=0;i--)r+=`</${e[i].nodeName}>`;return r}).join("")}toJSON(){return this.toString()}_write(t){t.writeTypeRef(P5)}}const d5=n=>new ql;class zc{constructor(t,e){this.id=t,this.length=e}get deleted(){throw vi()}mergeWith(t){return!1}write(t,e,r){throw vi()}integrate(t,e){throw vi()}}const p5=0;class Ur extends zc{get deleted(){return!0}delete(){}mergeWith(t){return this.constructor!==t.constructor?!1:(this.length+=t.length,!0)}integrate(t,e){e>0&&(this.id.clock+=e,this.length-=e),Ld(t.doc.store,this)}write(t,e){t.writeInfo(p5),t.writeLen(this.length-e)}getMissing(t,e){return null}}class Ea{constructor(t){this.content=t}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new Ea(this.content)}splice(t){throw vi()}mergeWith(t){return!1}integrate(t,e){}delete(t){}gc(t){}write(t,e){t.writeBuf(this.content)}getRef(){return 3}}const g5=n=>new Ea(n.readBuf());class Sa{constructor(t){this.len=t}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new Sa(this.len)}splice(t){const e=new Sa(this.len-t);return this.len=t,e}mergeWith(t){return this.len+=t.len,!0}integrate(t,e){Il(t.deleteSet,e.id.client,e.id.clock,this.len),e.markDeleted()}delete(t){}gc(t){}write(t,e){t.writeLen(this.len-e)}getRef(){return 1}}const v5=n=>new Sa(n.readLen()),Wd=(n,t)=>new Ts({guid:n,...t,shouldLoad:t.shouldLoad||t.autoLoad||!1});class Pa{constructor(t){t._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=t;const e={};this.opts=e,t.gc||(e.gc=!1),t.autoLoad&&(e.autoLoad=!0),t.meta!==null&&(e.meta=t.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new Pa(Wd(this.doc.guid,this.opts))}splice(t){throw vi()}mergeWith(t){return!1}integrate(t,e){this.doc._item=e,t.subdocsAdded.add(this.doc),this.doc.shouldLoad&&t.subdocsLoaded.add(this.doc)}delete(t){t.subdocsAdded.has(this.doc)?t.subdocsAdded.delete(this.doc):t.subdocsRemoved.add(this.doc)}gc(t){}write(t,e){t.writeString(this.doc.guid),t.writeAny(this.opts)}getRef(){return 9}}const m5=n=>new Pa(Wd(n.readString(),n.readAny()));class qo{constructor(t){this.embed=t}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new qo(this.embed)}splice(t){throw vi()}mergeWith(t){return!1}integrate(t,e){}delete(t){}gc(t){}write(t,e){t.writeJSON(this.embed)}getRef(){return 5}}const y5=n=>new qo(n.readJSON());class In{constructor(t,e){this.key=t,this.value=e}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new In(this.key,this.value)}splice(t){throw vi()}mergeWith(t){return!1}integrate(t,e){const r=e.parent;r._searchMarker=null,r._hasFormatting=!0}delete(t){}gc(t){}write(t,e){t.writeKey(this.key),t.writeJSON(this.value)}getRef(){return 6}}const b5=n=>new In(n.readKey(),n.readJSON());class Fl{constructor(t){this.arr=t}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new Fl(this.arr)}splice(t){const e=new Fl(this.arr.slice(t));return this.arr=this.arr.slice(0,t),e}mergeWith(t){return this.arr=this.arr.concat(t.arr),!0}integrate(t,e){}delete(t){}gc(t){}write(t,e){const r=this.arr.length;t.writeLen(r-e);for(let i=e;i<r;i++){const o=this.arr[i];t.writeString(o===void 0?"undefined":JSON.stringify(o))}}getRef(){return 2}}const w5=n=>{const t=n.readLen(),e=[];for(let r=0;r<t;r++){const i=n.readString();i==="undefined"?e.push(void 0):e.push(JSON.parse(i))}return new Fl(e)};class Io{constructor(t){this.arr=t}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new Io(this.arr)}splice(t){const e=new Io(this.arr.slice(t));return this.arr=this.arr.slice(0,t),e}mergeWith(t){return this.arr=this.arr.concat(t.arr),!0}integrate(t,e){}delete(t){}gc(t){}write(t,e){const r=this.arr.length;t.writeLen(r-e);for(let i=e;i<r;i++){const o=this.arr[i];t.writeAny(o)}}getRef(){return 8}}const _5=n=>{const t=n.readLen(),e=[];for(let r=0;r<t;r++)e.push(n.readAny());return new Io(e)};class yi{constructor(t){this.str=t}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new yi(this.str)}splice(t){const e=new yi(this.str.slice(t));this.str=this.str.slice(0,t);const r=this.str.charCodeAt(t-1);return r>=55296&&r<=56319&&(this.str=this.str.slice(0,t-1)+"�",e.str="�"+e.str.slice(1)),e}mergeWith(t){return this.str+=t.str,!0}integrate(t,e){}delete(t){}gc(t){}write(t,e){t.writeString(e===0?this.str:this.str.slice(e))}getRef(){return 4}}const A5=n=>new yi(n.readString()),S5=[e5,r5,l5,c5,u5,h5,d5],x5=0,N5=1,L5=2,k5=3,O5=4,E5=5,P5=6;class wi{constructor(t){this.type=t}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new wi(this.type._copy())}splice(t){throw vi()}mergeWith(t){return!1}integrate(t,e){this.type._integrate(t.doc,e)}delete(t){let e=this.type._start;for(;e!==null;)e.deleted?e.id.clock<(t.beforeState.get(e.id.client)||0)&&t._mergeStructs.push(e):e.delete(t),e=e.right;this.type._map.forEach(r=>{r.deleted?r.id.clock<(t.beforeState.get(r.id.client)||0)&&t._mergeStructs.push(r):r.delete(t)}),t.changed.delete(this.type)}gc(t){let e=this.type._start;for(;e!==null;)e.gc(t,!0),e=e.right;this.type._start=null,this.type._map.forEach(r=>{for(;r!==null;)r.gc(t,!0),r=r.left}),this.type._map=new Map}write(t,e){this.type._write(t)}getRef(){return 7}}const C5=n=>new wi(S5[n.readTypeRef()](n)),bh=(n,t)=>{let e=t,r=0,i;do r>0&&(e=_e(e.client,e.clock+r)),i=Ol(n,e),r=e.clock-i.id.clock,e=i.redone;while(e!==null&&i instanceof mn);return{item:i,diff:r}},Bl=(n,t,e)=>{const{client:r,clock:i}=t.id,o=new mn(_e(r,i+e),t,_e(r,i+e-1),t.right,t.rightOrigin,t.parent,t.parentSub,t.content.splice(e));return t.deleted&&o.markDeleted(),t.keep&&(o.keep=!0),t.redone!==null&&(o.redone=_e(t.redone.client,t.redone.clock+e)),t.right=o,o.right!==null&&(o.right.left=o),n._mergeStructs.push(o),o.parentSub!==null&&o.right===null&&o.parent._map.set(o.parentSub,o),t.length=e,o};class mn extends zc{constructor(t,e,r,i,o,s,l,u){super(t,u.getLength()),this.origin=r,this.left=e,this.right=i,this.rightOrigin=o,this.parent=s,this.parentSub=l,this.redone=null,this.content=u,this.info=this.content.isCountable()?Gf:0}set marker(t){(this.info&Fu)>0!==t&&(this.info^=Fu)}get marker(){return(this.info&Fu)>0}get keep(){return(this.info&$f)>0}set keep(t){this.keep!==t&&(this.info^=$f)}get countable(){return(this.info&Gf)>0}get deleted(){return(this.info&qu)>0}set deleted(t){this.deleted!==t&&(this.info^=qu)}markDeleted(){this.info|=qu}getMissing(t,e){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=Pn(e,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=Pn(e,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===bs&&this.id.client!==this.parent.client&&this.parent.clock>=Pn(e,this.parent.client))return this.parent.client;if(this.origin&&(this.left=hh(t,e,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=fo(t,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===Ur||this.right&&this.right.constructor===Ur)this.parent=null;else if(!this.parent)this.left&&this.left.constructor===mn&&(this.parent=this.left.parent,this.parentSub=this.left.parentSub),this.right&&this.right.constructor===mn&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===bs){const r=Ol(e,this.parent);r.constructor===Ur?this.parent=null:this.parent=r.content.type}return null}integrate(t,e){if(e>0&&(this.id.clock+=e,this.left=hh(t,t.doc.store,_e(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(e),this.length-=e),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let r=this.left,i;if(r!==null)i=r.right;else if(this.parentSub!==null)for(i=this.parent._map.get(this.parentSub)||null;i!==null&&i.left!==null;)i=i.left;else i=this.parent._start;const o=new Set,s=new Set;for(;i!==null&&i!==this.right;){if(s.add(i),o.add(i),hs(this.origin,i.origin)){if(i.id.client<this.id.client)r=i,o.clear();else if(hs(this.rightOrigin,i.rightOrigin))break}else if(i.origin!==null&&s.has(Ol(t.doc.store,i.origin)))o.has(Ol(t.doc.store,i.origin))||(r=i,o.clear());else break;i=i.right}this.left=r}if(this.left!==null){const r=this.left.right;this.right=r,this.left.right=this}else{let r;if(this.parentSub!==null)for(r=this.parent._map.get(this.parentSub)||null;r!==null&&r.left!==null;)r=r.left;else r=this.parent._start,this.parent._start=this;this.right=r}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(t)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),Ld(t.doc.store,this),this.content.integrate(t,this),ph(t,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(t)}else new Ur(this.id,this.length).integrate(t,0)}get next(){let t=this.right;for(;t!==null&&t.deleted;)t=t.right;return t}get prev(){let t=this.left;for(;t!==null&&t.deleted;)t=t.left;return t}get lastId(){return this.length===1?this.id:_e(this.id.client,this.id.clock+this.length-1)}mergeWith(t){if(this.constructor===t.constructor&&hs(t.origin,this.lastId)&&this.right===t&&hs(this.rightOrigin,t.rightOrigin)&&this.id.client===t.id.client&&this.id.clock+this.length===t.id.clock&&this.deleted===t.deleted&&this.redone===null&&t.redone===null&&this.content.constructor===t.content.constructor&&this.content.mergeWith(t.content)){const e=this.parent._searchMarker;return e&&e.forEach(r=>{r.p===t&&(r.p=this,!this.deleted&&this.countable&&(r.index-=this.length))}),t.keep&&(this.keep=!0),this.right=t.right,this.right!==null&&(this.right.left=this),this.length+=t.length,!0}return!1}delete(t){if(!this.deleted){const e=this.parent;this.countable&&this.parentSub===null&&(e._length-=this.length),this.markDeleted(),Il(t.deleteSet,this.id.client,this.id.clock,this.length),ph(t,e,this.parentSub),this.content.delete(t)}}gc(t,e){if(!this.deleted)throw ri();this.content.gc(t),e?R2(t,this,new Ur(this.id,this.length)):this.content=new Sa(this.length)}write(t,e){const r=e>0?_e(this.id.client,this.id.clock+e-1):this.origin,i=this.rightOrigin,o=this.parentSub,s=this.content.getRef()&Wl|(r===null?0:Cr)|(i===null?0:Ti)|(o===null?0:ga);if(t.writeInfo(s),r!==null&&t.writeLeftID(r),i!==null&&t.writeRightID(i),r===null&&i===null){const l=this.parent;if(l._item!==void 0){const u=l._item;if(u===null){const d=Sd(l);t.writeParentInfo(!0),t.writeString(d)}else t.writeParentInfo(!1),t.writeLeftID(u.id)}else l.constructor===String?(t.writeParentInfo(!0),t.writeString(l)):l.constructor===bs?(t.writeParentInfo(!1),t.writeLeftID(l)):ri();o!==null&&t.writeString(o)}this.content.write(t,e)}}const $d=(n,t)=>T5[t&Wl](n),T5=[()=>{ri()},v5,w5,g5,A5,y5,b5,C5,_5,m5,()=>{ri()}],I5=10;class zr extends zc{get deleted(){return!0}delete(){}mergeWith(t){return this.constructor!==t.constructor?!1:(this.length+=t.length,!0)}integrate(t,e){ri()}write(t,e){t.writeInfo(I5),Ee(t.restEncoder,this.length-e)}getMissing(t,e){return null}}const Gd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{},Kd="__ $YJS$ __";Gd[Kd]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438");Gd[Kd]=!0;const Yd=()=>new Set,j5=Array.from,M5=String.fromCharCode,D5=n=>n.toLowerCase(),R5=/^\s*/g,q5=n=>n.replace(R5,""),F5=/([A-Z])/g,wh=(n,t)=>q5(n.replace(F5,e=>`${t}${D5(e)}`)),B5=n=>{const t=unescape(encodeURIComponent(n)),e=t.length,r=new Uint8Array(e);for(let i=0;i<e;i++)r[i]=t.codePointAt(i);return r},xa=typeof TextEncoder<"u"?new TextEncoder:null,U5=n=>xa.encode(n),z5=xa?U5:B5;let ca=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});ca&&ca.decode(new Uint8Array).length===1&&(ca=null);const _s=()=>new Map,Jd=(n,t,e)=>{let r=n.get(t);return r===void 0&&n.set(t,r=e()),r},_h=n=>n===void 0?null:n;class H5{constructor(){this.map=new Map}setItem(t,e){this.map.set(t,e)}getItem(t){return this.map.get(t)}}let Xd=new H5,Hc=!0;try{typeof localStorage<"u"&&(Xd=localStorage,Hc=!1)}catch{}const Zd=Xd,V5=n=>Hc||addEventListener("storage",n),W5=n=>Hc||removeEventListener("storage",n),$5=Object.keys,G5=(n,t)=>{const e=[];for(const r in n)e.push(t(n[r],r));return e},Ah=n=>$5(n).length,K5=(n,t)=>Object.prototype.hasOwnProperty.call(n,t),Y5=(n,t)=>n===t,fa=(n,t)=>{if(n==null||t==null)return Y5(n,t);if(n.constructor!==t.constructor)return!1;if(n===t)return!0;switch(n.constructor){case ArrayBuffer:n=new Uint8Array(n),t=new Uint8Array(t);case Uint8Array:{if(n.byteLength!==t.byteLength)return!1;for(let e=0;e<n.length;e++)if(n[e]!==t[e])return!1;break}case Set:{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;break}case Map:{if(n.size!==t.size)return!1;for(const e of n.keys())if(!t.has(e)||!fa(n.get(e),t.get(e)))return!1;break}case Object:if(Ah(n)!==Ah(t))return!1;for(const e in n)if(!K5(n,e)||!fa(n[e],t[e]))return!1;break;case Array:if(n.length!==t.length)return!1;for(let e=0;e<n.length;e++)if(!fa(n[e],t[e]))return!1;break;default:return!1}return!0},J5=(n,t)=>t.includes(n),Es=typeof process<"u"&&process.release&&/node|io\.js/.test(process.release.name),Qd=typeof window<"u"&&typeof document<"u"&&!Es;let fi;const X5=()=>{if(fi===void 0)if(Es){fi=_s();const n=process.argv;let t=null;for(let e=0;e<n.length;e++){const r=n[e];r[0]==="-"?(t!==null&&fi.set(t,""),t=r):t!==null&&(fi.set(t,r),t=null)}t!==null&&fi.set(t,"")}else typeof location=="object"?(fi=_s(),(location.search||"?").slice(1).split("&").forEach(n=>{if(n.length!==0){const[t,e]=n.split("=");fi.set(`--${wh(t,"-")}`,e),fi.set(`-${wh(t,"-")}`,e)}})):fi=_s();return fi},mc=n=>X5().has(n),yc=n=>_h(Es?process.env[n.toUpperCase()]:Zd.getItem(n)),Z5=n=>mc("--"+n)||yc(n)!==null;Z5("production");const Sh=Es&&J5({}.FORCE_COLOR,["true","1","2"]);!mc("no-colors")&&(!Es||process.stdout.isTTY||Sh)&&(!Es||mc("color")||Sh||yc("COLORTERM")!==null||(yc("TERM")||"").includes("color"));const tp=Math.floor,ep=(n,t)=>n<t?n:t,Q5=(n,t)=>n>t?n:t,tv=Math.pow,np=128,Pl=127,ev=Number.MAX_SAFE_INTEGER,rp=n=>new Error(n),nv=rp("Unexpected end of array"),rv=rp("Integer out of Range");class iv{constructor(t){this.arr=t,this.pos=0}}const ip=n=>new iv(n),ov=(n,t)=>{const e=sp(n.arr.buffer,n.pos+n.arr.byteOffset,t);return n.pos+=t,e},Ql=n=>ov(n,oo(n)),xh=n=>n.arr[n.pos++],oo=n=>{let t=0,e=1;const r=n.arr.length;for(;n.pos<r;){const i=n.arr[n.pos++];if(t=t+(i&Pl)*e,e*=128,i<np)return t;if(t>ev)throw rv}throw nv},sv=n=>{let t=oo(n);if(t===0)return"";{let e=String.fromCodePoint(xh(n));if(--t<100)for(;t--;)e+=String.fromCodePoint(xh(n));else for(;t>0;){const r=t<1e4?t:1e4,i=n.arr.subarray(n.pos,n.pos+r);n.pos+=r,e+=String.fromCodePoint.apply(null,i),t-=r}return decodeURIComponent(escape(e))}},av=n=>ca.decode(Ql(n)),op=ca?av:sv,lv=n=>new Uint8Array(n),sp=(n,t,e)=>new Uint8Array(n,t,e),uv=n=>new Uint8Array(n),cv=n=>{let t="";for(let e=0;e<n.byteLength;e++)t+=M5(n[e]);return btoa(t)},fv=n=>Buffer.from(n.buffer,n.byteOffset,n.byteLength).toString("base64"),hv=n=>{const t=atob(n),e=lv(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e},dv=n=>{const t=Buffer.from(n,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)},pv=Qd?cv:fv,gv=Qd?hv:dv;class vv{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const Fr=()=>new vv,Vc=n=>{let t=n.cpos;for(let e=0;e<n.bufs.length;e++)t+=n.bufs[e].length;return t},Er=n=>{const t=new Uint8Array(Vc(n));let e=0;for(let r=0;r<n.bufs.length;r++){const i=n.bufs[r];t.set(i,e),e+=i.length}return t.set(sp(n.cbuf.buffer,0,n.cpos),e),t},Ul=(n,t)=>{const e=n.cbuf.length;n.cpos===e&&(n.bufs.push(n.cbuf),n.cbuf=new Uint8Array(e*2),n.cpos=0),n.cbuf[n.cpos++]=t},Sn=(n,t)=>{for(;t>Pl;)Ul(n,np|Pl&t),t=tp(t/128);Ul(n,Pl&t)},bc=new Uint8Array(3e4),mv=bc.length/3,yv=(n,t)=>{if(t.length<mv){const e=xa.encodeInto(t,bc).written||0;Sn(n,e);for(let r=0;r<e;r++)Ul(n,bc[r])}else Ii(n,z5(t))},bv=(n,t)=>{const e=unescape(encodeURIComponent(t)),r=e.length;Sn(n,r);for(let i=0;i<r;i++)Ul(n,e.codePointAt(i))},wv=xa&&xa.encodeInto?yv:bv,_v=(n,t)=>{const e=n.cbuf.length,r=n.cpos,i=ep(e-r,t.length),o=t.length-i;n.cbuf.set(t.subarray(0,i),r),n.cpos+=i,o>0&&(n.bufs.push(n.cbuf),n.cbuf=new Uint8Array(Q5(e*2,o)),n.cbuf.set(t.subarray(i)),n.cpos=o)},Ii=(n,t)=>{Sn(n,t.byteLength),_v(n,t)},jo=Date.now;class ap{constructor(){this._observers=_s()}on(t,e){Jd(this._observers,t,Yd).add(e)}once(t,e){const r=(...i)=>{this.off(t,r),e(...i)};this.on(t,r)}off(t,e){const r=this._observers.get(t);r!==void 0&&(r.delete(e),r.size===0&&this._observers.delete(t))}emit(t,e){return j5((this._observers.get(t)||_s()).values()).forEach(r=>r(...e))}destroy(){this._observers=_s()}}const Wu=3e4;class Av extends ap{constructor(t){super(),this.doc=t,this.clientID=t.clientID,this.states=new Map,this.meta=new Map,this._checkInterval=setInterval(()=>{const e=jo();this.getLocalState()!==null&&Wu/2<=e-this.meta.get(this.clientID).lastUpdated&&this.setLocalState(this.getLocalState());const r=[];this.meta.forEach((i,o)=>{o!==this.clientID&&Wu<=e-i.lastUpdated&&this.states.has(o)&&r.push(o)}),r.length>0&&Wc(this,r,"timeout")},tp(Wu/10)),t.on("destroy",()=>{this.destroy()}),this.setLocalState({})}destroy(){this.emit("destroy",[this]),this.setLocalState(null),super.destroy(),clearInterval(this._checkInterval)}getLocalState(){return this.states.get(this.clientID)||null}setLocalState(t){const e=this.clientID,r=this.meta.get(e),i=r===void 0?0:r.clock+1,o=this.states.get(e);t===null?this.states.delete(e):this.states.set(e,t),this.meta.set(e,{clock:i,lastUpdated:jo()});const s=[],l=[],u=[],d=[];t===null?d.push(e):o==null?t!=null&&s.push(e):(l.push(e),fa(o,t)||u.push(e)),(s.length>0||u.length>0||d.length>0)&&this.emit("change",[{added:s,updated:u,removed:d},"local"]),this.emit("update",[{added:s,updated:l,removed:d},"local"])}setLocalStateField(t,e){const r=this.getLocalState();r!==null&&this.setLocalState({...r,[t]:e})}getStates(){return this.states}}const Wc=(n,t,e)=>{const r=[];for(let i=0;i<t.length;i++){const o=t[i];if(n.states.has(o)){if(n.states.delete(o),o===n.clientID){const s=n.meta.get(o);n.meta.set(o,{clock:s.clock+1,lastUpdated:jo()})}r.push(o)}}r.length>0&&(n.emit("change",[{added:[],updated:[],removed:r},e]),n.emit("update",[{added:[],updated:[],removed:r},e]))},ha=(n,t,e=n.states)=>{const r=t.length,i=Fr();Sn(i,r);for(let o=0;o<r;o++){const s=t[o],l=e.get(s)||null,u=n.meta.get(s).clock;Sn(i,s),Sn(i,u),wv(i,JSON.stringify(l))}return Er(i)},Sv=(n,t,e)=>{const r=ip(t),i=jo(),o=[],s=[],l=[],u=[],d=oo(r);for(let p=0;p<d;p++){const h=oo(r);let f=oo(r);const a=JSON.parse(op(r)),m=n.meta.get(h),_=n.states.get(h),A=m===void 0?0:m.clock;(A<f||A===f&&a===null&&n.states.has(h))&&(a===null?h===n.clientID&&n.getLocalState()!=null?f++:n.states.delete(h):n.states.set(h,a),n.meta.set(h,{clock:f,lastUpdated:i}),m===void 0&&a!==null?o.push(h):m!==void 0&&a===null?u.push(h):a!==null&&(fa(a,_)||l.push(h),s.push(h)))}(o.length>0||l.length>0||u.length>0)&&n.emit("change",[{added:o,updated:l,removed:u},e]),(o.length>0||s.length>0||u.length>0)&&n.emit("update",[{added:o,updated:s,removed:u},e])},bl=(n,t,e,r,i)=>{try{if(t&&t.cursor&&e!==r.clientID){const o=t.user||{},s=o.color||"#ffa500",l=o.name||`User: ${e}`;n.createCursor(e.toString(),l,s);const u=ch(lh(t.cursor.anchor),r),d=ch(lh(t.cursor.head),r);u&&d&&u.type===i&&n.moveCursor(e.toString(),{index:u.index,length:d.index-u.index})}else n.removeCursor(e.toString())}catch(o){console.error(o)}};class xv{constructor(t,e,r){const i=t.doc;this.type=t,this.doc=i,this.quill=e;const o=e.getModule("cursors")||null;this.quillCursors=o,this._negatedUsedFormats={},this.awareness=r,this._awarenessChange=({added:s,removed:l,updated:u})=>{const d=r.getStates();s.forEach(p=>{bl(o,d.get(p),p,i,t)}),u.forEach(p=>{bl(o,d.get(p),p,i,t)}),l.forEach(p=>{o.removeCursor(p.toString())})},this._typeObserver=s=>{if(s.transaction.origin!==this){const l=s.delta,u=[];for(let d=0;d<l.length;d++){const p=l[d];p.insert!==void 0?u.push(Object.assign({},p,{attributes:Object.assign({},this._negatedUsedFormats,p.attributes||{})})):u.push(p)}e.updateContents(u,this)}},t.observe(this._typeObserver),this._quillObserver=(s,l,u,d)=>{if(l&&l.ops){const p=l.ops;p.forEach(h=>{if(h.attributes!==void 0)for(let f in h.attributes)this._negatedUsedFormats[f]===void 0&&(this._negatedUsedFormats[f]=!1)}),d!==this&&i.transact(()=>{t.applyDelta(p)},this)}if(r&&o){const p=e.getSelection(),h=r.getLocalState();if(p===null)r.getLocalState()!==null&&r.setLocalStateField("cursor",null);else{const f=uh(t,p.index),a=uh(t,p.index+p.length);(!h||!h.cursor||!fh(f,h.cursor.anchor)||!fh(a,h.cursor.head))&&r.setLocalStateField("cursor",{anchor:f,head:a})}r.getStates().forEach((f,a)=>{bl(o,f,a,i,t)})}},e.on("editor-change",this._quillObserver),e.setContents(t.toDelta(),this),o!==null&&r&&(r.getStates().forEach((s,l)=>{bl(o,s,l,i,t)}),r.on("change",this._awarenessChange))}destroy(){this.type.unobserve(this._typeObserver),this.quill.off("editor-change",this._quillObserver),this.awareness&&this.awareness.off("change",this._awarenessChange)}}const lp=new Map;class Nv{constructor(t){this.room=t,this.onmessage=null,this._onChange=e=>e.key===t&&this.onmessage!==null&&this.onmessage({data:gv(e.newValue||"")}),V5(this._onChange)}postMessage(t){Zd.setItem(this.room,pv(uv(t)))}close(){W5(this._onChange)}}const Lv=typeof BroadcastChannel>"u"?Nv:BroadcastChannel,$c=n=>Jd(lp,n,()=>{const t=Yd(),e=new Lv(n);return e.onmessage=r=>t.forEach(i=>i(r.data,"broadcastchannel")),{bc:e,subs:t}}),kv=(n,t)=>($c(n).subs.add(t),t),Ov=(n,t)=>{const e=$c(n),r=e.subs.delete(t);return r&&e.subs.size===0&&(e.bc.close(),lp.delete(n)),r},cs=(n,t,e=null)=>{const r=$c(n);r.bc.postMessage(t),r.subs.forEach(i=>i(t,e))},up=0,Gc=1,cp=2,wc=(n,t)=>{Sn(n,up);const e=T2(t);Ii(n,e)},fp=(n,t,e)=>{Sn(n,Gc),Ii(n,O2(t,e))},Ev=(n,t,e)=>fp(t,e,Ql(n)),hp=(n,t,e)=>{try{N2(t,Ql(n),e)}catch(r){console.error("Caught error while handling a Yjs update",r)}},Pv=(n,t)=>{Sn(n,cp),Ii(n,t)},Cv=hp,Tv=(n,t,e,r)=>{const i=oo(n);switch(i){case up:Ev(n,t,e);break;case Gc:hp(n,e,r);break;case cp:Cv(n,e,r);break;default:throw new Error("Unknown message type")}return i},Iv=0,jv=(n,t,e)=>{switch(oo(n)){case Iv:e(t,op(n))}},Mv=n=>G5(n,(t,e)=>`${encodeURIComponent(e)}=${encodeURIComponent(t)}`).join("&"),ko=0,dp=3,As=1,Dv=2,Ca=[];Ca[ko]=(n,t,e,r,i)=>{Sn(n,ko);const o=Tv(t,n,e.doc,e);r&&o===Gc&&!e.synced&&(e.synced=!0)};Ca[dp]=(n,t,e,r,i)=>{Sn(n,As),Ii(n,ha(e.awareness,Array.from(e.awareness.getStates().keys())))};Ca[As]=(n,t,e,r,i)=>{Sv(e.awareness,Ql(t),e)};Ca[Dv]=(n,t,e,r,i)=>{jv(t,e.doc,(o,s)=>Rv(e,s))};const Nh=3e4,Rv=(n,t)=>console.warn(`Permission denied to access ${n.url}.
${t}`),pp=(n,t,e)=>{const r=ip(t),i=Fr(),o=oo(r),s=n.messageHandlers[o];return s?s(i,r,n,e,o):console.error("Unable to compute message"),i},gp=n=>{if(n.shouldConnect&&n.ws===null){const t=new n._WS(n.url);t.binaryType="arraybuffer",n.ws=t,n.wsconnecting=!0,n.wsconnected=!1,n.synced=!1,t.onmessage=e=>{n.wsLastMessageReceived=jo();const r=pp(n,new Uint8Array(e.data),!0);Vc(r)>1&&t.send(Er(r))},t.onerror=e=>{n.emit("connection-error",[e,n])},t.onclose=e=>{n.emit("connection-close",[e,n]),n.ws=null,n.wsconnecting=!1,n.wsconnected?(n.wsconnected=!1,n.synced=!1,Wc(n.awareness,Array.from(n.awareness.getStates().keys()).filter(r=>r!==n.doc.clientID),n),n.emit("status",[{status:"disconnected"}])):n.wsUnsuccessfulReconnects++,setTimeout(gp,ep(tv(2,n.wsUnsuccessfulReconnects)*100,n.maxBackoffTime),n)},t.onopen=()=>{n.wsLastMessageReceived=jo(),n.wsconnecting=!1,n.wsconnected=!0,n.wsUnsuccessfulReconnects=0,n.emit("status",[{status:"connected"}]);const e=Fr();if(Sn(e,ko),wc(e,n.doc),t.send(Er(e)),n.awareness.getLocalState()!==null){const r=Fr();Sn(r,As),Ii(r,ha(n.awareness,[n.doc.clientID])),t.send(Er(r))}},n.emit("status",[{status:"connecting"}])}},$u=(n,t)=>{const e=n.ws;n.wsconnected&&e&&e.readyState===e.OPEN&&e.send(t),n.bcconnected&&cs(n.bcChannel,t,n)};class qv extends ap{constructor(t,e,r,{connect:i=!0,awareness:o=new Av(r),params:s={},WebSocketPolyfill:l=WebSocket,resyncInterval:u=-1,maxBackoffTime:d=2500,disableBc:p=!1}={}){for(super();t[t.length-1]==="/";)t=t.slice(0,t.length-1);const h=Mv(s);this.maxBackoffTime=d,this.bcChannel=t+"/"+e,this.url=t+"/"+e+(h.length===0?"":"?"+h),this.roomname=e,this.doc=r,this._WS=l,this.awareness=o,this.wsconnected=!1,this.wsconnecting=!1,this.bcconnected=!1,this.disableBc=p,this.wsUnsuccessfulReconnects=0,this.messageHandlers=Ca.slice(),this._synced=!1,this.ws=null,this.wsLastMessageReceived=0,this.shouldConnect=i,this._resyncInterval=0,u>0&&(this._resyncInterval=setInterval(()=>{if(this.ws&&this.ws.readyState===WebSocket.OPEN){const f=Fr();Sn(f,ko),wc(f,r),this.ws.send(Er(f))}},u)),this._bcSubscriber=(f,a)=>{if(a!==this){const m=pp(this,new Uint8Array(f),!1);Vc(m)>1&&cs(this.bcChannel,Er(m),this)}},this._updateHandler=(f,a)=>{if(a!==this){const m=Fr();Sn(m,ko),Pv(m,f),$u(this,Er(m))}},this.doc.on("update",this._updateHandler),this._awarenessUpdateHandler=({added:f,updated:a,removed:m},_)=>{const A=f.concat(a).concat(m),v=Fr();Sn(v,As),Ii(v,ha(o,A)),$u(this,Er(v))},this._unloadHandler=()=>{Wc(this.awareness,[r.clientID],"window unload")},typeof window<"u"?window.addEventListener("unload",this._unloadHandler):typeof process<"u"&&process.on("exit",this._unloadHandler),o.on("update",this._awarenessUpdateHandler),this._checkInterval=setInterval(()=>{this.wsconnected&&Nh<jo()-this.wsLastMessageReceived&&this.ws.close()},Nh/10),i&&this.connect()}get synced(){return this._synced}set synced(t){this._synced!==t&&(this._synced=t,this.emit("synced",[t]),this.emit("sync",[t]))}destroy(){this._resyncInterval!==0&&clearInterval(this._resyncInterval),clearInterval(this._checkInterval),this.disconnect(),typeof window<"u"?window.removeEventListener("unload",this._unloadHandler):typeof process<"u"&&process.off("exit",this._unloadHandler),this.awareness.off("update",this._awarenessUpdateHandler),this.doc.off("update",this._updateHandler),super.destroy()}connectBc(){if(this.disableBc)return;this.bcconnected||(kv(this.bcChannel,this._bcSubscriber),this.bcconnected=!0);const t=Fr();Sn(t,ko),wc(t,this.doc),cs(this.bcChannel,Er(t),this);const e=Fr();Sn(e,ko),fp(e,this.doc),cs(this.bcChannel,Er(e),this);const r=Fr();Sn(r,dp),cs(this.bcChannel,Er(r),this);const i=Fr();Sn(i,As),Ii(i,ha(this.awareness,[this.doc.clientID])),cs(this.bcChannel,Er(i),this)}disconnectBc(){const t=Fr();Sn(t,As),Ii(t,ha(this.awareness,[this.doc.clientID],new Map)),$u(this,Er(t)),this.bcconnected&&(Ov(this.bcChannel,this._bcSubscriber),this.bcconnected=!1)}disconnect(){this.shouldConnect=!1,this.disconnectBc(),this.ws!==null&&this.ws.close()}connect(){this.shouldConnect=!0,!this.wsconnected&&this.ws===null&&(gp(this),this.connectBc())}}function Fv({username:n,doc:t,provider:e}){if(!t&&!e)return new Error("Failed to create awareness,pleace afferented doc or procider into the function. ");let{awareness:r}=e||{awareness:new awarenessProtocol.Awareness(t)},i=Math.random().toString(16).split(".")[1],o="#"+i.slice(0,6),s={name:n||`用户_${i.slice(0,3)}`,color:o};return r.setLocalStateField("user",s),r}class Bv{constructor(t,e,r){this.ydoc=new Ts;const i=this.ydoc.getText("quill"),o=new qv(`${e1}?yjs`,e,this.ydoc);Ku.commit("setWebsocketProvider",o),new xv(i,t.quill,Fv({username:r,provider:o}))}}const Uv=[[{icon:"icon-chexiao",title:"撤销"},{icon:"icon-zhongzuo",title:"重做"},{icon:"icon-cachu",title:"清空"},{icon:"icon-anjianfengexian",title:""},{icon:"icon-cuti",title:"粗体"},{icon:"icon-italic",title:"斜体"},{icon:"icon-strikethrough",title:"删除线"},{icon:"icon-zitixiahuaxian",title:"下划线"}],[{icon:"icon-anjianfengexian",title:""},{icon:"icon-tupian",title:"插入图片"},{icon:"icon-baocun",title:"每30秒自动保存"},{icon:"icon-daochu",title:"导出为pdf"}],[{icon:"icon-24gl-fullScreenEnter2",title:"进入全屏"}]];const zv={class:"toolbar"},Hv={class:"toolbar-left"},Vv=["title","onClick"],Wv={class:"iconfont icon-zitiyanse"},$v={class:"colorBox"},Gv=["title","onClick"],Kv={class:"iconfont icon-emoji emoji",title:"emoji"},Yv={class:"emoji-box"},Jv=["onClick"],Xv={class:"toolbar-right"},Zv=["title","onClick"],Qv={__name:"tabbar",setup(n){let t=da({});const e=ti("");let r=ti("");n1(r,p=>t.format("color",p));const i=da(Uv),o=p=>{switch(p){case"icon-chexiao":t.undo();break;case"icon-zhongzuo":t.redo();break;case"icon-cachu":t.clear();break;case"icon-cuti":case"icon-italic":case"icon-strikethrough":case"icon-zitixiahuaxian":t.format(p);break;case"icon-baocun":s(JSON.stringify(t.getDetail()));break;case"icon-daochu":t.format(p);break;case"icon-tupian":e.value.click();break;case"icon-24gl-fullScreenEnter2":document.querySelector(".header").style.display="none",i[2].pop(),i[2].push({icon:"icon-a-122-tuichuquanping",title:"退出全屏"});break;case"icon-a-122-tuichuquanping":document.querySelector(".header").style.display="flex",i[2].pop(),i[2].push({icon:"icon-24gl-fullScreenEnter2",title:"进入全屏"});break}},s=async p=>{let h=n0(JSON.stringify(JSON.parse(p).ops).toString()),f=Yu.currentRoute.value.params.fileid,{userid:a}=JSON.parse(sessionStorage.getItem("user")),m=await p1({fileid:f,userid:a,content:h});if(m.code!==200)return Oo.error(m.msg);Oo.success(m.msg)},l=p=>t.insertText(p),u=async p=>{let{files:h}=p.target,f=new FormData;f.append("file",h[0]);let a=await g1(f);if(a.code!==200)return Oo.error(a.msg);t.insertEmbed(null,"image",i1+a.data)},d=async p=>{let{ops:h}=t.getDetail();if(h[0].insert!==`
`)return;let f=await v1({fileid:p});f.code===200&&t.init(f.data)};return _c(()=>{let{fileid:p}=Yu.currentRoute.value.params,{username:h}=JSON.parse(sessionStorage.getItem("user"));t=new eg("#edit"),t.focus(),setTimeout(()=>d(p),100),new Bv(t,p,h)}),(p,h)=>{const f=ei("el-scrollbar");return ze(),cn("div",zv,[ue("div",Hv,[(ze(!0),cn(eo,null,no(i[0],a=>(ze(),cn("i",{key:a.icon,class:wl(["iconfont",a.icon]),title:a.title,onClick:m=>o(a.icon)},null,10,Vv))),128)),ue("i",Wv,[ue("div",$v,[Oh(ue("input",{"onUpdate:modelValue":h[0]||(h[0]=a=>Eh(r)?r.value=a:r=a),type:"color"},null,512),[[r1,ur(r)]])])]),(ze(!0),cn(eo,null,no(i[1],a=>(ze(),cn("i",{key:a.icon,class:wl(["iconfont",a.icon]),title:a.title,onClick:m=>o(a.icon)},null,10,Gv))),128)),ue("i",Kv,[ue("div",Yv,[Hr(f,{height:"150px"},{default:Br(()=>[(ze(!0),cn(eo,null,no(ur(Z1),a=>(ze(),cn("span",{onClick:m=>l(a),key:a},ji(a),9,Jv))),128))]),_:1})])])]),ue("div",Xv,[(ze(!0),cn(eo,null,no(i[2],a=>(ze(),cn("i",{key:a.icon,class:wl(["iconfont",a.icon]),title:a.title,onClick:m=>o(a.icon)},null,10,Zv))),128))]),ue("input",{onChange:u,type:"file",style:{display:"none"},name:"file",id:"file",ref_key:"uploadRef",ref:e,accept:"image/*"},null,544)])}}},tm=Mo(Qv,[["__scopeId","data-v-634478c1"]]);const em=n=>(Ac("data-v-e95d0dd3"),n=n(),Sc(),n),nm={class:"edit"},rm=em(()=>ue("div",{id:"edit"},null,-1)),im={__name:"index",setup(n){return(t,e)=>(ze(),cn("div",nm,[Hr(tm),rm]))}},om=Mo(im,[["__scopeId","data-v-e95d0dd3"]]),sm=(n,t,e)=>{n&&Object.keys(n).forEach(r=>{r!=="subscribe"&&r!=="unsubscribe"&&e.emitter.addListener(r,n[r],t)})},am=(n,t,e)=>{n&&Object.keys(n).forEach(r=>{e.emitter.removeListener(r,t)})};const lm=n=>(Ac("data-v-a68a6c24"),n=n(),Sc(),n),um={class:"editbox"},cm={class:"editbox-left"},fm={class:"editbox-right"},hm=lm(()=>ue("div",{class:"editbox-right-top"},"文档交流区",-1)),dm={class:"editbox-right-main"},pm=["innerHTML"],gm={class:"item-info"},vm={class:"item-info-username"},mm={class:"item-info-content"},ym={class:"editbox-right-footer"},bm={__name:"index",setup(n){let t=ti(!1),e=()=>(t.value=!t.value,d.value=0),r=JSON.parse(sessionStorage.getItem("user")),i=ti(""),o=o1("socket"),{proxy:s}=s1();var l=da([]);let u=da([]),d=ti(0),p=ti(""),h={join:m=>{l.splice(0),m.forEach(_=>l.push(_))},message:m=>{u.push(m),t.value?d.value=0:d.value++}},f=()=>{let{userimg:m,userid:_,username:A}=JSON.parse(sessionStorage.getItem("user")),v={userimg:m,userid:_,username:A,time:c1().unix(),content:i.value};o.io.emit("send",{fileid:p.value,content:v}),i.value=""};const a=(m,_)=>{o.io.connect(),o.io.emit("init",{user:_,fileid:m})};return _c(()=>{p.value=window.location.hash.split("edit/")[1];let m=JSON.parse(sessionStorage.getItem("user"));a(p.value,m),sm(h,s,o)}),a1(()=>{am(h,s,o)}),(m,_)=>{const A=ei("el-scrollbar"),v=ei("el-input");return ze(),cn("div",um,[ue("div",cm,[Hr(X1,{onOpen:ur(e),socketuserlist:ur(l),unread:ur(d)},null,8,["onOpen","socketuserlist","unread"]),Hr(om)]),Oh(ue("div",fm,[hm,ue("div",dm,[Hr(A,{height:"100%"},{default:Br(()=>[(ze(!0),cn(eo,null,no(ur(u),g=>(ze(),cn("div",{key:g.userid,class:wl(["item",g.userid===ur(r).userid?"my":""])},[ue("div",{class:"userimg_svg",innerHTML:g.userimg},null,8,pm),ue("div",gm,[ue("div",vm,ji(g.username),1),ue("div",mm,ji(g.content),1)])],2))),128))]),_:1})]),ue("div",ym,[Hr(v,{modelValue:ur(i),"onUpdate:modelValue":_[0]||(_[0]=g=>Eh(i)?i.value=g:i=g),onKeydown:u1(ur(f),["enter"])},null,8,["modelValue","onKeydown"])])],512),[[l1,ur(t)]])])}}},wm=Mo(bm,[["__scopeId","data-v-a68a6c24"]]),Om=Object.freeze(Object.defineProperty({__proto__:null,default:wm},Symbol.toStringTag,{value:"Module"}));export{He as _,Om as i};
